import{r as a,j as e,G as c,a as s,L as T,x as p,y as $,u as B,v as te,N as se,O as re}from"./index.a110b74a.js";import{u as ae,b as oe,c as ne,q as le,t as ie,r as ce,s as de,d as me,v as he,w as ue,x as pe,y as xe,z as fe,A as ge,B as we,C as ye}from"./firebase.1e964ad2.js";import{z,u as E,A as D,B as H,D as A,q as W,W as x,m as f,S as be,H as ve}from"./SearchBarModal.f793de82.js";import{S as b,u as O,D as M,d as Ne,p as V,e as ke,X as L,f as Ce,H as Ie,I as Fe,B as Re,C as je,a as Ue,P as Pe,T as Le}from"./TopScroll.40685bfb.js";function Se(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})}const Te=a.exports.forwardRef(Se),Oe=Te;function qe(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}const Me=a.exports.forwardRef(qe),$e=Me;function Be(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}const ze=a.exports.forwardRef(Be),Ee=ze;function De(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})}const He=a.exports.forwardRef(De),Ae=He;function We(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}const Ve=a.exports.forwardRef(We),Ye=Ve;function _e(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}const Ge=a.exports.forwardRef(_e),Xe=Ge;function Ze(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}const Ke=a.exports.forwardRef(Ze),Y=Ke;function Je(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}const Qe=a.exports.forwardRef(Je),et=Qe;function tt(r,t){return e("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},r),children:e("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}const st=a.exports.forwardRef(tt),rt=st;function _({profileDocId:r,loggedInUserDocId:t,username:l,fullName:m,userImage:o,profileId:n,loggedInUserId:i}){const[u,h]=a.exports.useState(!1);async function d(){h(!0),await ae(t,n,!1),await oe(r,i,!1)}return!u&&s("div",{className:"border flex w-44 flex-col p-4 items-center space-y-2 rounded-lg bg-gray-100 bg-opacity-30",children:[e("img",{src:o,alt:`${l}`,className:"rounded-full cursor-pointer h-20 w-20 border"}),s(T,{to:`/profile/${l}`,className:"text-center",children:[e("h2",{className:"font-semibold cursor-pointer -mt-1",children:l}),e("h3",{className:"text-gray-400 text-sm truncate mb-2",children:m})]}),e("button",{className:"text-md font-semibold text-white border rounded-md w-28 py-1 bg-sky-400 hover:bg-sky-500",onClick:d,children:"Follow"})]})}_.propType={profileDocId:c.exports.string.isRequired,username:c.exports.string.isRequired,fullName:c.exports.string.isRequired,userImage:c.exports.string.isRequired,profileId:c.exports.string.isRequired,loggedInUserId:c.exports.string.isRequired,loggedInUserDocId:c.exports.string.isRequired};function P({userId:r,following:t,loggedInUserDocId:l}){const[m,o]=p(z),[n,i]=a.exports.useState(null),u=a.exports.useRef(null);function h(d){u.current.scrollLeft+=d}return a.exports.useEffect(()=>{async function d(){const g=await ne(r,t);i(g)}r&&d()},[r]),n&&m&&n.length>0&&s("div",{className:"bg-white min-w-full max-w-none border border-gray-200 rounded-md py-4 -mx-7 md:-mx-0 overflow-hidden space-y-2 mb-2 relative",children:[e("button",{className:"left-2 bg-gray-500 bg-opacity-40 text-white px-1 py-2 z-1 h-8 shadow-md rounded-full w-8 flex items-center justify-center absolute top-[50%]",onClick:()=>h(-500),children:e($e,{className:"h-5 w-5"})}),e("button",{className:"right-2 bg-gray-500 bg-opacity-40 text-white px-1 py-2 z-1 h-8 shadow-md rounded-full w-8 flex items-center justify-center absolute top-[47.3%]",onClick:()=>h(500),children:e(Ee,{className:"h-5 w-5 "})}),e("p",{className:"text-gray-500 text-lg px-6",children:"Suggested Accounts For You"}),e("div",{className:"flex space-x-2 overflow-y-scroll scrollbar-hide px-6 scroll-smooth scroll- transition-all ease-in delay-200",ref:u,children:n.map(d=>e(_,{profileDocId:d.id,username:d.username,fullName:d.fullName,userImage:d.image,profileId:d.userId,loggedInUserId:r,loggedInUserDocId:l},d.id))})]})}P.propTypes={userId:c.exports.string,following:c.exports.array,loggedInUserDocId:c.exports.string};function at(){return s("div",{className:"container flex flex-col py-2 space-y-1",children:[e(G,{}),e("div",{className:"grid grid-cols-3 h-0",children:Array.from({length:3}).map((r,t)=>e("div",{className:"overflow-hidden py-[75%] pt-0 px-0 md:px-[25%]",children:e(b,{height:250,width:250,containerClassName:"grid grid-cols-3 space-x-5 gap-3 lg:gap-1 h-0",className:""})},t))})]})}function G(){return s($,{children:[s("div",{className:"flex justify-evenly max-w-sm md:max-w-none md:border-b md:py-2",children:[e("p",{className:"object-contain h-24 w-24 sm:h-32 sm:w-32 md:h-40 md:w-40 ",children:e(b,{circle:!0,width:"100%",height:"100%",className:"ml-4 mr-4"})}),s("div",{className:"flex-col flex mr-2 space-y-3 md:ml-5",children:[s("div",{className:"flex space-y-2 md:space-x-4 md:space-y-0 flex-col md:flex-row mt-4",children:[e(b,{width:150,height:20,className:"ml-4 mr-4"}),e(b,{width:150,height:20,className:"ml-4 mr-4"})]}),s("div",{className:"hidden md:inline-flex flex-col space-y-2 ml-4 mr-4",children:[e(b,{width:150,height:20}),e(b,{width:350,height:10,count:4}),e(b,{width:80,height:20,count:3,containerClassName:"flex space-x-6 justify-between max-w-sm"})]})]})]}),s("div",{className:"mx-6 md:hidden space-y-4 ",children:[e(b,{width:150,height:20,className:"my-4"}),e(b,{height:10,count:4}),e(b,{width:80,height:20,count:3,containerClassName:"flex space-x-6 justify-between  border-y -mx-6 px-6 py-4"})]})]})}function X({photosCount:r,profile:t,followerCount:l,followingCount:m,setFollowerCount:o}){const{user:n}=E(),i=n.username&&n.username!==t.username,[u,h]=p(D),[d,g]=p(H),[v,N]=p(A),[w,k]=p(z),[q,C]=p(O),[F,R]=a.exports.useState(!1);a.exports.useEffect(()=>{const I=async()=>{const S=await le(n.username,t.userId);R(!!S)};n.username&&t.userId&&I()},[n.username,t.userId]);const j=async()=>{R(I=>!I),o({followerCount:F?l-1:l+1}),await ie(F,n.id,t.id,t.userId,n.userId)};return t.image?s("div",{className:"container flex flex-col space-y-1 py-2",children:[s("div",{className:"flex max-w-sm justify-evenly md:max-w-none md:py-2",children:[e("img",{src:t.image,alt:"",className:"ml-4 mr-4 h-24 w-24 rounded-full object-cover sm:h-32 sm:w-32 md:h-40  md:w-40"}),s("div",{className:"mr-2 flex flex-col space-y-3 md:ml-5",children:[s("div",{className:"flex flex-col space-y-2 md:flex-row md:space-x-4 md:space-y-0",children:[s("p",{className:"flex items-center justify-between text-xl sm:text-2xl md:text-3xl md:font-light",children:[t.username,e(M,{className:"mr-2 h-5 w-5 md:hidden"})]}),s("div",{className:"flex space-x-2",children:[i?e($,{children:F?e("button",{className:"text-md w-48 rounded-md border-2 border-gray-200 bg-white py-1 font-semibold text-black hover:bg-gray-200 hover:bg-opacity-40",type:"button",onClick:j,children:"Unfollow"}):e("button",{className:"text-md w-48 rounded-md border bg-sky-400 py-1 font-semibold text-white hover:bg-sky-500",type:"button",onClick:j,children:"Follow"})}):e("button",{className:"text-md w-48 rounded-md border-2 border-gray-200 bg-white py-1 font-semibold text-black hover:bg-gray-200 hover:bg-opacity-40 xxs:w-44",type:"button",onClick:()=>h(!0),children:"Edit Profile"}),e("button",{className:"flex w-9 items-center justify-center rounded-md border-2 border-gray-200 bg-white hover:bg-gray-200 hover:bg-opacity-40",type:"button",onClick:()=>k(!w),children:w?e(Ae,{className:"h-5 w-5"}):e(Oe,{className:"h-5 w-5"})})]}),e("p",{className:"hidden items-center md:flex ",children:e(M,{className:"h-5 w-5"})})]}),s("div",{className:"hidden flex-col space-y-2 md:inline-flex ",children:[e("p",{className:"text-xl font-semibold ",children:t.fullName}),e("p",{className:"whitespace-pre-line pb-2 text-sm",children:t.bio}),s("div",{className:"flex max-w-sm justify-between text-base text-gray-400",children:[s("p",{children:[e("span",{className:"text-xl font-semibold text-black",children:r})," ",r===1?"Post":"Posts"]}),s("p",{className:" cursor-pointer",onClick:()=>{g(!0),C(t.id)},children:[e("span",{className:"text-xl font-semibold text-black",children:l})," ",l===1?"Follower":"Followers"]}),s("p",{className:" cursor-pointer",onClick:()=>{N(!0),C(t.id)},children:[e("span",{className:"text-xl font-semibold text-black",children:m})," ","Following"]})]})]})]})]}),e("div",{className:"hidden md:flex",children:e(P,{userId:n.userId,following:n.following,loggedInUserDocId:n.id})}),s("div",{className:"hidden justify-between border-y px-20 pb-1 text-center text-lg font-semibold text-gray-700 md:inline-flex",children:[s("p",{className:"-mb-1 flex w-16 cursor-pointer flex-col items-center py-1 transition ease-in hover:border-t-2 hover:border-gray-700",children:[e(et,{className:"-mb-1 h-7 w-7 text-gray-400"})," Posts"]}),s("p",{className:"-mb-1 flex w-20 cursor-pointer flex-col items-center py-1 transition ease-in hover:border-t-2 hover:border-gray-700",children:[e(Xe,{className:"-mb-1 h-7 w-7 text-gray-400"})," Tagged"]}),s("p",{className:"-mb-1 flex w-16 cursor-pointer flex-col items-center py-1 transition ease-in hover:border-t-2 hover:border-gray-700",children:[e(Ne,{className:"-mb-1 h-7 w-7 text-gray-400"})," Saved"]})]}),s("div",{className:" mx-6 space-y-2 md:hidden",children:[e("p",{className:"-ml-2  font-semibold",children:t.fullName}),e("p",{className:" -ml-2 whitespace-pre-line pb-2 text-sm",children:t.bio}),e(P,{userId:n.userId,following:n.following,loggedInUserDocId:n.id}),s("div",{className:"-mx-6 flex justify-between border-y  px-10 py-2 text-center text-sm font-semibold text-gray-400",children:[s("p",{className:"flex flex-col",children:[e("span",{className:"-mb-1 text-lg font-bold text-black",children:r}),r===1?"Post":"Posts"]}),s("p",{className:"flex cursor-pointer flex-col",onClick:()=>{g(!0),C(t.id)},children:[e("span",{className:"-mb-1 text-lg font-bold text-black",children:l}),l===1?"Follower":"Followers"]}),s("p",{className:"flex cursor-pointer flex-col",onClick:()=>{N(!0),C(t.id)},children:[e("span",{className:"-mb-1 text-lg font-bold text-black",children:m}),"Following"]})]})]})]}):e(G,{})}X.propTypes={photosCount:c.exports.number.isRequired,followerCount:c.exports.number.isRequired,followingCount:c.exports.number.isRequired,setFollowerCount:c.exports.func.isRequired,profile:c.exports.shape({id:c.exports.string,userId:c.exports.string,username:c.exports.string,image:c.exports.string,bio:c.exports.string,fullName:c.exports.string,following:c.exports.array}).isRequired};function Z({image:r,photoId:t,likes:l}){const[m,o]=a.exports.useState(0),[n,i]=p(W),[u,h]=p(V);return a.exports.useEffect(()=>{t&&(async()=>{const g=await ce(t);o(g)})()},[t]),s("div",{onClick:()=>{i(!0),h(t)},children:[e("img",{src:r,alt:"",className:"h-40 min-h-full border object-cover object-center xxs:h-32 xs:h-36 sm:h-40 md:h-44 lg:h-48 "}),s("div",{className:"absolute inset-0 z-10 hidden min-h-full min-w-full items-center justify-evenly group-hover:flex group-hover:bg-black group-hover:bg-opacity-70",children:[s("p",{className:"flex items-center font-bold text-white",children:[e(ke,{className:"mr-1 h-5 w-5"}),l]}),s("p",{className:"flex items-center font-bold text-white",children:[e(rt,{className:"mr-1 h-5 w-5"}),m]})]})]})}Z.propTypes={image:c.exports.string.isRequired,photoId:c.exports.string.isRequired,likes:c.exports.number.isRequired};function K({photos:r}){return r.length>0?e("div",{className:"grid h-0 grid-cols-3 justify-center gap-1 ",children:r.map(t=>e("div",{className:"group relative h-0 w-auto cursor-pointer overflow-hidden py-[75%] px-0 pt-0",children:e(Z,{image:t.imageSrc,photoId:t.id,likes:t.likes.length})},t.id))}):e("div",{className:"my-4 text-center text-3xl",children:"No Posts Yet..."})}K.propTypes={photos:c.exports.array.isRequired};function J({user:r}){const t=(h,d)=>({...h,...d}),l={profile:{},photosCollection:[],followerCount:0,followingCount:0},[{profile:m,photosCollection:o,followerCount:n,followingCount:i},u]=a.exports.useReducer(t,l);return a.exports.useEffect(()=>{async function h(){const d=await de(r.username);u({profile:r,photosCollection:d,followerCount:r.followers.length,followingCount:r.following.length})}h()},[r.username]),s("div",{children:[e(X,{photosCount:o?o.length:0,profile:m,followerCount:n,followingCount:i,setFollowerCount:u}),e(K,{photos:o})]})}J.propTypes={user:c.exports.shape({username:c.exports.string.isRequired,image:c.exports.string.isRequired,bio:c.exports.string.isRequired,fullName:c.exports.string.isRequired,userId:c.exports.string.isRequired,emailAddress:c.exports.string.isRequired,followers:c.exports.array.isRequired,following:c.exports.array.isRequired,dateCreated:c.exports.number.isRequired})};function ot(){const[r,t]=p(D),[l,m]=a.exports.useState(""),[o,n]=a.exports.useState(""),[i,u]=a.exports.useState(null),[h,d]=a.exports.useState(""),[g,v]=a.exports.useState(!1),[N,w]=a.exports.useState(""),{user:{username:k,fullName:q,userId:C,bio:F,id:R}}=E();let j=B();const I=a.exports.useRef(null),S=y=>{const U=new FileReader;y.target.files[0]&&U.readAsDataURL(y.target.files[0]),U.onload=ee=>{u(ee.target.result)}},Q=async y=>{y.preventDefault();const U=await me(o);g||(d(h.trim()),m(l.trim()),n(o.trim()),!/^[A-Za-z ]+$/.test(l)&&l!==""?(w("Invalid Name."),m("")):!/^[A-Za-z0-9_.]+$/.test(o)&&o!==""?(w("Invalid Username. Only alphanumeric characters and '_' and '.' are allowed."),n("")):!U.length||l!==""?(v(!0),n(o.toLowerCase()),await he(k,o,i),await ue(k,o,i),await pe(R,C,k,q,F,o,l,h,i),await xe(k,o),setTimeout(()=>{u(null),v(!1),t(!1),o&&j(`/profile/${o}`),document.location.reload()},4e3)):(n(""),w("Username already exists. Please choose another one")))};return e(x.Root,{show:r,as:a.exports.Fragment,children:e(f,{as:"div",className:"fixed inset-0 z-[60] overflow-y-auto",onClose:t,children:s("div",{className:"m-2 flex min-h-screen items-center  justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(f.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"\u200B"}),e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s("div",{className:"inline-block w-[90%] transform space-y-4 overflow-hidden rounded-lg bg-white p-4 text-left align-bottom shadow-xl transition-all sm:my-8 sm:max-w-lg sm:p-6 sm:align-middle",children:[e("button",{className:"float-right outline-none",onClick:()=>{t(!1),v(!1),u(null),m(""),d(""),n(""),w("")},children:e(L,{className:" h-6  w-6 cursor-pointer text-gray-300"})}),s("div",{as:"h3",className:"flex items-center space-x-3 text-xl sm:text-2xl ",children:[e("div",{className:" flex h-14 w-14 items-center justify-center rounded-full bg-red-100",children:e(Ye,{className:"mt-[2px] h-8 w-8 text-red-600"})}),e("span",{children:"Edit Your Profile"})]}),e("hr",{}),s("div",{className:"max-h-96 space-y-3 overflow-y-scroll scrollbar-hide",children:[N&&e("p",{className:"error-text mx-1 mt-0",children:N}),s("form",{children:[s("div",{className:"flex space-x-1 xxs:flex-col xxs:space-x-0 ",children:[e("input",{type:"text",required:!0,"aria-label":"Enter Your Full Name",placeholder:"Edit Full Name",className:"mb-1 h-2 w-full rounded-md border-[2.4px] border-gray-300 bg-gray-400 bg-opacity-5 py-6 px-2 text-lg text-black scrollbar-hide hover:border-gray-500 focus:outline-none",onChange:({target:y})=>{m(y.value),w()},value:l}),e("input",{type:"text",required:!0,"aria-label":"Enter Your User Name",placeholder:"Edit Username",className:" mb-1 h-2 w-full rounded-md border-[2.4px] border-gray-300 bg-gray-400 bg-opacity-5 py-6 px-2 text-lg text-black scrollbar-hide hover:border-gray-500 focus:outline-none",onChange:({target:y})=>{n(y.value),w()},value:o})]}),s("div",{children:[e("textarea",{type:"text",required:!0,"aria-label":"Enter Your Bio",placeholder:"Edit Bio...",className:"h-20 w-full rounded-md border-[2.4px] border-gray-300 bg-gray-400 bg-opacity-5 p-2 text-sm text-black scrollbar-hide placeholder:text-lg hover:border-gray-500 focus:outline-none",onChange:({target:y})=>{d(y.value),w()},value:h,maxLength:200}),s("p",{className:"text-sm text-green-600 ",children:[h.length," / 200"]})]}),s("div",{children:[e("p",{className:"mx-1 my-3 text-center text-xl ",children:"Upload / Edit Your Profile Image"}),i?e("img",{src:i,alt:"Posting Image",className:"w-full cursor-pointer object-contain",onClick:()=>u(null)}):e("div",{onClick:()=>I.current.click(),className:"mx-auto flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-red-100",children:e(Ce,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),e("div",{children:s("div",{className:"mt-3 text-center sm:mt-5",children:[e(f.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-500",children:i?"Note: Click on the Photo to Reselect.":"Click on the Icon to Select An Image."}),e("div",{children:e("input",{type:"file",accept:"image/*",hidden:!0,onChange:S,ref:I})})]})}),e("div",{className:"mx-1 mt-5 mb-1 sm:mt-6",children:e("button",{className:"disables:bg-gray-400 inline-flex w-full justify-center rounded-md border border-transparent bg-red-400 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:cursor-not-allowed sm:text-sm ",onClick:Q,type:"button",disabled:N,children:g?"Saving Your Details...":"Save Details"})})]})]})]})]})})]})})})}function nt(){const[r,t]=p(H),[l,m]=p(O),[o,n]=a.exports.useState([]);return a.exports.useEffect(()=>{r?l!==""&&(async()=>(await fe(l)).map(h=>{n(d=>[...d,h[0]])}))():(m(""),n([]))},[l,r]),e(x.Root,{show:r,as:a.exports.Fragment,children:e(f,{as:"div",className:"fixed inset-0 overflow-y-auto z-[60]",onClose:t,children:s("div",{className:"flex items-center justify-center min-h-screen  pt-4 px-4 pb-20 text-center sm:block m-2 sm:p-0 ",children:[e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(f.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s("div",{className:"inline-block align-bottom bg-white rounded-lg p-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm w-full sm:p-6 space-y-4",children:[e("button",{className:"outline-none float-right",onClick:()=>t(!1),children:e(L,{className:" h-6  w-6 cursor-pointer text-gray-300"})}),s("div",{as:"h3",className:"flex items-center space-x-4  text-2xl ",children:[e("div",{className:" flex items-center justify-center h-14 w-14 rounded-full bg-red-100",children:e(Y,{className:"h-8 w-8 text-red-600 mt-[2px]"})}),e("span",{children:"Followers"})]}),e("hr",{}),e("div",{className:"overflow-y-scroll space-y-3 max-h-96 scrollbar-hide",children:o==null?void 0:o.map(i=>s("div",{className:"flex items-center",children:[e("img",{src:i.image,alt:`${i==null?void 0:i.username}`,className:"rounded-full w-14 h-14 object-cover border-2 border-gray-300 p-[2px] text-center mr-3"}),s(f.Title,{as:"h3",className:"font-bold text-gray-800",children:[e(T,{to:`/profile/${i.username}`,onClick:()=>t(!1),children:i.username}),e("p",{className:"text-gray-600 -mt-[2px] font-medium ",children:i.fullName})]})]},i.id))})]})})]})})})}function lt(){const[r,t]=p(A),[l,m]=p(O),[o,n]=a.exports.useState([]);return a.exports.useEffect(()=>{r?l!==""&&(async()=>(await ge(l)).map(h=>{n(d=>[...d,h[0]])}))():(m(""),n([]))},[l,r]),e(x.Root,{show:r,as:a.exports.Fragment,children:e(f,{as:"div",className:"fixed inset-0 overflow-y-auto z-[60]",onClose:t,children:s("div",{className:"flex items-center justify-center min-h-screen  pt-4 px-4 pb-20 text-center sm:block m-2 sm:p-0 ",children:[e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(f.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s("div",{className:"inline-block align-bottom bg-white rounded-lg p-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm w-full sm:p-6 space-y-4",children:[e("button",{className:"outline-none float-right",onClick:()=>t(!1),children:e(L,{className:" h-6  w-6 cursor-pointer text-gray-300"})}),s("div",{as:"h3",className:"flex items-center space-x-4  text-2xl ",children:[e("div",{className:" flex items-center justify-center h-14 w-14 rounded-full bg-red-100",children:e(Y,{className:"h-8 w-8 text-red-600 mt-[2px]"})}),e("span",{children:"Following"})]}),e("hr",{}),e("div",{className:"overflow-y-scroll space-y-3 max-h-96 scrollbar-hide",children:o==null?void 0:o.map(i=>s("div",{className:"flex items-center",children:[e("img",{src:i.image,alt:`${i==null?void 0:i.username}`,className:"rounded-full w-14 h-14 object-cover border-2 border-gray-300 p-[2px] text-center mr-3"}),s(f.Title,{as:"h3",className:"font-bold text-gray-800",children:[e(T,{to:`/profile/${i.username}`,onClick:()=>t(!1),children:i.username}),e("p",{className:"text-gray-600 -mt-[2px] font-medium ",children:i.fullName})]})]},i.id))})]})})]})})})}function it(){var d;const[r,t]=p(W),[l,m]=p(V),[o,n]=a.exports.useState(null),i=()=>u.current.focus(),u=a.exports.useRef(null),{user:{uid:h=""}}=a.exports.useContext(te);return a.exports.useEffect(()=>{r?l&&(async()=>{const v=await we(l,h);n(v)})():(m(""),n(null))},[l,r]),e(x.Root,{show:r,as:a.exports.Fragment,children:e(f,{as:"div",className:"fixed inset-0 z-[60] overflow-y-auto",onClose:t,children:s("div",{className:"m-2 flex min-h-screen items-center  justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(f.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"\u200B"}),e(x.Child,{as:a.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s("div",{className:"inline-block w-full max-w-sm transform space-y-4 overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:align-middle md:max-w-2xl",children:[e("button",{className:"float-right p-2 -ml-8 cursor-pointer outline-none ",onClick:()=>{t(!1),n(null)},children:e(L,{className:" h-6 w-6 text-gray-300"})}),o&&s("div",{className:"divide-y md:flex md:divide-y-0 md:space-y-6",children:[s("div",{className:"md:-mr-1 md:border-r",children:[e(Ie,{username:o.username,userImage:o.userImage}),e(Fe,{src:o.imageSrc,caption:o.caption}),e(Re,{id:l,totalLikes:(d=o.likes)==null?void 0:d.length,likedPhoto:o.userLikedPhoto,handleFocus:i}),e(je,{caption:o.caption,username:o.username})]}),e("div",{className:"items-end md:ml-1 md:flex",children:e(Ue,{id:l,postedAt:o.timestamp,commentInput:u})})]})]})})]})})})}function ut(){const{username:r}=se();let t=B();const[l,m]=a.exports.useState(null);return a.exports.useEffect(()=>{async function o(){const n=await ye(r);n.length>0?m(n[0]):t(re)}o()},[r,t]),s("div",{children:[e(be,{}),e(ot,{}),e(nt,{}),e(lt,{}),e(Pe,{}),e(P,{}),e(it,{}),e(Le,{}),e(ve,{}),e("div",{className:"mx-auto scrollbar-hide mt-20 -mb-6 h-full min-h-screen overflow-x-hidden pb-4 sm:max-w-xl md:max-w-2xl lg:max-w-[52rem] xl:max-w-4xl",children:l?e(J,{user:l}):e(at,{})})]})}export{ut as default};
