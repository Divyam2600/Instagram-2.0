import{B as P,u as S,r,g as A,j as a,a as p,L as U,b as v,f as I,c as L,d as Y,T as j,V as q}from"./index.a110b74a.js";import{d as k}from"./firebase.1e964ad2.js";const D=P(I);function T(){const N=S(),[n,d]=r.exports.useState(""),[u,l]=r.exports.useState(""),[h,o]=r.exports.useState(""),[f,e]=r.exports.useState(""),[i,c]=r.exports.useState(""),[m,g]=r.exports.useState(""),[b,w]=r.exports.useState(!1),y=A(),x=u===""||n===""||m===""||i===""||h==="",C=async s=>{s.preventDefault();const E=await k(i);if(f!=""&&w(!1),u!==h)e("Passwords Donot Match."),l(""),o("");else if(!/^[A-Za-z ]+$/.test(m))e("Invalid Name."),g("");else if(E.length)c(""),e("Username already exists. Please choose another one");else try{const t=await L(y,n,u);await Y(t.user,{displayName:i}),await j(q(D,"users"),{userId:t.user.uid,username:i.toLowerCase(),fullName:m,emailAddress:n.toLowerCase(),following:[],followers:[],dateCreated:Date.now(),image:"/images/default.png",bio:""}),N(v)}catch(t){t.code==="auth/email-already-exists"?(e("Email already exists."),d(""),l(""),o("")):t.code==="auth/invalid-email"?(e("Invalid Email. Please check."),d(""),l(""),o("")):t.code==="auth/invalid-display-name"?(e("Invalid Username. Only alphanumeric characters and '_' and '.' are allowed."),c("")):t.code==="auth/invalid-password"?(e("Invalid Password. Must be atleast 6 characters."),l(""),o("")):t.code==="auth/weak-password"?(e("Choose a stronger password."),l(""),o("")):(e(t.code),g(""),d(""),l(""),o(""),c(""))}};return r.exports.useEffect(()=>{document.title="Sign Up - Instagram 2.0"},[]),a("div",{className:"grid",children:p("div",{children:[p("div",{className:"top-grid my-3 p-[24px]",children:[a("h1",{className:"-mx-16 flex w-full justify-center ",children:a("img",{src:"/images/logo.png",alt:"Instagram Logo",className:"mt-4 mb-4 w-48 "})}),a("h1",{className:"flex justify-center text-center ",children:a("p",{className:"mb-8 text-[22px] font-semibold text-gray-400 ",children:"Sign up to see photos and videos from your friends."})}),f&&a("p",{className:"error-text",children:f}),p("form",{method:"POST",onSubmit:C,children:[a("input",{type:"text",required:!0,"aria-label":"Enter Your Full Name",placeholder:"Full Name",className:"input",onChange:({target:s})=>{g(s.value),e()},value:m}),a("input",{type:"text",required:!0,"aria-label":"Enter Your Username",placeholder:"Username",className:"input ",onChange:({target:s})=>{c(s.value),e()},value:i}),a("input",{type:"email",required:!0,"aria-label":"Enter Your Email Address",placeholder:"Email Address",className:"input ",onChange:({target:s})=>{d(s.value),e()},value:n}),a("input",{type:"password",required:!0,"aria-label":"Enter Your Password",placeholder:"Password",className:"input",onChange:({target:s})=>{l(s.value),e()},value:u}),a("input",{type:"password",required:!0,"aria-label":"Confirm Your Password",placeholder:"Confirm Password",className:"input",onChange:({target:s})=>{o(s.value),e()},value:h}),a("button",{className:`submit ${x&&" bg-opacity-40"}`,disabled:x===!0,type:"submit",onClick:()=>w(!0),children:b?"Creating Your Account":"Sign Up"})]})]}),p("div",{className:" bottom-grid",children:[a("p",{className:"mr-2 font-semibold",children:"Already have An Account?"}),a(U,{to:v,className:"font-bold text-blue-500",children:"Log In"})]})]})})}export{T as default};
