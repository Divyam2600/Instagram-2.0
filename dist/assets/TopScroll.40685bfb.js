import{r as c,j as s,a as x,A as j,y as lt,G as l,L as ge,R as ye,v as ct,x as M,H as qe,J as _e,B as ut,f as dt,M as pt}from"./index.a110b74a.js";import{a as ae,y as se,L as ft,C as mt,b as Ve,p as fe,_ as ie,I as xe,d as We,o as D,s as ht,x as Ae,n as vt,e as gt,F as yt,t as X,f as re,g as xt,h as bt,i as T,j as C,r as wt,k as kt,v as It,u as be,W as te,l as Tt,P as Rt,c as St,q as Ct,w as Nt,m as ce}from"./SearchBarModal.f793de82.js";import{j as Dt,k as At,l as Lt,m as Ot,n as Mt,o as $t,p as Ft}from"./firebase.1e964ad2.js";function Pt(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}const jt=c.exports.forwardRef(Pt),Et=jt;function Ut(e,t){return x("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:[s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}const Bt=c.exports.forwardRef(Ut),qt=Bt;function _t(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}const Vt=c.exports.forwardRef(_t),Wt=Vt;function zt(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 11l7-7 7 7M5 19l7-7 7 7"})})}const Ht=c.exports.forwardRef(zt),Kt=Ht;function Qt(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}const Gt=c.exports.forwardRef(Qt),Jt=Gt;function Xt(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})}const Yt=c.exports.forwardRef(Xt),Zt=Yt;function er(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}const tr=c.exports.forwardRef(er),rr=tr;function nr(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}const or=c.exports.forwardRef(nr),ze=or;function ar(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}const sr=c.exports.forwardRef(ar),ir=sr;function lr(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}const cr=c.exports.forwardRef(lr),ur=cr;var dr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dr||{}),pr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(pr||{}),fr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(fr||{});function ue(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=It(t(e.items.slice()),a=>a.dataRef.current.domRef.current),o=r?n.indexOf(r):null;return o===-1&&(o=null),{items:n,activeItemIndex:o}}let mr={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var r;let n=ue(e),o=kt(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:o,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(i=>{var u;return((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(n))&&!i.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let r=ue(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},[6]:(e,t)=>{let r=ue(e,n=>{let o=n.findIndex(a=>a.id===t.id);return o!==-1&&n.splice(o,1),n});return{...e,...r,activationTrigger:1}}},we=c.exports.createContext(null);we.displayName="MenuContext";function le(e){let t=c.exports.useContext(we);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,le),r}return t}function hr(e,t){return Ve(t.type,mr,e,t)}let vr=c.exports.Fragment,gr=ae(function(e,t){let r=c.exports.useReducer(hr,{menuState:1,buttonRef:c.exports.createRef(),itemsRef:c.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:n,itemsRef:o,buttonRef:a},i]=r,u=se(t);ft([a,o],(y,b)=>{var g;i({type:1}),xt(b,bt.Loose)||(y.preventDefault(),(g=a.current)==null||g.focus())},n===0);let p=c.exports.useMemo(()=>({open:n===0}),[n]),m=e,h={ref:u};return j.createElement(we.Provider,{value:r},j.createElement(mt,{value:Ve(n,{[0]:fe.Open,[1]:fe.Closed})},ie({ourProps:h,theirProps:m,slot:p,defaultTag:vr,name:"Menu"})))}),yr="button",xr=ae(function(e,t){var r;let[n,o]=le("Menu.Button"),a=se(n.buttonRef,t),i=`headlessui-menu-button-${xe()}`,u=We(),p=D(f=>{switch(f.key){case T.Space:case T.Enter:case T.ArrowDown:f.preventDefault(),f.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:C.First}));break;case T.ArrowUp:f.preventDefault(),f.stopPropagation(),o({type:0}),u.nextFrame(()=>o({type:2,focus:C.Last}));break}}),m=D(f=>{switch(f.key){case T.Space:f.preventDefault();break}}),h=D(f=>{if(wt(f.currentTarget))return f.preventDefault();e.disabled||(n.menuState===0?(o({type:1}),u.nextFrame(()=>{var v;return(v=n.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(f.preventDefault(),o({type:0})))}),y=c.exports.useMemo(()=>({open:n.menuState===0}),[n]),b=e,g={ref:a,id:i,type:ht(e,n.buttonRef),"aria-haspopup":!0,"aria-controls":(r=n.itemsRef.current)==null?void 0:r.id,"aria-expanded":e.disabled?void 0:n.menuState===0,onKeyDown:p,onKeyUp:m,onClick:h};return ie({ourProps:g,theirProps:b,slot:y,defaultTag:yr,name:"Menu.Button"})}),br="div",wr=Ae.RenderStrategy|Ae.Static,kr=ae(function(e,t){var r,n;let[o,a]=le("Menu.Items"),i=se(o.itemsRef,t),u=vt(o.itemsRef),p=`headlessui-menu-items-${xe()}`,m=We(),h=gt(),y=(()=>h!==null?h===fe.Open:o.menuState===0)();c.exports.useEffect(()=>{let d=o.itemsRef.current;!d||o.menuState===0&&d!==(u==null?void 0:u.activeElement)&&d.focus({preventScroll:!0})},[o.menuState,o.itemsRef,u]),yt({container:o.itemsRef.current,enabled:o.menuState===0,accept(d){return d.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});let b=D(d=>{var S,k;switch(m.dispose(),d.key){case T.Space:if(o.searchQuery!=="")return d.preventDefault(),d.stopPropagation(),a({type:3,value:d.key});case T.Enter:if(d.preventDefault(),d.stopPropagation(),a({type:1}),o.activeItemIndex!==null){let{dataRef:w}=o.items[o.activeItemIndex];(k=(S=w.current)==null?void 0:S.domRef.current)==null||k.click()}re().nextFrame(()=>{var w;return(w=o.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case T.ArrowDown:return d.preventDefault(),d.stopPropagation(),a({type:2,focus:C.Next});case T.ArrowUp:return d.preventDefault(),d.stopPropagation(),a({type:2,focus:C.Previous});case T.Home:case T.PageUp:return d.preventDefault(),d.stopPropagation(),a({type:2,focus:C.First});case T.End:case T.PageDown:return d.preventDefault(),d.stopPropagation(),a({type:2,focus:C.Last});case T.Escape:d.preventDefault(),d.stopPropagation(),a({type:1}),re().nextFrame(()=>{var w;return(w=o.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case T.Tab:d.preventDefault(),d.stopPropagation();break;default:d.key.length===1&&(a({type:3,value:d.key}),m.setTimeout(()=>a({type:4}),350));break}}),g=D(d=>{switch(d.key){case T.Space:d.preventDefault();break}}),f=c.exports.useMemo(()=>({open:o.menuState===0}),[o]),v=e,R={"aria-activedescendant":o.activeItemIndex===null||(r=o.items[o.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=o.buttonRef.current)==null?void 0:n.id,id:p,onKeyDown:b,onKeyUp:g,role:"menu",tabIndex:0,ref:i};return ie({ourProps:R,theirProps:v,slot:f,defaultTag:br,features:wr,visible:y,name:"Menu.Items"})}),Ir=c.exports.Fragment,Tr=ae(function(e,t){let{disabled:r=!1,...n}=e,[o,a]=le("Menu.Item"),i=`headlessui-menu-item-${xe()}`,u=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===i:!1,p=c.exports.useRef(null),m=se(t,p);X(()=>{if(o.menuState!==0||!u||o.activationTrigger===0)return;let R=re();return R.requestAnimationFrame(()=>{var d,S;(S=(d=p.current)==null?void 0:d.scrollIntoView)==null||S.call(d,{block:"nearest"})}),R.dispose},[p,u,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=c.exports.useRef({disabled:r,domRef:p});X(()=>{h.current.disabled=r},[h,r]),X(()=>{var R,d;h.current.textValue=(d=(R=p.current)==null?void 0:R.textContent)==null?void 0:d.toLowerCase()},[h,p]),X(()=>(a({type:5,id:i,dataRef:h}),()=>a({type:6,id:i})),[h,i]);let y=D(R=>{if(r)return R.preventDefault();a({type:1}),re().nextFrame(()=>{var d;return(d=o.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})})}),b=D(()=>{if(r)return a({type:2,focus:C.Nothing});a({type:2,focus:C.Specific,id:i})}),g=D(()=>{r||u||a({type:2,focus:C.Specific,id:i,trigger:0})}),f=D(()=>{r||!u||a({type:2,focus:C.Nothing})}),v=c.exports.useMemo(()=>({active:u,disabled:r}),[u,r]);return ie({ourProps:{id:i,ref:m,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:b,onPointerMove:g,onMouseMove:g,onPointerLeave:f,onMouseLeave:f},theirProps:n,slot:v,defaultTag:Ir,name:"Menu.Item"})}),B=Object.assign(gr,{Button:xr,Items:kr,Item:Tr});const Rr=j.createContext({}),He=!0;function Sr({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:o,circle:a,direction:i,duration:u,enableAnimation:p=He}){const m={};return i==="rtl"&&(m["--animation-direction"]="reverse"),typeof u=="number"&&(m["--animation-duration"]=`${u}s`),p||(m["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(m.width=r),(typeof n=="string"||typeof n=="number")&&(m.height=n),(typeof o=="string"||typeof o=="number")&&(m.borderRadius=o),a&&(m.borderRadius="50%"),typeof e<"u"&&(m["--base-color"]=e),typeof t<"u"&&(m["--highlight-color"]=t),m}function Rn({count:e=1,wrapper:t,className:r,containerClassName:n,containerTestId:o,circle:a=!1,style:i,...u}){var p,m,h;const y=j.useContext(Rr),b={...u};for(const[k,w]of Object.entries(u))typeof w>"u"&&delete b[k];const g={...y,...b,circle:a},f={...i,...Sr(g)};let v="react-loading-skeleton";r&&(v+=` ${r}`);const R=(p=g.inline)!==null&&p!==void 0?p:!1,d=[],S=Math.ceil(e);for(let k=0;k<S;k++){let w=f;if(S>e&&k===S-1){const $=(m=w.width)!==null&&m!==void 0?m:"100%",L=e%1,K=typeof $=="number"?$*L:`calc(${$} * ${L})`;w={...w,width:K}}const I=s("span",{className:v,style:w,children:"\u200C"},k);R?d.push(I):d.push(x(lt,{children:[I,s("br",{})]}))}return s("span",{className:n,"data-testid":o,"aria-live":"polite","aria-busy":(h=g.enableAnimation)!==null&&h!==void 0?h:He,children:t?d.map((k,w)=>s(t,{children:k},w)):d})}function Cr({id:e,username:t,userImage:r}){const n=async()=>{await Dt(e),document.location.reload()},{user:{username:o,userId:a}}=be();return x("div",{className:"flex items-center p-3",children:[s("img",{src:r,alt:`${t}`,className:"mr-3 h-14 w-14 rounded-full border-2 border-gray-300 object-cover p-[2px] text-center"}),s(ge,{to:`/profile/${t}`,className:"flex-1 font-semibold text-gray-800",children:s("p",{children:t})}),x(B,{as:"div",className:"relative inline-block text-left",children:[s(B.Button,{children:s(Zt,{className:"mr-2 h-6 rotate-[90deg] text-gray-600","aria-hidden":"true"})}),o===t&&s(te,{as:c.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s(B.Items,{className:"absolute right-3 mt-1 w-36 origin-top-right rounded-md border border-gray-100 border-opacity-50 bg-white shadow-md ring-1 ring-black ring-opacity-5 focus:outline-none",children:s(B.Item,{children:x(B.Button,{className:" flex w-full items-center justify-center px-4 py-2 text-sm font-semibold text-red-400 hover:text-red-500",onClick:n,children:[s(ir,{className:"mr-1 -mt-[1px] h-6 w-6"}),"Delete Post"]})})})})]})]})}Cr.propTypes={id:l.exports.string,username:l.exports.string.isRequired,userImage:l.exports.string.isRequired};function Nr({src:e,caption:t}){return s("div",{children:s("img",{src:e,alt:t,className:"object-contain"})})}Nr.propTypes={src:l.exports.string.isRequired};const Ke=ye({key:"photoIdState",default:""}),Sn=ye({key:"userIdState",default:""}),Dr=ye({key:"commentIdState",default:""});function Ar(e,t){return s("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),children:s("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}const Lr=c.exports.forwardRef(Ar),Qe=Lr;function Or({id:e,totalLikes:t,likedPhoto:r,handleFocus:n}){const{user:{uid:o=""}}=c.exports.useContext(ct),[a,i]=M(Tt),[u,p]=M(Ke),[m,h]=c.exports.useState(r),[y,b]=c.exports.useState(t),g=async()=>{h(v=>!v),await At(e,o,m),b(v=>m?v-1:v+1)},f=async()=>{i(!0),p(e)};return x("div",{children:[x("div",{className:"flex justify-between  p-4",children:[x("div",{className:"flex space-x-3",children:[s("button",{onClick:g,onKeyDown:v=>{v.key==="Enter"&&g()},children:m?s(Qe,{className:"postButton text-red-500"}):s(ze,{className:"postButton"})}),s(Wt,{className:"postButton",onClick:n,onKeyDown:v=>{v.key==="Enter"&&n()}}),s(Rt,{className:"postButton -mt-[6px] rotate-60"})]}),s(Et,{className:"postButton"})]}),y>0?s("p",{className:"-mt-3 cursor-pointer px-5 font-bold",onClick:f,children:y===1?`${y} like`:`${y} likes`}):null]})}Or.propTypes={id:l.exports.string.isRequired,totalLikes:l.exports.number,likedPhoto:l.exports.bool.isRequired,handleFocus:l.exports.func.isRequired};function Mr({caption:e,username:t}){return x("p",{className:"p-4 truncate pt-2",children:[s(ge,{to:`/profile/${t}`,children:s("span",{className:"font-bold text-gray-800 pr-3",children:t})}),e]})}Mr.propType={caption:l.exports.string.isRequired,username:l.exports.string.isRequired};var Le=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $r(e,t){return!!(e===t||Le(e)&&Le(t))}function Fr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!$r(e[r],t[r]))return!1;return!0}function Pr(e,t){t===void 0&&(t=Fr);var r=null;function n(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r&&r.lastThis===this&&t(o,r.lastArgs))return r.lastResult;var i=e.apply(this,o);return r={lastResult:i,lastArgs:o,lastThis:this},i}return n.clear=function(){r=null},n}function me(e){return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(e)}function jr(e){if(Ge())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}function Ge(){var e=(typeof Intl>"u"?"undefined":me(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function ne(e){return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ur(e,t,r){return t&&Oe(e.prototype,t),r&&Oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Je=function(){function e(){Er(this,e),this.cache={}}return Ur(e,[{key:"get",value:function(){for(var r=this.cache,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];for(var i=0,u=o;i<u.length;i++){var p=u[i];if(ne(r)!=="object")return;r=r[p]}return r}},{key:"put",value:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var a=n.pop(),i=n.pop(),u=this.cache,p=0,m=n;p<m.length;p++){var h=m[p];ne(u[h])!=="object"&&(u[h]={}),u=u[h]}return u[i]=a}}]),e}(),Me=new Je,Br=Ge(),qr=function(t){return t.toString()};function _r(e,t){if(!Br)return qr;var r=Wr(e),n=JSON.stringify(t),o=Me.get(String(r),n)||Me.put(String(r),n,new Intl.DateTimeFormat(r,t));return function(a){return o.format(a)}}const Vr=Pr(_r);var de={};function Wr(e){var t=e.toString();return de[t]?de[t]:de[t]=jr(e)}function he(e){return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function zr(e){return Hr(e)?e:new Date(e)}function Hr(e){return e instanceof Date||Kr(e)}function Kr(e){return he(e)==="object"&&typeof e.getTime=="function"}var $e=new Je;function Qr(e,t){var r=t.polyfill,n=String(e)+":"+String(r);return $e.get(n)||$e.put(n,new qe(e,{polyfill:r}))}var W={exports:{}},_={exports:{}};(function(){var e,t,r,n,o,a;typeof performance<"u"&&performance!==null&&performance.now?_.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(_.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var i;return i=t(),i[0]*1e9+i[1]},n=e(),a=process.uptime()*1e9,o=n-a):Date.now?(_.exports=function(){return Date.now()-r},r=Date.now()):(_.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(_e);var Gr=_.exports,A=typeof window>"u"?_e:window,Y=["moz","webkit"],P="AnimationFrame",E=A["request"+P],z=A["cancel"+P]||A["cancelRequest"+P];for(var q=0;!E&&q<Y.length;q++)E=A[Y[q]+"Request"+P],z=A[Y[q]+"Cancel"+P]||A[Y[q]+"CancelRequest"+P];if(!E||!z){var pe=0,Fe=0,O=[],Jr=1e3/60;E=function(e){if(O.length===0){var t=Gr(),r=Math.max(0,Jr-(t-pe));pe=r+t,setTimeout(function(){var n=O.slice(0);O.length=0;for(var o=0;o<n.length;o++)if(!n[o].cancelled)try{n[o].callback(pe)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return O.push({handle:++Fe,callback:e,cancelled:!1}),Fe},z=function(e){for(var t=0;t<O.length;t++)O[t].handle===e&&(O[t].cancelled=!0)}}W.exports=function(e){return E.call(A,e)};W.exports.cancel=function(){z.apply(A,arguments)};W.exports.polyfill=function(e){e||(e=A),e.requestAnimationFrame=E,e.cancelAnimationFrame=z};function Xr(e,t){if(e.length===0)return 0;for(var r=0,n=e.length-1,o;r<=n;){o=Math.floor((n+r)/2);var a=t(e[o]);if(a===0)return o;if(a<0){if(r=o+1,r>n)return r}else if(n=o-1,n<r)return r}}function Yr(e,t){return rn(e)||tn(e,t)||en(e,t)||Zr()}function Zr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(e,t){if(!!e){if(typeof e=="string")return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}}function Pe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,i,u;try{for(r=r.call(e);!(o=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));o=!0);}catch(p){a=!0,u=p}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function rn(e){if(Array.isArray(e))return e}const nn={instances:[],add:function(t){var r=this,n=this.instances.length===0;return Xe(this.instances,t),n&&this.start(),{stop:function(){Ye(r.instances,t),r.instances.length===0&&r.stop()},forceUpdate:function(){je(t,r.instances)}}},tick:function(){for(var t=Date.now();;){var r=this.instances[0];if(t>=r.nextUpdateTime)je(r,this.instances);else break}},scheduleNextTick:function(){var t=this;this.scheduledTick=W.exports(function(){t.tick(),t.scheduleNextTick()})},start:function(){this.scheduleNextTick()},stop:function(){W.exports.cancel(this.scheduledTick)}};function on(e){var t=e.getNextValue(),r=Yr(t,2),n=r[0],o=r[1];e.setValue(n),e.nextUpdateTime=o}function je(e,t){on(e),Ye(t,e),Xe(t,e)}function Xe(e,t){var r=an(e,t);e.splice(r,0,t)}function Ye(e,t){var r=e.indexOf(t);e.splice(r,1)}function an(e,t){var r=t.nextUpdateTime;return Xr(e,function(n){return n.nextUpdateTime===r?0:n.nextUpdateTime>r?1:-1})}var sn=["date","verboseDate","tooltip","children"];function ln(e,t){if(e==null)return{};var r=cn(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function cn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function oe(e,t){var r=e.date,n=e.verboseDate,o=e.tooltip,a=e.children,i=ln(e,sn),u=c.exports.useMemo(function(){return r.toISOString()},[r]);return s("time",{ref:t,...i,dateTime:u,title:o?n:void 0,children:a})}oe=j.forwardRef(oe);oe.propTypes={date:l.exports.instanceOf(Date).isRequired,verboseDate:l.exports.string,tooltip:l.exports.bool.isRequired,children:l.exports.string.isRequired};var ve=l.exports.oneOfType,Ee=l.exports.arrayOf,F=l.exports.string,Ue=l.exports.number,V=l.exports.shape,Z=l.exports.func,un=ve([V({minTime:Ue,formatAs:F.isRequired}),V({test:Z,formatAs:F.isRequired}),V({minTime:Ue,format:Z.isRequired}),V({test:Z,format:Z.isRequired})]),dn=ve([F,V({steps:Ee(un).isRequired,labels:ve([F,Ee(F)]).isRequired,round:F})]),pn=["date","future","timeStyle","round","minTimeLeft","tooltip","component","container","wrapperComponent","wrapperProps","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick","now","timeOffset","polyfill"];function ee(e,t){return vn(e)||hn(e,t)||mn(e,t)||fn()}function fn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mn(e,t){if(!!e){if(typeof e=="string")return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,a=!1,i,u;try{for(r=r.call(e);!(o=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));o=!0);}catch(p){a=!0,u=p}finally{try{!o&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function vn(e){if(Array.isArray(e))return e}function gn(e,t){if(e==null)return{};var r=yn(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function yn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function H(e){var t=e.date,r=e.future,n=e.timeStyle,o=e.round,a=e.minTimeLeft,i=e.tooltip,u=e.component,p=e.container,m=e.wrapperComponent,h=e.wrapperProps,y=e.locale,b=e.locales,g=e.formatVerboseDate,f=e.verboseDateFormat,v=e.updateInterval,R=e.tick,d=e.now,S=e.timeOffset,k=e.polyfill,w=gn(e,pn),I=c.exports.useMemo(function(){return y&&(b=[y]),b.concat(qe.getDefaultLocale())},[y,b]),$=c.exports.useMemo(function(){return Qr(I,{polyfill:k})},[I,k]);t=c.exports.useMemo(function(){return zr(t)},[t]);var L=c.exports.useCallback(function(){var N=(d||Date.now())-S,U;if(r&&N>=t.getTime()&&(N=t.getTime(),U=!0),a!==void 0){var G=t.getTime()-a*1e3;N>G&&(N=G,U=!0)}var st=$.format(t,n,{getTimeToNextUpdate:!0,now:N,future:r,round:o}),De=ee(st,2),it=De[0],J=De[1];return U?J=bn:J=v||J||60*1e3,[it,N+J]},[t,r,n,v,o,a,$,d]),K=c.exports.useRef();K.current=L;var tt=c.exports.useMemo(L,[]),ke=ee(tt,2),rt=ke[0],nt=ke[1],ot=c.exports.useState(rt),Ie=ee(ot,2),at=Ie[0],Te=Ie[1],Q=c.exports.useRef();c.exports.useEffect(function(){if(R)return Q.current=nn.add({getNextValue:function(){return K.current()},setValue:Te,nextUpdateTime:nt}),function(){return Q.current.stop()}},[R]),c.exports.useEffect(function(){if(Q.current)Q.current.forceUpdate();else{var N=L(),U=ee(N,1),G=U[0];Te(G)}},[L]);var Re=c.exports.useMemo(function(){return Vr(I,f)},[I,f]),Se=c.exports.useMemo(function(){return g?g(t):Re(t)},[t,g,Re]),Ce=s(u,{date:t,verboseDate:Se,tooltip:i,...w,children:at}),Ne=m||p;return Ne?s(Ne,{...h,verboseDate:Se,children:Ce}):Ce}H.propTypes={date:l.exports.oneOfType([l.exports.instanceOf(Date),l.exports.number]).isRequired,locale:l.exports.string,locales:l.exports.arrayOf(l.exports.string),future:l.exports.bool,timeStyle:dn,round:l.exports.string,minTimeLeft:l.exports.number,component:l.exports.elementType.isRequired,tooltip:l.exports.bool.isRequired,formatVerboseDate:l.exports.func,verboseDateFormat:l.exports.object,updateInterval:l.exports.oneOfType([l.exports.number,l.exports.arrayOf(l.exports.shape({threshold:l.exports.number,interval:l.exports.number.isRequired}))]),tick:l.exports.bool,now:l.exports.number,timeOffset:l.exports.number,polyfill:l.exports.bool,wrapperComponent:l.exports.elementType,wrapperProps:l.exports.object};H.defaultProps={locales:[],component:oe,tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},tick:!0,timeOffset:0};H=j.memo(H);const Ze=H;var xn=365*24*60*60*1e3,bn=1e3*xn;function et({photoId:e,commentId:t,userId:r,username:n,image:o,comment:a,postedAt:i,totalLikes:u}){const[p,m]=c.exports.useState(!1),[h,y]=c.exports.useState(u),[b,g]=M(St),[f,v]=M(Dr),[R,d]=M(Ke);e&&(async()=>{const I=await Lt(e,t,r);m(I)})();const k=async()=>{m(I=>!I),await Ot(e,t,r,p),y(I=>p?I-1:I+1)},w=async()=>{g(!0),v(t),d(e)};return x("div",{className:"my-3 ml-10 mr-5 flex items-center space-x-2",children:[x("div",{className:"flex flex-1",children:[s("img",{className:"h-9 w-9 rounded-full border border-gray-300 object-cover p-[1px]",src:o,alt:"User Image"}),x("div",{className:" ml-2 text-base",children:[x("p",{children:[s(ge,{to:`/profile/${n}`,children:s("span",{className:"mr-2 font-bold",children:n})}),a]}),x("div",{className:" space-x-4 text-xs text-gray-400",children:[i&&s(Ze,{date:i.toDate(),locale:"en-US",timeStyle:"mini"}),h>0?s("p",{className:" -mt-4 cursor-pointer px-5 font-semibold",onClick:w,children:h===1?`${h} like`:`${h} likes`}):null]})]})]}),s("button",{onClick:k,onKeyDown:I=>{I.key==="Enter"&&k()},children:p?s(Qe,{className:"-mt-3 h-5 w-5 text-red-500 transition-all  duration-150 ease-out hover:scale-125"}):s(ze,{className:"-mt-3 h-5 w-5 text-gray-400 transition-all  duration-150 ease-out hover:scale-125"})})]})}et.propTypes={photoId:l.exports.string.isRequired,commentId:l.exports.string.isRequired,userId:l.exports.string,username:l.exports.string.isRequired,image:l.exports.string.isRequired,comment:l.exports.string.isRequired,postedAt:l.exports.object.isRequired,totalLikes:l.exports.number};function wn({id:e,postedAt:t,commentInput:r}){const{user:{username:n,image:o,userId:a}}=be(),[i,u]=c.exports.useState([]),[p,m]=c.exports.useState(""),h=ut(dt),[y,b]=M(Ct);c.exports.useEffect(()=>{async function f(){pt(Mt(e),v=>{u(v.docs)})}f()},[h,e]);const g=async f=>{f.preventDefault();const v=p;m(""),await $t(e,v,n,o)};return x("div",{children:[i.length>0&&s("div",{className:`max-h-[108px] overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-500 ${y&&"md:max-h-80 -ml-6"}`,children:i.map(f=>{var v;return s("div",{className:"",children:s(et,{photoId:e,commentId:f.id,userId:a,username:f.data().username,image:f.data().userImage,comment:f.data().comment,postedAt:f.data().timestamp,totalLikes:(v=f.data().likes)==null?void 0:v.length})},f.id)})}),s("div",{children:x("form",{className:"flex items-center border-y border-gray-200 px-4",children:[s(rr,{className:"h-7 w-7 cursor-pointer text-gray-700"}),s("input",{type:"text",placeholder:"Add a comment...",className:"flex-1 border-none p-4 outline-none focus:ring-0",value:p,"aria-label":"Add a comment",autoComplete:"off",onChange:({target:f})=>m(f.value),ref:r}),s("button",{className:"font-semibold text-blue-400",type:"submit",disabled:!p.trim(),onClick:g,children:"Post"})]})}),s("div",{className:"p-4",children:s(Ze,{date:t.toDate(),locale:"en-US",timeStyle:"round",className:"mt-2 text-xs capitalize text-gray-400"})})]})}wn.propTypes={id:l.exports.string.isRequired,postedAt:l.exports.object.isRequired,commentInput:l.exports.object};function Cn(){const[e,t]=M(Nt),r=c.exports.useRef(null),n=c.exports.useRef(null),[o,a]=c.exports.useState(!1),[i,u]=c.exports.useState(null),{user:{username:p,image:m,userId:h}}=be(),y=async()=>{if(o)return;a(!0);const g=n.current.value;await Ft(h,p,m,g,i),t(!1),a(!1),u(null),document.location.reload()},b=g=>{const f=new FileReader;g.target.files[0]&&f.readAsDataURL(g.target.files[0]),f.onload=v=>{u(v.target.result)}};return s(te.Root,{show:e,as:c.exports.Fragment,children:s(ce,{as:"div",className:"absolute inset-0 z-[60] overflow-y-auto",onClose:t,children:x("div",{className:"m-2 flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0 ",children:[s(te.Child,{as:c.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s(ce.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),s("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"\u200B"}),s(te.Child,{as:c.exports.Fragment,enter:"ease-out duration-500",enterFrom:"opactiy-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:x("div",{className:"inline-block w-full transform space-y-4 overflow-hidden rounded-lg bg-white p-4 text-left align-bottom shadow-xl transition-all sm:my-8 sm:max-w-sm sm:p-6 sm:align-middle",children:[s("button",{className:"float-right outline-none",onClick:()=>{t(!1),a(!1),u(null)},children:s(ur,{className:" h-6  w-6 cursor-pointer text-gray-300"})}),x("div",{as:"h3",className:"flex items-center space-x-4  text-2xl ",children:[s("div",{className:" flex h-14 w-14 items-center justify-center rounded-full bg-red-100",children:s(Jt,{className:"mt-[2px] h-8 w-8 text-red-600"})}),s("span",{children:"Upload Post"})]}),s("hr",{}),x("div",{children:[i?s("img",{src:i,alt:"Posting Image",className:"w-full cursor-pointer object-contain",onClick:()=>u(null)}):s("div",{onClick:()=>r.current.click(),className:"mx-auto flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-red-100",children:s(qt,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),s("div",{children:x("div",{className:"mt-3 text-center sm:mt-5",children:[s(ce.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-500",children:i?"Note: Click on the Photo to Reselect.":"Click on the Icon to Select An Image."}),s("div",{children:s("input",{type:"file",accept:"image/*",hidden:!0,onChange:b,ref:r})}),s("div",{className:"mt-2",children:s("input",{type:"text",placeholder:"Please Enter a Caption",ref:n,className:" w-full border-none text-center focus:outline-none"})})]})}),s("div",{className:"mt-5 sm:mt-6",children:s("button",{className:"disables:bg-gray-400 inline-flex w-full justify-center rounded-md border border-transparent bg-red-400 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:cursor-not-allowed sm:text-sm ",onClick:y,type:"button",disabled:!i,children:o?"Uploading...":"Upload Post"})})]})]})})]})})})}function Nn(){const[e,t]=c.exports.useState(!1),r=document.documentElement.scrollTop,n=()=>{r>300?t(!0):r<=300&&t(!1)};function o(){window.scrollTo({top:0,behavior:"smooth"})}return window.addEventListener("scroll",n),s("button",{className:`fixed bottom-2 right-6 z-[60] flex h-10 w-10 animate-bounce items-center justify-center rounded-full bg-rose-500 bg-opacity-80 shadow-md transition ease-in hover:bg-opacity-100 ${e?"inline":"invisible"}`,onClick:o,role:"button","aria-label":"Scroll to Top",children:s(Kt,{className:"h-5 w-5 text-white"})})}export{Or as B,Mr as C,Zt as D,Cr as H,Nr as I,Cn as P,Rn as S,Nn as T,ur as X,wn as a,ze as b,Dr as c,Et as d,Qe as e,qt as f,Ke as p,Sn as u};
