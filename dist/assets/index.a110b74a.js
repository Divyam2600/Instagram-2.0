const UR=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};UR();var Lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var te={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),VR=Symbol.for("react.portal"),FR=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),zR=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),HR=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),qR=Symbol.for("react.suspense"),KR=Symbol.for("react.memo"),GR=Symbol.for("react.lazy"),Gg=Symbol.iterator;function QR(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var Ow={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Lw={};function Ms(t,e,n){this.props=t,this.context=e,this.refs=Lw,this.updater=n||Ow}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pw(){}Pw.prototype=Ms.prototype;function cp(t,e,n){this.props=t,this.context=e,this.refs=Lw,this.updater=n||Ow}var hp=cp.prototype=new Pw;hp.constructor=cp;Dw(hp,Ms.prototype);hp.isPureReactComponent=!0;var Qg=Array.isArray,$w=Object.prototype.hasOwnProperty,fp={current:null},xw={key:!0,ref:!0,__self:!0,__source:!0};function Mw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$w.call(e,r)&&!xw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sa,type:t,key:s,ref:o,props:i,_owner:fp.current}}function YR(t,e){return{$$typeof:Sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sa}function XR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yg=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XR(""+t.key):e.toString(36)}function Pu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sa:case VR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Sh(o,0):r,Qg(i)?(n="",t!=null&&(n=t.replace(Yg,"$&/")+"/"),Pu(i,e,n,"",function(l){return l})):i!=null&&(dp(i)&&(i=YR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Sh(s,a);o+=Pu(s,e,n,u,i)}else if(u=QR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Sh(s,a++),o+=Pu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return Pu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},$u={transition:null},ZR={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:$u,ReactCurrentOwner:fp};de.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!dp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Ms;de.Fragment=FR;de.Profiler=zR;de.PureComponent=cp;de.StrictMode=BR;de.Suspense=qR;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)$w.call(e,u)&&!xw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Sa,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:HR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jR,_context:t},t.Consumer=t};de.createElement=Mw;de.createFactory=function(t){var e=Mw.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:WR,render:t}};de.isValidElement=dp;de.lazy=function(t){return{$$typeof:GR,_payload:{_status:-1,_result:t},_init:JR}};de.memo=function(t,e){return{$$typeof:KR,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=$u.transition;$u.transition={};try{t()}finally{$u.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return Nt.current.useCallback(t,e)};de.useContext=function(t){return Nt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Nt.current.useEffect(t,e)};de.useId=function(){return Nt.current.useId()};de.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Nt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};de.useRef=function(t){return Nt.current.useRef(t)};de.useState=function(t){return Nt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Nt.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(te);const rt=bw(te.exports);var Uw={exports:{}},Gt={},Vw={exports:{}},Fw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var V=U.length;U.push(Y);e:for(;0<V;){var K=V-1>>>1,_=U[K];if(0<i(_,Y))U[K]=Y,U[V]=_,V=K;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],V=U.pop();if(V!==Y){U[0]=V;e:for(var K=0,_=U.length,L=_>>>1;K<L;){var P=2*(K+1)-1,Z=U[P],F=P+1,ae=U[F];if(0>i(Z,V))F<_&&0>i(ae,Z)?(U[K]=ae,U[F]=V,K=F):(U[K]=Z,U[P]=V,K=P);else if(F<_&&0>i(ae,V))U[K]=ae,U[F]=V,K=F;else break e}}return Y}function i(U,Y){var V=U.sortIndex-Y.sortIndex;return V!==0?V:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,p=!1,m=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var Y=n(l);Y!==null;){if(Y.callback===null)r(l);else if(Y.startTime<=U)r(l),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(l)}}function T(U){if(S=!1,y(U),!m)if(n(u)!==null)m=!0,Sn(R);else{var Y=n(l);Y!==null&&Bt(T,Y.startTime-U)}}function R(U,Y){m=!1,S&&(S=!1,g(A),A=-1),p=!0;var V=f;try{for(y(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||U&&!ue());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var _=K(h.expirationTime<=Y);Y=t.unstable_now(),typeof _=="function"?h.callback=_:h===n(u)&&r(u),y(Y)}else r(u);h=n(u)}if(h!==null)var L=!0;else{var P=n(l);P!==null&&Bt(T,P.startTime-Y),L=!1}return L}finally{h=null,f=V,p=!1}}var O=!1,I=null,A=-1,Q=5,$=-1;function ue(){return!(t.unstable_now()-$<Q)}function ze(){if(I!==null){var U=t.unstable_now();$=U;var Y=!0;try{Y=I(!0,U)}finally{Y?_e():(O=!1,I=null)}}else O=!1}var _e;if(typeof d=="function")_e=function(){d(ze)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ln=Fe.port2;Fe.port1.onmessage=ze,_e=function(){Ln.postMessage(null)}}else _e=function(){C(ze,0)};function Sn(U){I=U,O||(O=!0,_e())}function Bt(U,Y){A=C(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Sn(R))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var V=f;f=Y;try{return U()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=f;f=U;try{return Y()}finally{f=V}},t.unstable_scheduleCallback=function(U,Y,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=V+_,U={id:c++,callback:Y,priorityLevel:U,startTime:V,expirationTime:_,sortIndex:-1},V>K?(U.sortIndex=V,e(l,U),n(u)===null&&U===n(l)&&(S?(g(A),A=-1):S=!0,Bt(T,V-K))):(U.sortIndex=_,e(u,U),m||p||(m=!0,Sn(R))),U},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(U){var Y=f;return function(){var V=f;f=Y;try{return U.apply(this,arguments)}finally{f=V}}}})(Fw);(function(t){t.exports=Fw})(Vw);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=te.exports,qt=Vw.exports;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zw=new Set,zo={};function Ei(t,e){ds(t,e),ds(t+"Capture",e)}function ds(t,e){for(zo[t]=e,t=0;t<e.length;t++)zw.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=Object.prototype.hasOwnProperty,ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Jg={};function tk(t){return Sf.call(Jg,t)?!0:Sf.call(Xg,t)?!1:ek.test(t)?Jg[t]=!0:(Xg[t]=!0,!1)}function nk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rk(t,e,n,r){if(e===null||typeof e>"u"||nk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,mp);dt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,mp);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,mp);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gp(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rk(e,n,i,r)&&(n=null),r||i===null?tk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),Zg=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=Zg&&t[Zg]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,_h;function po(t){if(_h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_h=e&&e[1]||""}return`
`+_h+t}var Eh=!1;function Th(t,e){if(!t||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?po(t):""}function ik(t){switch(t.tag){case 5:return po(t.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return t=Th(t.type,!1),t;case 11:return t=Th(t.type.render,!1),t;case 1:return t=Th(t.type,!0),t;default:return""}}function If(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Ui:return"Portal";case _f:return"Profiler";case yp:return"StrictMode";case Ef:return"Suspense";case Tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hw:return(t.displayName||"Context")+".Consumer";case jw:return(t._context.displayName||"Context")+".Provider";case vp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wp:return e=t.displayName||null,e!==null?e:If(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return If(t(e))}catch{}}return null}function sk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(e);case 8:return e===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ok(t){var e=qw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=ok(t))}function Kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rf(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gw(t,e){e=e.checked,e!=null&&gp(t,"checked",e,!1)}function kf(t,e){Gw(t,e);var n=Rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cf(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cf(t,e,n){(e!=="number"||tl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mo=Array.isArray;function es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(mo(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rr(n)}}function Qw(t,e){var n=Rr(e.value),r=Rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ry(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,Xw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ak=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(t){ak.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Io[e]=Io[t]})});function Jw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Io.hasOwnProperty(t)&&Io[t]?(""+e).trim():e+"px"}function Zw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uk=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(t,e){if(e){if(uk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function Sp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lf=null,ts=null,ns=null;function iy(t){if(t=Ta(t)){if(typeof Lf!="function")throw Error(b(280));var e=t.stateNode;e&&(e=sc(e),Lf(t.stateNode,t.type,e))}}function eS(t){ts?ns?ns.push(t):ns=[t]:ts=t}function tS(){if(ts){var t=ts,e=ns;if(ns=ts=null,iy(t),e)for(t=0;t<e.length;t++)iy(e[t])}}function nS(t,e){return t(e)}function rS(){}var Ih=!1;function iS(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return nS(t,e,n)}finally{Ih=!1,(ts!==null||ns!==null)&&(rS(),tS())}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var r=sc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Pf=!1;if(Wn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Pf=!1}function lk(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ro=!1,nl=null,rl=!1,$f=null,ck={onError:function(t){Ro=!0,nl=t}};function hk(t,e,n,r,i,s,o,a,u){Ro=!1,nl=null,lk.apply(ck,arguments)}function fk(t,e,n,r,i,s,o,a,u){if(hk.apply(this,arguments),Ro){if(Ro){var l=nl;Ro=!1,nl=null}else throw Error(b(198));rl||(rl=!0,$f=l)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sy(t){if(Ti(t)!==t)throw Error(b(188))}function dk(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sy(i),t;if(s===r)return sy(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function oS(t){return t=dk(t),t!==null?aS(t):null}function aS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aS(t);if(e!==null)return e;t=t.sibling}return null}var uS=qt.unstable_scheduleCallback,oy=qt.unstable_cancelCallback,pk=qt.unstable_shouldYield,mk=qt.unstable_requestPaint,Be=qt.unstable_now,gk=qt.unstable_getCurrentPriorityLevel,_p=qt.unstable_ImmediatePriority,lS=qt.unstable_UserBlockingPriority,il=qt.unstable_NormalPriority,yk=qt.unstable_LowPriority,cS=qt.unstable_IdlePriority,tc=null,Rn=null;function vk(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(tc,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:_k,wk=Math.log,Sk=Math.LN2;function _k(t){return t>>>=0,t===0?32:31-(wk(t)/Sk|0)|0}var uu=64,lu=4194304;function go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=go(a):(s&=o,s!==0&&(r=go(s)))}else o=n&~i,o!==0?r=go(o):s!==0&&(r=go(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function Ek(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dn(s),a=1<<o,u=i[o];u===-1?((a&n)===0||(a&r)!==0)&&(i[o]=Ek(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hS(){var t=uu;return uu<<=1,(uu&4194240)===0&&(uu=64),t}function Rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _a(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function Ik(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ep(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function fS(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var dS,Tp,pS,mS,gS,Mf=!1,cu=[],dr=null,pr=null,mr=null,Wo=new Map,qo=new Map,sr=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(e.pointerId)}}function to(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ta(e),e!==null&&Tp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kk(t,e,n,r,i){switch(e){case"focusin":return dr=to(dr,t,e,n,r,i),!0;case"dragenter":return pr=to(pr,t,e,n,r,i),!0;case"mouseover":return mr=to(mr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wo.set(s,to(Wo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qo.set(s,to(qo.get(s)||null,t,e,n,r,i)),!0}return!1}function yS(t){var e=Kr(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=sS(n),e!==null){t.blockedOn=e,gS(t.priority,function(){pS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Df=r,n.target.dispatchEvent(r),Df=null}else return e=Ta(n),e!==null&&Tp(e),t.blockedOn=n,!1;e.shift()}return!0}function uy(t,e,n){xu(t)&&n.delete(e)}function Ck(){Mf=!1,dr!==null&&xu(dr)&&(dr=null),pr!==null&&xu(pr)&&(pr=null),mr!==null&&xu(mr)&&(mr=null),Wo.forEach(uy),qo.forEach(uy)}function no(t,e){t.blockedOn===e&&(t.blockedOn=null,Mf||(Mf=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Ck)))}function Ko(t){function e(i){return no(i,t)}if(0<cu.length){no(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&no(dr,t),pr!==null&&no(pr,t),mr!==null&&no(mr,t),Wo.forEach(e),qo.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)yS(n),n.blockedOn===null&&sr.shift()}var rs=Jn.ReactCurrentBatchConfig,ol=!0;function Ak(t,e,n,r){var i=we,s=rs.transition;rs.transition=null;try{we=1,Ip(t,e,n,r)}finally{we=i,rs.transition=s}}function Nk(t,e,n,r){var i=we,s=rs.transition;rs.transition=null;try{we=4,Ip(t,e,n,r)}finally{we=i,rs.transition=s}}function Ip(t,e,n,r){if(ol){var i=Uf(t,e,n,r);if(i===null)$h(t,e,r,al,n),ay(t,r);else if(kk(i,t,e,n,r))r.stopPropagation();else if(ay(t,r),e&4&&-1<Rk.indexOf(t)){for(;i!==null;){var s=Ta(i);if(s!==null&&dS(s),s=Uf(t,e,n,r),s===null&&$h(t,e,r,al,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $h(t,e,r,null,n)}}var al=null;function Uf(t,e,n,r){if(al=null,t=Sp(r),t=Kr(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return al=t,null}function vS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gk()){case _p:return 1;case lS:return 4;case il:case yk:return 16;case cS:return 536870912;default:return 16}default:return 16}}var hr=null,Rp=null,Mu=null;function wS(){if(Mu)return Mu;var t,e=Rp,n=e.length,r,i="value"in hr?hr.value:hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function ly(){return!1}function Qt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hu:ly,this.isPropagationStopped=ly,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kp=Qt(Us),Ea=Ue({},Us,{view:0,detail:0}),bk=Qt(Ea),kh,Ch,ro,nc=Ue({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(kh=t.screenX-ro.screenX,Ch=t.screenY-ro.screenY):Ch=kh=0,ro=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),cy=Qt(nc),Ok=Ue({},nc,{dataTransfer:0}),Dk=Qt(Ok),Lk=Ue({},Ea,{relatedTarget:0}),Ah=Qt(Lk),Pk=Ue({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=Qt(Pk),xk=Ue({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mk=Qt(xk),Uk=Ue({},Us,{data:0}),hy=Qt(Uk),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bk[t])?!!e[t]:!1}function Cp(){return zk}var jk=Ue({},Ea,{key:function(t){if(t.key){var e=Vk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hk=Qt(jk),Wk=Ue({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Qt(Wk),qk=Ue({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),Kk=Qt(qk),Gk=Ue({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=Qt(Gk),Yk=Ue({},nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xk=Qt(Yk),Jk=[9,13,27,32],Ap=Wn&&"CompositionEvent"in window,ko=null;Wn&&"documentMode"in document&&(ko=document.documentMode);var Zk=Wn&&"TextEvent"in window&&!ko,SS=Wn&&(!Ap||ko&&8<ko&&11>=ko),dy=String.fromCharCode(32),py=!1;function _S(t,e){switch(t){case"keyup":return Jk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ES(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function eC(t,e){switch(t){case"compositionend":return ES(e);case"keypress":return e.which!==32?null:(py=!0,dy);case"textInput":return t=e.data,t===dy&&py?null:t;default:return null}}function tC(t,e){if(Fi)return t==="compositionend"||!Ap&&_S(t,e)?(t=wS(),Mu=Rp=hr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SS&&e.locale!=="ko"?null:e.data;default:return null}}var nC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nC[t.type]:e==="textarea"}function TS(t,e,n,r){eS(r),e=ul(e,"onChange"),0<e.length&&(n=new kp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Co=null,Go=null;function rC(t){PS(t,0)}function rc(t){var e=ji(t);if(Kw(e))return t}function iC(t,e){if(t==="change")return e}var IS=!1;if(Wn){var Nh;if(Wn){var bh="oninput"in document;if(!bh){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),bh=typeof gy.oninput=="function"}Nh=bh}else Nh=!1;IS=Nh&&(!document.documentMode||9<document.documentMode)}function yy(){Co&&(Co.detachEvent("onpropertychange",RS),Go=Co=null)}function RS(t){if(t.propertyName==="value"&&rc(Go)){var e=[];TS(e,Go,t,Sp(t)),iS(rC,e)}}function sC(t,e,n){t==="focusin"?(yy(),Co=e,Go=n,Co.attachEvent("onpropertychange",RS)):t==="focusout"&&yy()}function oC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Go)}function aC(t,e){if(t==="click")return rc(e)}function uC(t,e){if(t==="input"||t==="change")return rc(e)}function lC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:lC;function Qo(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sf.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function vy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,e){var n=vy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vy(n)}}function kS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CS(){for(var t=window,e=tl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tl(t.document)}return e}function Np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cC(t){var e=CS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kS(n.ownerDocument.documentElement,n)){if(r!==null&&Np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wy(n,s);var o=wy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hC=Wn&&"documentMode"in document&&11>=document.documentMode,Bi=null,Vf=null,Ao=null,Ff=!1;function Sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||Bi==null||Bi!==tl(r)||(r=Bi,"selectionStart"in r&&Np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ao&&Qo(Ao,r)||(Ao=r,r=ul(Vf,"onSelect"),0<r.length&&(e=new kp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Oh={},AS={};Wn&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function ic(t){if(Oh[t])return Oh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AS)return Oh[t]=e[n];return t}var NS=ic("animationend"),bS=ic("animationiteration"),OS=ic("animationstart"),DS=ic("transitionend"),LS=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){LS.set(t,e),Ei(e,[t])}for(var Dh=0;Dh<_y.length;Dh++){var Lh=_y[Dh],fC=Lh.toLowerCase(),dC=Lh[0].toUpperCase()+Lh.slice(1);Lr(fC,"on"+dC)}Lr(NS,"onAnimationEnd");Lr(bS,"onAnimationIteration");Lr(OS,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(DS,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Ey(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fk(r,e,void 0,t),t.currentTarget=null}function PS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Ey(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Ey(i,a,l),s=u}}}if(rl)throw t=$f,rl=!1,$f=null,t}function Re(t,e){var n=e[Wf];n===void 0&&(n=e[Wf]=new Set);var r=t+"__bubble";n.has(r)||($S(e,t,2,!1),n.add(r))}function Ph(t,e,n){var r=0;e&&(r|=4),$S(n,t,r,e)}var du="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[du]){t[du]=!0,zw.forEach(function(n){n!=="selectionchange"&&(pC.has(n)||Ph(n,!1,t),Ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[du]||(e[du]=!0,Ph("selectionchange",!1,e))}}function $S(t,e,n,r){switch(vS(e)){case 1:var i=Ak;break;case 4:i=Nk;break;default:i=Ip}n=i.bind(null,e,n,t),i=void 0,!Pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $h(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iS(function(){var l=s,c=Sp(n),h=[];e:{var f=LS.get(t);if(f!==void 0){var p=kp,m=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":p=Hk;break;case"focusin":m="focus",p=Ah;break;case"focusout":m="blur",p=Ah;break;case"beforeblur":case"afterblur":p=Ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kk;break;case NS:case bS:case OS:p=$k;break;case DS:p=Qk;break;case"scroll":p=bk;break;case"wheel":p=Xk;break;case"copy":case"cut":case"paste":p=Mk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fy}var S=(e&4)!==0,C=!S&&t==="scroll",g=S?f!==null?f+"Capture":null:f;S=[];for(var d=l,y;d!==null;){y=d;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,g!==null&&(T=Ho(d,g),T!=null&&S.push(Xo(d,T,y)))),C)break;d=d.return}0<S.length&&(f=new p(f,m,null,n,c),h.push({event:f,listeners:S}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Df&&(m=n.relatedTarget||n.fromElement)&&(Kr(m)||m[qn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?Kr(m):null,m!==null&&(C=Ti(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(S=cy,T="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(S=fy,T="onPointerLeave",g="onPointerEnter",d="pointer"),C=p==null?f:ji(p),y=m==null?f:ji(m),f=new S(T,d+"leave",p,n,c),f.target=C,f.relatedTarget=y,T=null,Kr(c)===l&&(S=new S(g,d+"enter",m,n,c),S.target=y,S.relatedTarget=C,T=S),C=T,p&&m)t:{for(S=p,g=m,d=0,y=S;y;y=Pi(y))d++;for(y=0,T=g;T;T=Pi(T))y++;for(;0<d-y;)S=Pi(S),d--;for(;0<y-d;)g=Pi(g),y--;for(;d--;){if(S===g||g!==null&&S===g.alternate)break t;S=Pi(S),g=Pi(g)}S=null}else S=null;p!==null&&Ty(h,f,p,S,!1),m!==null&&C!==null&&Ty(h,C,m,S,!0)}}e:{if(f=l?ji(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=iC;else if(my(f))if(IS)R=uC;else{R=oC;var O=sC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=aC);if(R&&(R=R(t,l))){TS(h,R,n,c);break e}O&&O(t,f,l),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Cf(f,"number",f.value)}switch(O=l?ji(l):window,t){case"focusin":(my(O)||O.contentEditable==="true")&&(Bi=O,Vf=l,Ao=null);break;case"focusout":Ao=Vf=Bi=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Sy(h,n,c);break;case"selectionchange":if(hC)break;case"keydown":case"keyup":Sy(h,n,c)}var I;if(Ap)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Fi?_S(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(SS&&n.locale!=="ko"&&(Fi||A!=="onCompositionStart"?A==="onCompositionEnd"&&Fi&&(I=wS()):(hr=c,Rp="value"in hr?hr.value:hr.textContent,Fi=!0)),O=ul(l,A),0<O.length&&(A=new hy(A,t,null,n,c),h.push({event:A,listeners:O}),I?A.data=I:(I=ES(n),I!==null&&(A.data=I)))),(I=Zk?eC(t,n):tC(t,n))&&(l=ul(l,"onBeforeInput"),0<l.length&&(c=new hy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=I))}PS(h,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ul(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ho(t,n),s!=null&&r.unshift(Xo(t,s,i)),s=Ho(t,e),s!=null&&r.push(Xo(t,s,i))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ty(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Ho(n,s),u!=null&&o.unshift(Xo(n,u,a))):i||(u=Ho(n,s),u!=null&&o.push(Xo(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mC=/\r\n?/g,gC=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(mC,`
`).replace(gC,"")}function pu(t,e,n){if(e=Iy(e),Iy(t)!==e&&n)throw Error(b(425))}function ll(){}var Bf=null,zf=null;function jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(wC)}:Hf;function wC(t){setTimeout(function(){throw t})}function xh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Vs,Jo="__reactProps$"+Vs,qn="__reactContainer$"+Vs,Wf="__reactEvents$"+Vs,SC="__reactListeners$"+Vs,_C="__reactHandles$"+Vs;function Kr(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ky(t);t!==null;){if(n=t[Tn])return n;t=ky(t)}return e}t=n,n=t.parentNode}return null}function Ta(t){return t=t[Tn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function sc(t){return t[Jo]||null}var qf=[],Hi=-1;function Pr(t){return{current:t}}function Ce(t){0>Hi||(t.current=qf[Hi],qf[Hi]=null,Hi--)}function Te(t,e){Hi++,qf[Hi]=t.current,t.current=e}var kr={},_t=Pr(kr),xt=Pr(!1),si=kr;function ps(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function cl(){Ce(xt),Ce(_t)}function Cy(t,e,n){if(_t.current!==kr)throw Error(b(168));Te(_t,e),Te(xt,n)}function xS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,sk(t)||"Unknown",i));return Ue({},n,r)}function hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,si=_t.current,Te(_t,t),Te(xt,xt.current),!0}function Ay(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=xS(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,Ce(xt),Ce(_t),Te(_t,t)):Ce(xt),Te(xt,n)}var $n=null,oc=!1,Mh=!1;function MS(t){$n===null?$n=[t]:$n.push(t)}function EC(t){oc=!0,MS(t)}function $r(){if(!Mh&&$n!==null){Mh=!0;var t=0,e=we;try{var n=$n;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,oc=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),uS(_p,$r),i}finally{we=e,Mh=!1}}return null}var Wi=[],qi=0,fl=null,dl=0,Jt=[],Zt=0,oi=null,Mn=1,Un="";function jr(t,e){Wi[qi++]=dl,Wi[qi++]=fl,fl=t,dl=e}function US(t,e,n){Jt[Zt++]=Mn,Jt[Zt++]=Un,Jt[Zt++]=oi,oi=t;var r=Mn;t=Un;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var s=32-dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mn=1<<32-dn(e)+i|n<<i|r,Un=s+t}else Mn=1<<s|n<<i|r,Un=t}function bp(t){t.return!==null&&(jr(t,1),US(t,1,0))}function Op(t){for(;t===fl;)fl=Wi[--qi],Wi[qi]=null,dl=Wi[--qi],Wi[qi]=null;for(;t===oi;)oi=Jt[--Zt],Jt[Zt]=null,Un=Jt[--Zt],Jt[Zt]=null,Mn=Jt[--Zt],Jt[Zt]=null}var Wt=null,Ht=null,Oe=!1,fn=null;function VS(t,e){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oi!==null?{id:Mn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function Kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gf(t){if(Oe){var e=Ht;if(e){var n=e;if(!Ny(t,e)){if(Kf(t))throw Error(b(418));e=gr(n.nextSibling);var r=Wt;e&&Ny(t,e)?VS(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Wt=t)}}else{if(Kf(t))throw Error(b(418));t.flags=t.flags&-4097|2,Oe=!1,Wt=t}}}function by(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function mu(t){if(t!==Wt)return!1;if(!Oe)return by(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Kf(t))throw FS(),Error(b(418));for(;e;)VS(t,e),e=gr(e.nextSibling)}if(by(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?gr(t.stateNode.nextSibling):null;return!0}function FS(){for(var t=Ht;t;)t=gr(t.nextSibling)}function ms(){Ht=Wt=null,Oe=!1}function Dp(t){fn===null?fn=[t]:fn.push(t)}var TC=Jn.ReactCurrentBatchConfig;function cn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pl=Pr(null),ml=null,Ki=null,Lp=null;function Pp(){Lp=Ki=ml=null}function $p(t){var e=pl.current;Ce(pl),t._currentValue=e}function Qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function is(t,e){ml=t,Lp=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&($t=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(Lp!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(ml===null)throw Error(b(308));Ki=t,ml.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var Gr=null;function xp(t){Gr===null?Gr=[t]:Gr.push(t)}function BS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kn(t,r)}function Kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function Mp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ge&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kn(t,n)}return i=r.interleaved,i===null?(e.next=e,xp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kn(t,n)}function Vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ep(t,n)}}function Oy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gl(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,S=a;switch(f=e,p=n,S.tag){case 1:if(m=S.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=S.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ue({},h,f);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ui|=o,t.lanes=o,t.memoizedState=h}}function Dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var jS=new Bw.Component().refs;function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ac={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=wr(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(pn(e,t,i,r),Vu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=wr(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(pn(e,t,i,r),Vu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=wr(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(pn(e,t,r,n),Vu(e,t,r))}};function Ly(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qo(n,r)||!Qo(i,s):!0}function HS(t,e,n){var r=!1,i=kr,s=e.contextType;return typeof s=="object"&&s!==null?s=rn(s):(i=Mt(e)?si:_t.current,r=e.contextTypes,s=(r=r!=null)?ps(t,i):kr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ac.enqueueReplaceState(e,e.state,null)}function Xf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jS,Mp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rn(s):(s=Mt(e)?si:_t.current,i.context=ps(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ac.enqueueReplaceState(i,i.state,null),gl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $y(t){var e=t._init;return e(t._payload)}function WS(t){function e(g,d){if(t){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function n(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function i(g,d){return g=Sr(g,d),g.index=0,g.sibling=null,g}function s(g,d,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=2,d):y):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,y,T){return d===null||d.tag!==6?(d=Hh(y,g.mode,T),d.return=g,d):(d=i(d,y),d.return=g,d)}function u(g,d,y,T){var R=y.type;return R===Vi?c(g,d,y.props.children,T,y.key):d!==null&&(d.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===nr&&$y(R)===d.type)?(T=i(d,y.props),T.ref=io(g,d,y),T.return=g,T):(T=Wu(y.type,y.key,y.props,null,g.mode,T),T.ref=io(g,d,y),T.return=g,T)}function l(g,d,y,T){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=Wh(y,g.mode,T),d.return=g,d):(d=i(d,y.children||[]),d.return=g,d)}function c(g,d,y,T,R){return d===null||d.tag!==7?(d=ti(y,g.mode,T,R),d.return=g,d):(d=i(d,y),d.return=g,d)}function h(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Hh(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case su:return y=Wu(d.type,d.key,d.props,null,g.mode,y),y.ref=io(g,null,d),y.return=g,y;case Ui:return d=Wh(d,g.mode,y),d.return=g,d;case nr:var T=d._init;return h(g,T(d._payload),y)}if(mo(d)||Zs(d))return d=ti(d,g.mode,y,null),d.return=g,d;gu(g,d)}return null}function f(g,d,y,T){var R=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:a(g,d,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case su:return y.key===R?u(g,d,y,T):null;case Ui:return y.key===R?l(g,d,y,T):null;case nr:return R=y._init,f(g,d,R(y._payload),T)}if(mo(y)||Zs(y))return R!==null?null:c(g,d,y,T,null);gu(g,y)}return null}function p(g,d,y,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(y)||null,a(d,g,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case su:return g=g.get(T.key===null?y:T.key)||null,u(d,g,T,R);case Ui:return g=g.get(T.key===null?y:T.key)||null,l(d,g,T,R);case nr:var O=T._init;return p(g,d,y,O(T._payload),R)}if(mo(T)||Zs(T))return g=g.get(y)||null,c(d,g,T,R,null);gu(d,T)}return null}function m(g,d,y,T){for(var R=null,O=null,I=d,A=d=0,Q=null;I!==null&&A<y.length;A++){I.index>A?(Q=I,I=null):Q=I.sibling;var $=f(g,I,y[A],T);if($===null){I===null&&(I=Q);break}t&&I&&$.alternate===null&&e(g,I),d=s($,d,A),O===null?R=$:O.sibling=$,O=$,I=Q}if(A===y.length)return n(g,I),Oe&&jr(g,A),R;if(I===null){for(;A<y.length;A++)I=h(g,y[A],T),I!==null&&(d=s(I,d,A),O===null?R=I:O.sibling=I,O=I);return Oe&&jr(g,A),R}for(I=r(g,I);A<y.length;A++)Q=p(I,g,A,y[A],T),Q!==null&&(t&&Q.alternate!==null&&I.delete(Q.key===null?A:Q.key),d=s(Q,d,A),O===null?R=Q:O.sibling=Q,O=Q);return t&&I.forEach(function(ue){return e(g,ue)}),Oe&&jr(g,A),R}function S(g,d,y,T){var R=Zs(y);if(typeof R!="function")throw Error(b(150));if(y=R.call(y),y==null)throw Error(b(151));for(var O=R=null,I=d,A=d=0,Q=null,$=y.next();I!==null&&!$.done;A++,$=y.next()){I.index>A?(Q=I,I=null):Q=I.sibling;var ue=f(g,I,$.value,T);if(ue===null){I===null&&(I=Q);break}t&&I&&ue.alternate===null&&e(g,I),d=s(ue,d,A),O===null?R=ue:O.sibling=ue,O=ue,I=Q}if($.done)return n(g,I),Oe&&jr(g,A),R;if(I===null){for(;!$.done;A++,$=y.next())$=h(g,$.value,T),$!==null&&(d=s($,d,A),O===null?R=$:O.sibling=$,O=$);return Oe&&jr(g,A),R}for(I=r(g,I);!$.done;A++,$=y.next())$=p(I,g,A,$.value,T),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?A:$.key),d=s($,d,A),O===null?R=$:O.sibling=$,O=$);return t&&I.forEach(function(ze){return e(g,ze)}),Oe&&jr(g,A),R}function C(g,d,y,T){if(typeof y=="object"&&y!==null&&y.type===Vi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case su:e:{for(var R=y.key,O=d;O!==null;){if(O.key===R){if(R=y.type,R===Vi){if(O.tag===7){n(g,O.sibling),d=i(O,y.props.children),d.return=g,g=d;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===nr&&$y(R)===O.type){n(g,O.sibling),d=i(O,y.props),d.ref=io(g,O,y),d.return=g,g=d;break e}n(g,O);break}else e(g,O);O=O.sibling}y.type===Vi?(d=ti(y.props.children,g.mode,T,y.key),d.return=g,g=d):(T=Wu(y.type,y.key,y.props,null,g.mode,T),T.ref=io(g,d,y),T.return=g,g=T)}return o(g);case Ui:e:{for(O=y.key;d!==null;){if(d.key===O)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(g,d.sibling),d=i(d,y.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else e(g,d);d=d.sibling}d=Wh(y,g.mode,T),d.return=g,g=d}return o(g);case nr:return O=y._init,C(g,d,O(y._payload),T)}if(mo(y))return m(g,d,y,T);if(Zs(y))return S(g,d,y,T);gu(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(g,d.sibling),d=i(d,y),d.return=g,g=d):(n(g,d),d=Hh(y,g.mode,T),d.return=g,g=d),o(g)):n(g,d)}return C}var gs=WS(!0),qS=WS(!1),Ia={},kn=Pr(Ia),Zo=Pr(Ia),ea=Pr(Ia);function Qr(t){if(t===Ia)throw Error(b(174));return t}function Up(t,e){switch(Te(ea,e),Te(Zo,t),Te(kn,Ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nf(e,t)}Ce(kn),Te(kn,e)}function ys(){Ce(kn),Ce(Zo),Ce(ea)}function KS(t){Qr(ea.current);var e=Qr(kn.current),n=Nf(e,t.type);e!==n&&(Te(Zo,t),Te(kn,n))}function Vp(t){Zo.current===t&&(Ce(kn),Ce(Zo))}var xe=Pr(0);function yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function Fp(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var Fu=Jn.ReactCurrentDispatcher,Vh=Jn.ReactCurrentBatchConfig,ai=0,Me=null,Ge=null,tt=null,vl=!1,No=!1,ta=0,IC=0;function gt(){throw Error(b(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function zp(t,e,n,r,i,s){if(ai=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fu.current=t===null||t.memoizedState===null?AC:NC,t=n(r,i),No){s=0;do{if(No=!1,ta=0,25<=s)throw Error(b(301));s+=1,tt=Ge=null,e.updateQueue=null,Fu.current=bC,t=n(r,i)}while(No)}if(Fu.current=wl,e=Ge!==null&&Ge.next!==null,ai=0,tt=Ge=Me=null,vl=!1,e)throw Error(b(300));return t}function jp(){var t=ta!==0;return ta=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Me.memoizedState=tt=t:tt=tt.next=t,tt}function sn(){if(Ge===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=tt===null?Me.memoizedState:tt.next;if(e!==null)tt=e,Ge=t;else{if(t===null)throw Error(b(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?Me.memoizedState=tt=t:tt=tt.next=t}return tt}function na(t,e){return typeof e=="function"?e(t):e}function Fh(t){var e=sn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((ai&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Me.lanes|=c,ui|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,yn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Me.lanes|=s,ui|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bh(t){var e=sn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function QS(t,e){var n=Me,r=sn(),i=e(),s=!yn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,Hp(JS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ra(9,XS.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(b(349));(ai&30)!==0||YS(n,e,i)}return i}function YS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XS(t,e,n,r){e.value=n,e.getSnapshot=r,ZS(e)&&e_(t)}function JS(t,e,n){return n(function(){ZS(e)&&e_(t)})}function ZS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function e_(t){var e=Kn(t,1);e!==null&&pn(e,t,1,-1)}function xy(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e.queue=t,t=t.dispatch=CC.bind(null,Me,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t_(){return sn().memoizedState}function Bu(t,e,n,r){var i=En();Me.flags|=t,i.memoizedState=ra(1|e,n,void 0,r===void 0?null:r)}function uc(t,e,n,r){var i=sn();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&Bp(r,o.deps)){i.memoizedState=ra(e,n,s,r);return}}Me.flags|=t,i.memoizedState=ra(1|e,n,s,r)}function My(t,e){return Bu(8390656,8,t,e)}function Hp(t,e){return uc(2048,8,t,e)}function n_(t,e){return uc(4,2,t,e)}function r_(t,e){return uc(4,4,t,e)}function i_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s_(t,e,n){return n=n!=null?n.concat([t]):null,uc(4,4,i_.bind(null,e,t),n)}function Wp(){}function o_(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function a_(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u_(t,e,n){return(ai&21)===0?(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n):(yn(n,e)||(n=hS(),Me.lanes|=n,ui|=n,t.baseState=!0),e)}function RC(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Vh.transition;Vh.transition={};try{t(!1),e()}finally{we=n,Vh.transition=r}}function l_(){return sn().memoizedState}function kC(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c_(t))h_(e,n);else if(n=BS(t,e,n,r),n!==null){var i=Ct();pn(n,t,r,i),f_(n,e,r)}}function CC(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c_(t))h_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yn(a,o)){var u=e.interleaved;u===null?(i.next=i,xp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=BS(t,e,i,r),n!==null&&(i=Ct(),pn(n,t,r,i),f_(n,e,r))}}function c_(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function h_(t,e){No=vl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f_(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ep(t,n)}}var wl={readContext:rn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},AC={readContext:rn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:My,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,i_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kC.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:xy,useDebugValue:Wp,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=xy(!1),e=t[0];return t=RC.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,i=En();if(Oe){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),nt===null)throw Error(b(349));(ai&30)!==0||YS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,My(JS.bind(null,r,s,t),[t]),r.flags|=2048,ra(9,XS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=En(),e=nt.identifierPrefix;if(Oe){var n=Un,r=Mn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NC={readContext:rn,useCallback:o_,useContext:rn,useEffect:Hp,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:Fh,useRef:t_,useState:function(){return Fh(na)},useDebugValue:Wp,useDeferredValue:function(t){var e=sn();return u_(e,Ge.memoizedState,t)},useTransition:function(){var t=Fh(na)[0],e=sn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:QS,useId:l_,unstable_isNewReconciler:!1},bC={readContext:rn,useCallback:o_,useContext:rn,useEffect:Hp,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:Bh,useRef:t_,useState:function(){return Bh(na)},useDebugValue:Wp,useDeferredValue:function(t){var e=sn();return Ge===null?e.memoizedState=t:u_(e,Ge.memoizedState,t)},useTransition:function(){var t=Bh(na)[0],e=sn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:QS,useId:l_,unstable_isNewReconciler:!1};function vs(t,e){try{var n="",r=e;do n+=ik(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zh(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OC=typeof WeakMap=="function"?WeakMap:Map;function d_(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_l||(_l=!0,ud=r),Jf(t,e)},n}function p_(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jf(t,e),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WC.bind(null,t,e,n),e.then(t,t))}function Vy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fy(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var DC=Jn.ReactCurrentOwner,$t=!1;function Et(t,e,n,r){e.child=t===null?qS(e,null,n,r):gs(e,t.child,n,r)}function By(t,e,n,r,i){n=n.render;var s=e.ref;return is(e,i),r=zp(t,e,n,r,s,i),n=jp(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Oe&&n&&bp(e),e.flags|=1,Et(t,e,r,i),e.child)}function zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,m_(t,e,s,r,i)):(t=Wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(o,r)&&t.ref===e.ref)return Gn(t,e,i)}return e.flags|=1,t=Sr(s,r),t.ref=e.ref,t.return=e,e.child=t}function m_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qo(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&($t=!0);else return e.lanes=t.lanes,Gn(t,e,i)}return Zf(t,e,n,r,i)}function g_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Qi,jt),jt|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Qi,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Qi,jt),jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(Qi,jt),jt|=r;return Et(t,e,i,n),e.child}function y_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zf(t,e,n,r,i){var s=Mt(n)?si:_t.current;return s=ps(e,s),is(e,i),n=zp(t,e,n,r,s,i),r=jp(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Oe&&r&&bp(e),e.flags|=1,Et(t,e,n,i),e.child)}function jy(t,e,n,r,i){if(Mt(n)){var s=!0;hl(e)}else s=!1;if(is(e,i),e.stateNode===null)zu(t,e),HS(e,n,r),Xf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=rn(l):(l=Mt(n)?si:_t.current,l=ps(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Py(e,o,r,l),rr=!1;var f=e.memoizedState;o.state=f,gl(e,r,o,i),u=e.memoizedState,a!==r||f!==u||xt.current||rr?(typeof c=="function"&&(Yf(e,n,c,r),u=e.memoizedState),(a=rr||Ly(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zS(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:cn(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Mt(n)?si:_t.current,u=ps(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Py(e,o,r,u),rr=!1,f=e.memoizedState,o.state=f,gl(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||xt.current||rr?(typeof p=="function"&&(Yf(e,n,p,r),m=e.memoizedState),(l=rr||Ly(e,n,l,r,f,m,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ed(t,e,n,r,s,i)}function ed(t,e,n,r,i,s){y_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ay(e,n,!1),Gn(t,e,s);r=e.stateNode,DC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gs(e,t.child,null,s),e.child=gs(e,null,a,s)):Et(t,e,a,s),e.memoizedState=r.state,i&&Ay(e,n,!0),e.child}function v_(t){var e=t.stateNode;e.pendingContext?Cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cy(t,e.context,!1),Up(t,e.containerInfo)}function Hy(t,e,n,r,i){return ms(),Dp(i),e.flags|=256,Et(t,e,n,r),e.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function w_(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(xe,i&1),t===null)return Gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hc(o,r,0,null),t=ti(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nd(n),e.memoizedState=td,t):qp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Sr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sr(a,s):(s=ti(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=td,r}return s=t.child,t=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qp(t,e){return e=hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&Dp(r),gs(e,t.child,null,n),t=qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zh(Error(b(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hc({mode:"visible",children:r.children},i,0,null),s=ti(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&gs(e,t.child,null,o),e.child.memoizedState=nd(o),e.memoizedState=td,s);if((e.mode&1)===0)return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=zh(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kn(t,i),pn(r,t,i,-1))}return Jp(),r=zh(Error(b(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ht=gr(i.nextSibling),Wt=e,Oe=!0,fn=null,t!==null&&(Jt[Zt++]=Mn,Jt[Zt++]=Un,Jt[Zt++]=oi,Mn=t.id,Un=t.overflow,oi=e),e=qp(e,r.children),e.flags|=4096,e)}function Wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qf(t.return,e,n)}function jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function S_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Et(t,e,r.children,n),r=xe.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,n,e);else if(t.tag===19)Wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(xe,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jh(e,!0,n,null,s);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PC(t,e,n){switch(e.tag){case 3:v_(e),ms();break;case 5:KS(e);break;case 1:Mt(e.type)&&hl(e);break;case 4:Up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(pl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(xe,xe.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?w_(t,e,n):(Te(xe,xe.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);Te(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return S_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,g_(t,e,n)}return Gn(t,e,n)}var __,rd,E_,T_;__=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rd=function(){};E_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(kn.current);var s=null;switch(n){case"input":i=Rf(t,i),r=Rf(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=Af(t,i),r=Af(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}bf(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zo.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(zo.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Re("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};T_=function(t,e,n,r){n!==r&&(e.flags|=4)};function so(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $C(t,e,n){var r=e.pendingProps;switch(Op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Mt(e.type)&&cl(),yt(e),null;case 3:return r=e.stateNode,ys(),Ce(xt),Ce(_t),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,fn!==null&&(hd(fn),fn=null))),rd(t,e),yt(e),null;case 5:Vp(e);var i=Qr(ea.current);if(n=e.type,t!==null&&e.stateNode!=null)E_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return yt(e),null}if(t=Qr(kn.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tn]=e,r[Jo]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)Re(yo[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":ey(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":ny(r,s),Re("invalid",r)}bf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":ou(r),ty(r,s,!0);break;case"textarea":ou(r),ry(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Jo]=r,__(t,e,!1,!1),e.stateNode=t;e:{switch(o=Of(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)Re(yo[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":ey(t,r),i=Rf(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",t);break;case"textarea":ny(t,r),i=Af(t,r),Re("invalid",t);break;default:i=r}bf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Zw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jo(t,u):typeof u=="number"&&jo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Re("scroll",t):u!=null&&gp(t,s,u,o))}switch(n){case"input":ou(t),ty(t,r,!1);break;case"textarea":ou(t),ry(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?es(t,!!r.multiple,s,!1):r.defaultValue!=null&&es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)T_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Qr(ea.current),Qr(kn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(s=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return yt(e),null;case 13:if(Ce(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Ht!==null&&(e.mode&1)!==0&&(e.flags&128)===0)FS(),ms(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Tn]=e}else ms(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else fn!==null&&(hd(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(xe.current&1)!==0?Qe===0&&(Qe=3):Jp())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return ys(),rd(t,e),t===null&&Yo(e.stateNode.containerInfo),yt(e),null;case 10:return $p(e.type._context),yt(e),null;case 17:return Mt(e.type)&&cl(),yt(e),null;case 19:if(Ce(xe),s=e.memoizedState,s===null)return yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)so(s,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=yl(t),o!==null){for(e.flags|=128,so(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>ws&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304)}else{if(!r)if(t=yl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),so(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return yt(e),null}else 2*Be()-s.renderingStartTime>ws&&n!==1073741824&&(e.flags|=128,r=!0,so(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=xe.current,Te(xe,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Xp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(jt&1073741824)!==0&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function xC(t,e){switch(Op(e),e.tag){case 1:return Mt(e.type)&&cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),Ce(xt),Ce(_t),Fp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Vp(e),null;case 13:if(Ce(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(xe),null;case 4:return ys(),null;case 10:return $p(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var vu=!1,vt=!1,MC=typeof WeakSet=="function"?WeakSet:Set,B=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function id(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var qy=!1;function UC(t,e){if(Bf=ol,t=CS(),Np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},ol=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var S=m.memoizedProps,C=m.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:cn(e.type,S),C);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){Ve(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return m=qy,qy=!1,m}function bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&id(e,n,s)}i=i.next}while(i!==r)}}function lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function I_(t){var e=t.alternate;e!==null&&(t.alternate=null,I_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Jo],delete e[Wf],delete e[SC],delete e[_C])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R_(t){return t.tag===5||t.tag===3||t.tag===4}function Ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(od(t,e,n),t=t.sibling;t!==null;)od(t,e,n),t=t.sibling}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}var at=null,hn=!1;function er(t,e,n){for(n=n.child;n!==null;)k_(t,e,n),n=n.sibling}function k_(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(tc,n)}catch{}switch(n.tag){case 5:vt||Gi(n,e);case 6:var r=at,i=hn;at=null,er(t,e,n),at=r,hn=i,at!==null&&(hn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(hn?(t=at,n=n.stateNode,t.nodeType===8?xh(t.parentNode,n):t.nodeType===1&&xh(t,n),Ko(t)):xh(at,n.stateNode));break;case 4:r=at,i=hn,at=n.stateNode.containerInfo,hn=!0,er(t,e,n),at=r,hn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&id(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!vt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,er(t,e,n),vt=r):er(t,e,n);break;default:er(t,e,n)}}function Gy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MC),e.forEach(function(r){var i=KC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,hn=!1;break e;case 3:at=a.stateNode.containerInfo,hn=!0;break e;case 4:at=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(at===null)throw Error(b(160));k_(s,o,i),at=null,hn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ve(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C_(e,t),e=e.sibling}function C_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),_n(t),r&4){try{bo(3,t,t.return),lc(3,t)}catch(S){Ve(t,t.return,S)}try{bo(5,t,t.return)}catch(S){Ve(t,t.return,S)}}break;case 1:un(e,t),_n(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(un(e,t),_n(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{jo(i,"")}catch(S){Ve(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Gw(i,s),Of(a,o);var l=Of(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?Zw(i,h):c==="dangerouslySetInnerHTML"?Xw(i,h):c==="children"?jo(i,h):gp(i,c,h,l)}switch(a){case"input":kf(i,s);break;case"textarea":Qw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?es(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jo]=s}catch(S){Ve(t,t.return,S)}}break;case 6:if(un(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ve(t,t.return,S)}}break;case 3:if(un(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(S){Ve(t,t.return,S)}break;case 4:un(e,t),_n(t);break;case 13:un(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qp=Be())),r&4&&Gy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(l=vt)||c,un(e,t),vt=l):un(e,t),_n(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(B=t,c=t.child;c!==null;){for(h=B=c;B!==null;){switch(f=B,p=f.child,f.tag){case 0:case 11:case 14:case 15:bo(4,f,f.return);break;case 1:Gi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(S){Ve(r,n,S)}}break;case 5:Gi(f,f.return);break;case 22:if(f.memoizedState!==null){Yy(h);continue}}p!==null?(p.return=f,B=p):Yy(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Jw("display",o))}catch(S){Ve(t,t.return,S)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(S){Ve(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(e,t),_n(t),r&4&&Gy(t);break;case 21:break;default:un(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R_(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jo(i,""),r.flags&=-33);var s=Ky(t);ad(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ky(t);od(t,a,o);break;default:throw Error(b(161))}}catch(u){Ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VC(t,e,n){B=t,A_(t)}function A_(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||vt;a=vu;var l=vt;if(vu=o,(vt=u)&&!l)for(B=i;B!==null;)o=B,u=o.child,o.tag===22&&o.memoizedState!==null?Xy(i):u!==null?(u.return=o,B=u):Xy(i);for(;s!==null;)B=s,A_(s),s=s.sibling;B=i,vu=a,vt=l}Qy(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,B=s):Qy(t)}}function Qy(t){for(;B!==null;){var e=B;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:vt||lc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}vt||e.flags&512&&sd(e)}catch(f){Ve(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Yy(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Xy(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lc(4,e)}catch(u){Ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ve(e,i,u)}}var s=e.return;try{sd(e)}catch(u){Ve(e,s,u)}break;case 5:var o=e.return;try{sd(e)}catch(u){Ve(e,o,u)}}}catch(u){Ve(e,e.return,u)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var FC=Math.ceil,Sl=Jn.ReactCurrentDispatcher,Kp=Jn.ReactCurrentOwner,tn=Jn.ReactCurrentBatchConfig,ge=0,nt=null,We=null,ct=0,jt=0,Qi=Pr(0),Qe=0,ia=null,ui=0,cc=0,Gp=0,Oo=null,Lt=null,Qp=0,ws=1/0,Pn=null,_l=!1,ud=null,vr=null,wu=!1,fr=null,El=0,Do=0,ld=null,ju=-1,Hu=0;function Ct(){return(ge&6)!==0?Be():ju!==-1?ju:ju=Be()}function wr(t){return(t.mode&1)===0?1:(ge&2)!==0&&ct!==0?ct&-ct:TC.transition!==null?(Hu===0&&(Hu=hS()),Hu):(t=we,t!==0||(t=window.event,t=t===void 0?16:vS(t.type)),t)}function pn(t,e,n,r){if(50<Do)throw Do=0,ld=null,Error(b(185));_a(t,n,r),((ge&2)===0||t!==nt)&&(t===nt&&((ge&2)===0&&(cc|=n),Qe===4&&or(t,ct)),Ut(t,r),n===1&&ge===0&&(e.mode&1)===0&&(ws=Be()+500,oc&&$r()))}function Ut(t,e){var n=t.callbackNode;Tk(t,e);var r=sl(t,t===nt?ct:0);if(r===0)n!==null&&oy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oy(n),e===1)t.tag===0?EC(Jy.bind(null,t)):MS(Jy.bind(null,t)),vC(function(){(ge&6)===0&&$r()}),n=null;else{switch(fS(r)){case 1:n=_p;break;case 4:n=lS;break;case 16:n=il;break;case 536870912:n=cS;break;default:n=il}n=x_(n,N_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N_(t,e){if(ju=-1,Hu=0,(ge&6)!==0)throw Error(b(327));var n=t.callbackNode;if(ss()&&t.callbackNode!==n)return null;var r=sl(t,t===nt?ct:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Tl(t,r);else{e=r;var i=ge;ge|=2;var s=O_();(nt!==t||ct!==e)&&(Pn=null,ws=Be()+500,ei(t,e));do try{jC();break}catch(a){b_(t,a)}while(1);Pp(),Sl.current=s,ge=i,We!==null?e=0:(nt=null,ct=0,e=Qe)}if(e!==0){if(e===2&&(i=xf(t),i!==0&&(r=i,e=cd(t,i))),e===1)throw n=ia,ei(t,0),or(t,r),Ut(t,Be()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,(r&30)===0&&!BC(i)&&(e=Tl(t,r),e===2&&(s=xf(t),s!==0&&(r=s,e=cd(t,s))),e===1))throw n=ia,ei(t,0),or(t,r),Ut(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Hr(t,Lt,Pn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Qp+500-Be(),10<e)){if(sl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hf(Hr.bind(null,t,Lt,Pn),e);break}Hr(t,Lt,Pn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FC(r/1960))-r,10<r){t.timeoutHandle=Hf(Hr.bind(null,t,Lt,Pn),r);break}Hr(t,Lt,Pn);break;case 5:Hr(t,Lt,Pn);break;default:throw Error(b(329))}}}return Ut(t,Be()),t.callbackNode===n?N_.bind(null,t):null}function cd(t,e){var n=Oo;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=Tl(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&hd(e)),t}function hd(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function BC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Gp,e&=~cc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Jy(t){if((ge&6)!==0)throw Error(b(327));ss();var e=sl(t,0);if((e&1)===0)return Ut(t,Be()),null;var n=Tl(t,e);if(t.tag!==0&&n===2){var r=xf(t);r!==0&&(e=r,n=cd(t,r))}if(n===1)throw n=ia,ei(t,0),or(t,e),Ut(t,Be()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,Lt,Pn),Ut(t,Be()),null}function Yp(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(ws=Be()+500,oc&&$r())}}function li(t){fr!==null&&fr.tag===0&&(ge&6)===0&&ss();var e=ge;ge|=1;var n=tn.transition,r=we;try{if(tn.transition=null,we=1,t)return t()}finally{we=r,tn.transition=n,ge=e,(ge&6)===0&&$r()}}function Xp(){jt=Qi.current,Ce(Qi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yC(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:ys(),Ce(xt),Ce(_t),Fp();break;case 5:Vp(r);break;case 4:ys();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:$p(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(nt=t,We=t=Sr(t.current,null),ct=jt=e,Qe=0,ia=null,Gp=cc=ui=0,Lt=Oo=null,Gr!==null){for(e=0;e<Gr.length;e++)if(n=Gr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Gr=null}return t}function b_(t,e){do{var n=We;try{if(Pp(),Fu.current=wl,vl){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vl=!1}if(ai=0,tt=Ge=Me=null,No=!1,ta=0,Kp.current=null,n===null||n.return===null){Qe=1,ia=e,We=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ct,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Vy(o);if(p!==null){p.flags&=-257,Fy(p,o,a,s,e),p.mode&1&&Uy(s,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var S=new Set;S.add(u),e.updateQueue=S}else m.add(u);break e}else{if((e&1)===0){Uy(s,l,e),Jp();break e}u=Error(b(426))}}else if(Oe&&a.mode&1){var C=Vy(o);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),Fy(C,o,a,s,e),Dp(vs(u,a));break e}}s=u=vs(u,a),Qe!==4&&(Qe=2),Oo===null?Oo=[s]:Oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=d_(s,u,e);Oy(s,g);break e;case 1:a=u;var d=s.type,y=s.stateNode;if((s.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=p_(s,a,e);Oy(s,T);break e}}s=s.return}while(s!==null)}L_(n)}catch(R){e=R,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function O_(){var t=Sl.current;return Sl.current=wl,t===null?wl:t}function Jp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||(ui&268435455)===0&&(cc&268435455)===0||or(nt,ct)}function Tl(t,e){var n=ge;ge|=2;var r=O_();(nt!==t||ct!==e)&&(Pn=null,ei(t,e));do try{zC();break}catch(i){b_(t,i)}while(1);if(Pp(),ge=n,Sl.current=r,We!==null)throw Error(b(261));return nt=null,ct=0,Qe}function zC(){for(;We!==null;)D_(We)}function jC(){for(;We!==null&&!pk();)D_(We)}function D_(t){var e=$_(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?L_(t):We=e,Kp.current=null}function L_(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=$C(n,e,jt),n!==null){We=n;return}}else{if(n=xC(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Qe===0&&(Qe=5)}function Hr(t,e,n){var r=we,i=tn.transition;try{tn.transition=null,we=1,HC(t,e,n,r)}finally{tn.transition=i,we=r}return null}function HC(t,e,n,r){do ss();while(fr!==null);if((ge&6)!==0)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ik(t,s),t===nt&&(We=nt=null,ct=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||wu||(wu=!0,x_(il,function(){return ss(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=tn.transition,tn.transition=null;var o=we;we=1;var a=ge;ge|=4,Kp.current=null,UC(t,n),C_(n,t),cC(zf),ol=!!Bf,zf=Bf=null,t.current=n,VC(n),mk(),ge=a,we=o,tn.transition=s}else t.current=n;if(wu&&(wu=!1,fr=t,El=i),s=t.pendingLanes,s===0&&(vr=null),vk(n.stateNode),Ut(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_l)throw _l=!1,t=ud,ud=null,t;return(El&1)!==0&&t.tag!==0&&ss(),s=t.pendingLanes,(s&1)!==0?t===ld?Do++:(Do=0,ld=t):Do=0,$r(),null}function ss(){if(fr!==null){var t=fS(El),e=tn.transition,n=we;try{if(tn.transition=null,we=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,El=0,(ge&6)!==0)throw Error(b(331));var i=ge;for(ge|=4,B=t.current;B!==null;){var s=B,o=s.child;if((B.flags&16)!==0){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(B=l;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:bo(8,c,s)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var f=c.sibling,p=c.return;if(I_(c),c===l){B=null;break}if(f!==null){f.return=p,B=f;break}B=p}}}var m=s.alternate;if(m!==null){var S=m.child;if(S!==null){m.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}B=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,B=g;break e}B=s.return}}var d=t.current;for(B=d;B!==null;){o=B;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,B=y;else e:for(o=d;B!==null;){if(a=B,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:lc(9,a)}}catch(R){Ve(a,a.return,R)}if(a===o){B=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,B=T;break e}B=a.return}}if(ge=i,$r(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(tc,t)}catch{}r=!0}return r}finally{we=n,tn.transition=e}}return!1}function Zy(t,e,n){e=vs(n,e),e=d_(t,e,1),t=yr(t,e,1),e=Ct(),t!==null&&(_a(t,1,e),Ut(t,e))}function Ve(t,e,n){if(t.tag===3)Zy(t,t,n);else for(;e!==null;){if(e.tag===3){Zy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){t=vs(n,t),t=p_(e,t,1),e=yr(e,t,1),t=Ct(),e!==null&&(_a(e,1,t),Ut(e,t));break}}e=e.return}}function WC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(Qe===4||Qe===3&&(ct&130023424)===ct&&500>Be()-Qp?ei(t,0):Gp|=n),Ut(t,e)}function P_(t,e){e===0&&((t.mode&1)===0?e=1:(e=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var n=Ct();t=Kn(t,e),t!==null&&(_a(t,e,n),Ut(t,n))}function qC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P_(t,n)}function KC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),P_(t,n)}var $_;$_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)$t=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return $t=!1,PC(t,e,n);$t=(t.flags&131072)!==0}else $t=!1,Oe&&(e.flags&1048576)!==0&&US(e,dl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var i=ps(e,_t.current);is(e,n),i=zp(null,e,r,t,i,n);var s=jp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,hl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mp(e),i.updater=ac,e.stateNode=i,i._reactInternals=e,Xf(e,r,t,n),e=ed(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&bp(e),Et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QC(r),t=cn(r,t),i){case 0:e=Zf(null,e,r,t,n);break e;case 1:e=jy(null,e,r,t,n);break e;case 11:e=By(null,e,r,t,n);break e;case 14:e=zy(null,e,r,cn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Zf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),jy(t,e,r,i,n);case 3:e:{if(v_(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zS(t,e),gl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vs(Error(b(423)),e),e=Hy(t,e,r,n,i);break e}else if(r!==i){i=vs(Error(b(424)),e),e=Hy(t,e,r,n,i);break e}else for(Ht=gr(e.stateNode.containerInfo.firstChild),Wt=e,Oe=!0,fn=null,n=qS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){e=Gn(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return KS(e),t===null&&Gf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jf(r,i)?o=null:s!==null&&jf(r,s)&&(e.flags|=32),y_(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&Gf(e),null;case 13:return w_(t,e,n);case 4:return Up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),By(t,e,r,i,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(pl,r._currentValue),r._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!xt.current){e=Gn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=zn(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,is(e,n),i=rn(i),r=r(i),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,i=cn(r,e.pendingProps),i=cn(r.type,i),zy(t,e,r,i,n);case 15:return m_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),zu(t,e),e.tag=1,Mt(r)?(t=!0,hl(e)):t=!1,is(e,n),HS(e,r,i),Xf(e,r,i,n),ed(null,e,r,!0,t,n);case 19:return S_(t,e,n);case 22:return g_(t,e,n)}throw Error(b(156,e.tag))};function x_(t,e){return uS(t,e)}function GC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,r){return new GC(t,e,n,r)}function Zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QC(t){if(typeof t=="function")return Zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vp)return 11;if(t===wp)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vi:return ti(n.children,i,s,e);case yp:o=8,i|=8;break;case _f:return t=en(12,n,e,i|2),t.elementType=_f,t.lanes=s,t;case Ef:return t=en(13,n,e,i),t.elementType=Ef,t.lanes=s,t;case Tf:return t=en(19,n,e,i),t.elementType=Tf,t.lanes=s,t;case Ww:return hc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jw:o=10;break e;case Hw:o=9;break e;case vp:o=11;break e;case wp:o=14;break e;case nr:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=en(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ti(t,e,n,r){return t=en(7,t,r,e),t.lanes=n,t}function hc(t,e,n,r){return t=en(22,t,r,e),t.elementType=Ww,t.lanes=n,t.stateNode={isHidden:!1},t}function Hh(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function Wh(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function em(t,e,n,r,i,s,o,a,u){return t=new YC(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=en(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(s),t}function XC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M_(t){if(!t)return kr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Mt(n))return xS(t,n,e)}return e}function U_(t,e,n,r,i,s,o,a,u){return t=em(n,r,!0,t,i,s,o,a,u),t.context=M_(null),n=t.current,r=Ct(),i=wr(n),s=zn(r,i),s.callback=e!=null?e:null,yr(n,s,i),t.current.lanes=i,_a(t,i,r),Ut(t,r),t}function fc(t,e,n,r){var i=e.current,s=Ct(),o=wr(i);return n=M_(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,o),t!==null&&(pn(t,i,o,s),Vu(t,i,o)),o}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tm(t,e){ev(t,e),(t=t.alternate)&&ev(t,e)}function JC(){return null}var V_=typeof reportError=="function"?reportError:function(t){console.error(t)};function nm(t){this._internalRoot=t}dc.prototype.render=nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));fc(t,e,null,null)};dc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){fc(null,t,null,null)}),e[qn]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=mS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&yS(t)}};function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tv(){}function ZC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Il(o);s.call(l)}}var o=U_(e,r,t,0,null,!1,!1,"",tv);return t._reactRootContainer=o,t[qn]=o.current,Yo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Il(u);a.call(l)}}var u=em(t,0,!1,null,null,!1,!1,"",tv);return t._reactRootContainer=u,t[qn]=u.current,Yo(t.nodeType===8?t.parentNode:t),li(function(){fc(e,u,n,r)}),u}function mc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Il(o);a.call(u)}}fc(e,o,t,i)}else o=ZC(n,e,t,i,r);return Il(o)}dS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=go(e.pendingLanes);n!==0&&(Ep(e,n|1),Ut(e,Be()),(ge&6)===0&&(ws=Be()+500,$r()))}break;case 13:li(function(){var r=Kn(t,1);if(r!==null){var i=Ct();pn(r,t,1,i)}}),tm(t,1)}};Tp=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var n=Ct();pn(e,t,134217728,n)}tm(t,134217728)}};pS=function(t){if(t.tag===13){var e=wr(t),n=Kn(t,e);if(n!==null){var r=Ct();pn(n,t,e,r)}tm(t,e)}};mS=function(){return we};gS=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Lf=function(t,e,n){switch(e){case"input":if(kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sc(r);if(!i)throw Error(b(90));Kw(r),kf(r,i)}}}break;case"textarea":Qw(t,n);break;case"select":e=n.value,e!=null&&es(t,!!n.multiple,e,!1)}};nS=Yp;rS=li;var eA={usingClientEntryPoint:!1,Events:[Ta,ji,sc,eS,tS,Yp]},oo={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tA={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oS(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||JC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{tc=Su.inject(tA),Rn=Su}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(e))throw Error(b(200));return XC(t,e,null,n)};Gt.createRoot=function(t,e){if(!rm(t))throw Error(b(299));var n=!1,r="",i=V_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=em(t,1,!1,null,null,n,!1,r,i),t[qn]=e.current,Yo(t.nodeType===8?t.parentNode:t),new nm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=oS(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return li(t)};Gt.hydrate=function(t,e,n){if(!pc(e))throw Error(b(200));return mc(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!rm(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=V_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=U_(e,null,t,1,n!=null?n:null,i,!1,s,o),t[qn]=e.current,Yo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dc(e)};Gt.render=function(t,e,n){if(!pc(e))throw Error(b(200));return mc(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!pc(t))throw Error(b(40));return t._reactRootContainer?(li(function(){mc(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};Gt.unstable_batchedUpdates=Yp;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pc(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return mc(t,e,n,!1,r)};Gt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Gt})(Uw);const F_=bw(Uw.exports);const nA="modulepreload",rA=function(t){return"/repo-name/"+t},nv={},Ra=function(e,n,r){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=rA(i),i in nv)return;nv[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":nA,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((u,l)=>{a.addEventListener("load",u),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));var rv=function(t){return t},iv="beforeunload",iA="popstate";function sA(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var I=r.location,A=I.pathname,Q=I.search,$=I.hash,ue=i.state||{};return[ue.idx,rv({pathname:A,search:Q,hash:$,state:ue.usr||null,key:ue.key||"default"})]}var o=null;function a(){if(o)p.call(o),o=null;else{var I=Yr.Pop,A=s(),Q=A[0],$=A[1];if(p.length){if(Q!=null){var ue=c-Q;ue&&(o={action:I,location:$,retry:function(){R(ue*-1)}},R(ue))}}else d(I)}}r.addEventListener(iA,a);var u=Yr.Pop,l=s(),c=l[0],h=l[1],f=ov(),p=ov();c==null&&(c=0,i.replaceState(Rl({},i.state,{idx:c}),""));function m(I){return typeof I=="string"?I:fd(I)}function S(I,A){return A===void 0&&(A=null),rv(Rl({pathname:h.pathname,hash:"",search:""},typeof I=="string"?Ii(I):I,{state:A,key:oA()}))}function C(I,A){return[{usr:I.state,key:I.key,idx:A},m(I)]}function g(I,A,Q){return!p.length||(p.call({action:I,location:A,retry:Q}),!1)}function d(I){u=I;var A=s();c=A[0],h=A[1],f.call({action:u,location:h})}function y(I,A){var Q=Yr.Push,$=S(I,A);function ue(){y(I,A)}if(g(Q,$,ue)){var ze=C($,c+1),_e=ze[0],Fe=ze[1];try{i.pushState(_e,"",Fe)}catch{r.location.assign(Fe)}d(Q)}}function T(I,A){var Q=Yr.Replace,$=S(I,A);function ue(){T(I,A)}if(g(Q,$,ue)){var ze=C($,c),_e=ze[0],Fe=ze[1];i.replaceState(_e,"",Fe),d(Q)}}function R(I){i.go(I)}var O={get action(){return u},get location(){return h},createHref:m,push:y,replace:T,go:R,back:function(){R(-1)},forward:function(){R(1)},listen:function(A){return f.push(A)},block:function(A){var Q=p.push(A);return p.length===1&&r.addEventListener(iv,sv),function(){Q(),p.length||r.removeEventListener(iv,sv)}}};return O}function sv(t){t.preventDefault(),t.returnValue=""}function ov(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function oA(){return Math.random().toString(36).substr(2,8)}function fd(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ii(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const im=te.exports.createContext(null),sm=te.exports.createContext(null),ka=te.exports.createContext({outlet:null,matches:[]});function vn(t,e){if(!t)throw new Error(e)}function aA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ii(e):e,i=j_(r.pathname||"/",n);if(i==null)return null;let s=B_(t);uA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=yA(s[a],i);return o}function B_(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||vn(!1),o.relativePath=o.relativePath.slice(r.length));let a=_r([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&vn(!1),B_(i.children,e,u,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:mA(a,i.index),routesMeta:u})}),e}function uA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lA=/^:\w+$/,cA=3,hA=2,fA=1,dA=10,pA=-2,av=t=>t==="*";function mA(t,e){let n=t.split("/"),r=n.length;return n.some(av)&&(r+=pA),e&&(r+=hA),n.filter(i=>!av(i)).reduce((i,s)=>i+(lA.test(s)?cA:s===""?fA:dA),r)}function gA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=vA({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:_r([i,c.pathname]),pathnameBase:H_(_r([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=_r([i,c.pathnameBase]))}return s}function vA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=SA(a[h]||""),l},{}),pathname:s,pathnameBase:o,pattern:t}}function wA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function SA(t,e){try{return decodeURIComponent(t)}catch{return t}}function _A(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:EA(n,e):e,search:IA(r),hash:RA(i)}}function EA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function z_(t,e,n){let r=typeof t=="string"?Ii(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),a-=1;r.pathname=u.join("/")}s=a>=0?e[a]:"/"}let o=_A(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function TA(t){return t===""||t.pathname===""?"/":typeof t=="string"?Ii(t).pathname:t.pathname}function j_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const _r=t=>t.join("/").replace(/\/\/+/g,"/"),H_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kA(t){Fs()||vn(!1);let{basename:e,navigator:n}=te.exports.useContext(im),{hash:r,pathname:i,search:s}=q_(t),o=i;if(e!=="/"){let a=TA(t),u=a!=null&&a.endsWith("/");o=i==="/"?e+(u?"/":""):_r([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function Fs(){return te.exports.useContext(sm)!=null}function gc(){return Fs()||vn(!1),te.exports.useContext(sm).location}function W_(){Fs()||vn(!1);let{basename:t,navigator:e}=te.exports.useContext(im),{matches:n}=te.exports.useContext(ka),{pathname:r}=gc(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=te.exports.useRef(!1);return te.exports.useEffect(()=>{s.current=!0}),te.exports.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let l=z_(a,JSON.parse(i),r);t!=="/"&&(l.pathname=_r([t,l.pathname])),(u.replace?e.replace:e.push)(l,u.state)},[t,e,i,r])}function Pj(){let{matches:t}=te.exports.useContext(ka),e=t[t.length-1];return e?e.params:{}}function q_(t){let{matches:e}=te.exports.useContext(ka),{pathname:n}=gc(),r=JSON.stringify(e.map(i=>i.pathnameBase));return te.exports.useMemo(()=>z_(t,JSON.parse(r),n),[t,r,n])}function CA(t,e){Fs()||vn(!1);let{matches:n}=te.exports.useContext(ka),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=gc(),a;if(e){var u;let f=typeof e=="string"?Ii(e):e;s==="/"||((u=f.pathname)==null?void 0:u.startsWith(s))||vn(!1),a=f}else a=o;let l=a.pathname||"/",c=s==="/"?l:l.slice(s.length)||"/",h=aA(t,{pathname:c});return AA(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},i,f.params),pathname:_r([s,f.pathname]),pathnameBase:f.pathnameBase==="/"?s:_r([s,f.pathnameBase])})),n)}function AA(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>te.exports.createElement(ka.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function NA(t){let{to:e,replace:n,state:r}=t;Fs()||vn(!1);let i=W_();return te.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Mi(t){vn(!1)}function bA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yr.Pop,navigator:s,static:o=!1}=t;Fs()&&vn(!1);let a=H_(e),u=te.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ii(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,m=te.exports.useMemo(()=>{let S=j_(l,a);return S==null?null:{pathname:S,search:c,hash:h,state:f,key:p}},[a,l,c,h,f,p]);return m==null?null:te.exports.createElement(im.Provider,{value:u},te.exports.createElement(sm.Provider,{children:n,value:{location:m,navigationType:i}}))}function OA(t){let{children:e,location:n}=t;return CA(dd(e),n)}function dd(t){let e=[];return te.exports.Children.forEach(t,n=>{if(!te.exports.isValidElement(n))return;if(n.type===te.exports.Fragment){e.push.apply(e,dd(n.props.children));return}n.type!==Mi&&vn(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=dd(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function DA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const LA=["onClick","reloadDocument","replace","state","target","to"];function PA(t){let{basename:e,children:n,window:r}=t,i=te.exports.useRef();i.current==null&&(i.current=sA({window:r}));let s=i.current,[o,a]=te.exports.useState({action:s.action,location:s.location});return te.exports.useLayoutEffect(()=>s.listen(a),[s]),te.exports.createElement(bA,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function $A(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const $j=te.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:u}=e,l=DA(e,LA),c=kA(u),h=xA(u,{replace:s,state:o,target:a});function f(p){r&&r(p),!p.defaultPrevented&&!i&&h(p)}return te.exports.createElement("a",pd({},l,{href:c,onClick:f,ref:n,target:a}))});function xA(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=W_(),o=gc(),a=q_(t);return te.exports.useCallback(u=>{if(u.button===0&&(!n||n==="_self")&&!$A(u)){u.preventDefault();let l=!!r||fd(o)===fd(a);s(t,{replace:l,state:i})}},[o,s,a,r,i,n,t])}const K_="/login",uv="/",MA="/sign-up",UA="/profile/:username",xj="/not-found";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},FA=function(t){const e=G_(t);return Q_.encodeByteArray(e,!0)},Y_=function(t){return FA(t).replace(/\./g,"")},BA=function(t){try{return Q_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function J_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){return it().indexOf("Electron/")>=0}function e1(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HA(){return it().indexOf("MSAppHost/")>=0}function WA(){return typeof indexedDB=="object"}function qA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KA,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ri(i,a,r)}}function GA(t,e){return t.replace(QA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function YA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lv(s)&&lv(o)){if(!kl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XA(t,e){const n=new JA(t,e);return n.subscribe.bind(n)}class JA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qh),i.error===void 0&&(i.error=qh),i.complete===void 0&&(i.complete=qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nN(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tN(t){return t===Wr?void 0:t}function nN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const iN={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},sN=ye.INFO,oN={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},aN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class om{constructor(e){this.name=e,this._logLevel=sN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const uN=(t,e)=>e.some(n=>t instanceof n);let cv,hv;function lN(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,md=new WeakMap,n1=new WeakMap,Kh=new WeakMap,am=new WeakMap;function hN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Er(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&t1.set(n,t)}).catch(()=>{}),am.set(e,t),e}function fN(t){if(md.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});md.set(t,e)}let gd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return md.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dN(t){gd=t(gd)}function pN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gh(this),e,...n);return n1.set(r,e.sort?e.sort():[e]),Er(r)}:cN().includes(t)?function(...e){return t.apply(Gh(this),e),Er(t1.get(this))}:function(...e){return Er(t.apply(Gh(this),e))}}function mN(t){return typeof t=="function"?pN(t):(t instanceof IDBTransaction&&fN(t),uN(t,lN())?new Proxy(t,gd):t)}function Er(t){if(t instanceof IDBRequest)return hN(t);if(Kh.has(t))return Kh.get(t);const e=mN(t);return e!==t&&(Kh.set(t,e),am.set(e,t)),e}const Gh=t=>am.get(t);function gN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Er(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Er(o.result),u.oldVersion,u.newVersion,Er(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const yN=["get","getKey","getAll","getAllKeys","count"],vN=["put","add","delete","clear"],Qh=new Map;function fv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yN.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Qh.set(e,s),s}dN(t=>({...t,get:(e,n,r)=>fv(e,n)||t.get(e,n,r),has:(e,n)=>!!fv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yd="@firebase/app",dv="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new om("@firebase/app"),_N="@firebase/app-compat",EN="@firebase/analytics-compat",TN="@firebase/analytics",IN="@firebase/app-check-compat",RN="@firebase/app-check",kN="@firebase/auth",CN="@firebase/auth-compat",AN="@firebase/database",NN="@firebase/database-compat",bN="@firebase/functions",ON="@firebase/functions-compat",DN="@firebase/installations",LN="@firebase/installations-compat",PN="@firebase/messaging",$N="@firebase/messaging-compat",xN="@firebase/performance",MN="@firebase/performance-compat",UN="@firebase/remote-config",VN="@firebase/remote-config-compat",FN="@firebase/storage",BN="@firebase/storage-compat",zN="@firebase/firestore",jN="@firebase/firestore-compat",HN="firebase",WN="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="[DEFAULT]",qN={[yd]:"fire-core",[_N]:"fire-core-compat",[TN]:"fire-analytics",[EN]:"fire-analytics-compat",[RN]:"fire-app-check",[IN]:"fire-app-check-compat",[kN]:"fire-auth",[CN]:"fire-auth-compat",[AN]:"fire-rtdb",[NN]:"fire-rtdb-compat",[bN]:"fire-fn",[ON]:"fire-fn-compat",[DN]:"fire-iid",[LN]:"fire-iid-compat",[PN]:"fire-fcm",[$N]:"fire-fcm-compat",[xN]:"fire-perf",[MN]:"fire-perf-compat",[UN]:"fire-rc",[VN]:"fire-rc-compat",[FN]:"fire-gcs",[BN]:"fire-gcs-compat",[zN]:"fire-fst",[jN]:"fire-fst-compat","fire-js":"fire-js",[HN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map,vd=new Map;function KN(t,e){try{t.container.addComponent(e)}catch(n){um.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(vd.has(e))return um.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,t);for(const n of Cl.values())KN(n,t);return!0}function lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},hi=new Ca("app","Firebase",GN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=WN;function YN(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:r1,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw hi.create("bad-app-name",{appName:String(r)});const i=Cl.get(r);if(i){if(kl(t,i.options)&&kl(n,i.config))return i;throw hi.create("duplicate-app",{appName:r})}const s=new rN(r);for(const a of vd.values())s.addComponent(a);const o=new QN(t,n,s);return Cl.set(r,o),o}function i1(t=r1){const e=Cl.get(t);if(!e)throw hi.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=qN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),um.warn(a.join(" "));return}Ss(new ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",JN=1,sa="firebase-heartbeat-store";let Yh=null;function s1(){return Yh||(Yh=gN(XN,JN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sa)}}}).catch(t=>{throw hi.create("storage-open",{originalErrorMessage:t.message})})),Yh}async function ZN(t){var e;try{return(await s1()).transaction(sa).objectStore(sa).get(o1(t))}catch(n){throw hi.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function pv(t,e){var n;try{const i=(await s1()).transaction(sa,"readwrite");return await i.objectStore(sa).put(e,o1(t)),i.done}catch(r){throw hi.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function o1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,tb=30*24*60*60*1e3;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ib(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=tb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mv(),{heartbeatsToSend:n,unsentEntries:r}=rb(this._heartbeatsCache.heartbeats),i=Y_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function mv(){return new Date().toISOString().substring(0,10)}function rb(t,e=eb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ib{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?qA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gv(t){return Y_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){Ss(new ci("platform-logger",e=>new wN(e),"PRIVATE")),Ss(new ci("heartbeat",e=>new nb(e),"PRIVATE")),Tr(yd,dv,t),Tr(yd,dv,"esm2017"),Tr("fire-js","")}sb("");function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=a1,u1=new Ca("auth","Firebase",a1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new om("@firebase/auth");function qu(t,...e){yv.logLevel<=ye.ERROR&&yv.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw hm(t,...e)}function Cn(t,...e){return hm(t,...e)}function ab(t,e,n){const r=Object.assign(Object.assign({},ob()),{[e]:n});return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function hm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u1.create(t,...e)}function ne(t,e,...n){if(!t)throw hm(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qu(e),new Error(e)}function Qn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function Fn(t){Qn(t instanceof Function,"Expected a class definition");let e=vv.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vv.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e){const n=lm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(kl(s,e!=null?e:{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function lb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cb(){return wv()==="http:"||wv()==="https:"}function wv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cb()||J_()||"connection"in navigator)?navigator.onLine:!0}function fb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=X_()||Z_()}get(){return hb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new ba(3e4,6e4);function Oa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,i={}){return c1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Aa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),l1.fetch()(h1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function c1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},db),e);try{const i=new mb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _u(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ab(t,c,l);wn(t,c)}}catch(i){if(i instanceof Ri)throw i;wn(t,"network-request-failed")}}async function Da(t,e,n,r,i={}){const s=await Bs(t,e,n,r,i);return"mfaPendingCredential"in s&&wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function h1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fm(t.config,i):`${t.config.apiScheme}://${i}`}class mb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),pb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function yb(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vb(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=dm(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lo(Xh(i.auth_time)),issuedAtTime:Lo(Xh(i.iat)),expirationTime:Lo(Xh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xh(t){return Number(t)*1e3}function dm(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const s=BA(r);return s?JSON.parse(s):(qu("Failed to decode base64 JWT payload"),null)}catch(s){return qu("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function wb(t){const e=dm(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&Sb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _s(t,yb(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ib(s.providerUserInfo):[],a=Tb(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new f1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Eb(t){const e=st(t);await Al(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ib(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e){const n=await c1(t,{},async()=>{const r=Aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=h1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",l1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Rb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oa;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _b(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _s(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vb(this,e)}reload(){return Eb(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Al(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _s(this,gb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,d=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:R,providerData:O,stsTokenManager:I}=n;ne(y&&I,e,"internal-error");const A=oa.fromJSON(this.name,I);ne(typeof y=="string",e,"internal-error"),tr(h,e.name),tr(f,e.name),ne(typeof T=="boolean",e,"internal-error"),ne(typeof R=="boolean",e,"internal-error"),tr(p,e.name),tr(m,e.name),tr(S,e.name),tr(C,e.name),tr(g,e.name),tr(d,e.name);const Q=new ni({uid:y,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:R,photoURL:m,phoneNumber:p,tenantId:S,stsTokenManager:A,createdAt:g,lastLoginAt:d});return O&&Array.isArray(O)&&(Q.providerData=O.map($=>Object.assign({},$))),C&&(Q._redirectEventId=C),Q}static async _fromIdTokenResponse(e,n,r=!1){const i=new oa;i.updateFromServerResponse(n);const s=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Al(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d1.type="NONE";const Sv=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class os{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ku("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new os(Fn(Sv),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Fn(Sv);const o=Ku(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=ni._fromJSON(e,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new os(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new os(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(w1(e))return"Webos";if(pm(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(y1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p1(t=it()){return/firefox\//i.test(t)}function pm(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=it()){return/crios\//i.test(t)}function g1(t=it()){return/iemobile/i.test(t)}function y1(t=it()){return/android/i.test(t)}function v1(t=it()){return/blackberry/i.test(t)}function w1(t=it()){return/webos/i.test(t)}function yc(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kb(t=it()){var e;return yc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cb(){return e1()&&document.documentMode===10}function S1(t=it()){return yc(t)||y1(t)||w1(t)||v1(t)||/windows phone/i.test(t)||g1(t)}function Ab(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e=[]){let n;switch(t){case"Browser":n=_v(it());break;case"Worker":n=`${_v(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await os.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u==null?void 0:u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Al(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function vc(t){return st(t)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function Ob(t,e){return Bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e){return Da(t,"POST","/v1/accounts:signInWithPassword",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e){return Da(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}async function Pb(t,e){return Da(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends mm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Db(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Lb(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Ob(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Pb(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function as(t,e){return Da(t,"POST","/v1/accounts:signInWithIdp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="http://localhost";class fi extends mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return as(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,as(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,as(e,n)}buildRequest(){const e={requestUri:$b,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mb(t){const e=vo(wo(t)).link,n=e?vo(wo(e)).deep_link_id:null,r=vo(wo(t)).deep_link_id;return(r?vo(wo(r)).link:null)||r||n||e||t}class gm{constructor(e){var n,r,i,s,o,a;const u=vo(wo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=xb((i=u.mode)!==null&&i!==void 0?i:null);ne(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Mb(e);try{return new gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.providerId=zs.PROVIDER_ID}static credential(e,n){return aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gm.parseLink(n);return ne(r,"argument-error"),aa._fromEmailAndCode(e,r.code,r.tenantId)}}zs.PROVIDER_ID="password";zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends E1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends La{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends La{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends La{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends La{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,e){return Da(t,"POST","/v1/accounts:signUp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ni._fromIdTokenResponse(e,r,i),o=Tv(r);return new di({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Tv(r);return new di({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Tv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nl(e,n,r,i)}}function T1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nl._fromErrorAndOperation(t,s,e,r):s})}async function Vb(t,e,n=!1){const r=await _s(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await _s(t,T1(i,s,e,t),n);ne(o.idToken,i,"internal-error");const a=dm(o.idToken);ne(a,i,"internal-error");const{sub:u}=a;return ne(t.uid===u,i,"user-mismatch"),di._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&wn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t,e,n=!1){const r="signIn",i=await T1(t,r,e),s=await di._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Bb(t,e){return I1(vc(t),e)}async function Mj(t,e,n){const r=vc(t),i=await Ub(r,{returnSecureToken:!0,email:e,password:n}),s=await di._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Uj(t,e,n){return Bb(st(t),zs.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t,e){return Bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=st(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _s(r,zb(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jb(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function Fj(t){return st(t).signOut()}const bl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){const t=it();return pm(t)||yc(t)}const Wb=1e3,qb=10;class k1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Hb()&&Ab(),this.fallbackToPolling=S1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Cb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qb):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const Kb=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const A1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Gb(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=ym("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function Yb(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function Xb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zb(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",eO=1,Ol="firebaseLocalStorage",O1="fbase_key";class Pa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sc(t,e){return t.transaction([Ol],e?"readwrite":"readonly").objectStore(Ol)}function tO(){const t=indexedDB.deleteDatabase(b1);return new Pa(t).toPromise()}function Sd(){const t=indexedDB.open(b1,eO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ol,{keyPath:O1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ol)?e(r):(r.close(),await tO(),e(await Sd()))})})}async function Iv(t,e,n){const r=Sc(t,!0).put({[O1]:e,value:n});return new Pa(r).toPromise()}async function nO(t,e){const n=Sc(t,!1).get(e),r=await new Pa(n).toPromise();return r===void 0?null:r.value}function Rv(t,e){const n=Sc(t,!0).delete(e);return new Pa(n).toPromise()}const rO=800,iO=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wc._getInstance(Zb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xb(),!this.activeServiceWorker)return;this.sender=new Qb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sd();return await Iv(e,bl,"1"),await Rv(e,bl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sc(i,!1).getAll();return new Pa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const sO=D1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aO(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oO().appendChild(r)})}function uO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){return e?Fn(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,n){return as(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cO(t){return I1(t.auth,new vm(t),t.bypassAuthState)}function hO(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Fb(n,new vm(t),t.bypassAuthState)}async function fO(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Vb(n,new vm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cO;case"linkViaPopup":case"linkViaRedirect":return fO;case"reauthViaPopup":case"reauthViaRedirect":return hO;default:wn(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ba(2e3,1e4);class Yi extends L1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,dO.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="pendingRedirect",Gu=new Map;class mO extends L1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await gO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gO(t,e){const n=wO(e),r=vO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yO(t,e){Gu.set(t._key(),e)}function vO(t){return Fn(t._redirectPersistence)}function wO(t){return Ku(pO,t.config.apiKey,t.name)}async function SO(t,e,n=!1){const r=vc(t),i=lO(r,e),o=await new mO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=10*60*1e3;class EO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kO=/^https?/;async function CO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IO(t);for(const n of e)try{if(AO(n))return}catch{}wn(t,"unauthorized-domain")}function AO(t){const e=wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kO.test(n))return!1;if(RO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new ba(3e4,6e4);function Cv(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bO(t){return new Promise((e,n)=>{var r,i,s;function o(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Cn(t,"network-request-failed"))},timeout:NO.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{const a=uO("iframefcb");return An()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},aO(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function OO(t){return Qu=Qu||bO(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new ba(5e3,15e3),LO="__/auth/iframe",PO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fm(e,PO):`https://${t.config.authDomain}/${LO}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=xO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Aa(r).slice(1)}`}async function UO(t){const e=await OO(t),n=An().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:MO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=An().setTimeout(()=>{s(o)},DO.get());function u(){An().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FO=500,BO=600,zO="_blank",jO="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(t,e,n,r=FO,i=BO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},VO),{width:r.toString(),height:i.toString(),top:s,left:o}),l=it().toLowerCase();n&&(a=m1(l)?zO:n),p1(l)&&(e=e||jO,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(kb(l)&&a!=="_self")return WO(e||"",a),new Av(null);const h=window.open(e||"",a,c);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new Av(h)}function WO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="__/auth/handler",KO="emulator/auth/handler";function Nv(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof E1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof La){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${GO(t)}?${Aa(a).slice(1)}`}function GO({config:t}){return t.emulator?fm(t,KO):`https://${t.authDomain}/${qO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class QO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=SO,this._overrideRedirectResult=yO}async _openPopup(e,n,r,i){var s;Qn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Nv(e,n,r,wd(),i);return HO(e,o,ym())}async _openRedirect(e,n,r,i){return await this._originValidation(e),Yb(Nv(e,n,r,wd(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UO(e),r=new EO(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jh,{type:Jh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jh];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S1()||pm()||yc()}}const YO=QO;var bv="@firebase/auth",Ov="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ZO(t){Ss(new ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{ne(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ne(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(t)},c=new bb(a,u,l);return lb(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ss(new ci("auth-internal",e=>{const n=vc(e.getProvider("auth").getImmediate());return(r=>new XO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(bv,Ov,JO(t)),Tr(bv,Ov,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t=i1()){const e=lm(t,"auth");return e.isInitialized()?e.getImmediate():ub(t,{popupRedirectResolver:YO,persistence:[sO,Kb,A1]})}ZO("Browser");const $1=te.exports.createContext(null);function tD(){const[t,e]=te.exports.useState(JSON.parse(localStorage.getItem("authUser"))),{firebase:n}=te.exports.useContext($1);return te.exports.useEffect(()=>{const r=eD(),i=jb(r,s=>{s?(localStorage.setItem("authUser",JSON.stringify(s)),e(s)):(localStorage.removeItem("authUser"),e(null))});return()=>i()},[n]),{user:t}}const nD=te.exports.createContext(null);var _d={exports:{}},rD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iD=rD,sD=iD;function x1(){}function M1(){}M1.resetWarningCache=x1;var oD=function(){function t(r,i,s,o,a,u){if(u!==sD){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:M1,resetWarningCache:x1};return n.PropTypes=n,n};_d.exports=oD();var _c={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD=te.exports,uD=Symbol.for("react.element"),lD=Symbol.for("react.fragment"),cD=Object.prototype.hasOwnProperty,hD=aD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fD={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cD.call(e,r)&&!fD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uD,type:t,key:s,ref:o,props:i,_owner:hD.current}}Ec.Fragment=lD;Ec.jsx=U1;Ec.jsxs=U1;(function(t){t.exports=Ec})(_c);const Bj=_c.exports.Fragment,be=_c.exports.jsx,V1=_c.exports.jsxs;function F1({user:t,children:e}){return t?e:t?null:be(NA,{to:{pathname:K_,state:{from:location}}})}F1.propTypes={user:_d.exports.object,children:_d.exports.object.isRequired};const dD=te.exports.lazy(()=>Ra(()=>import("./login.0814e3e1.js"),[])),pD=te.exports.lazy(()=>Ra(()=>import("./sign-up.dc60bef2.js"),["assets/sign-up.dc60bef2.js","assets/firebase.1e964ad2.js"])),mD=te.exports.lazy(()=>Ra(()=>import("./not-found.4df7833d.js"),["assets/not-found.4df7833d.js","assets/SearchBarModal.f793de82.js","assets/firebase.1e964ad2.js"])),gD=te.exports.lazy(()=>Ra(()=>import("./dashboard.0cc97edf.js"),["assets/dashboard.0cc97edf.js","assets/SearchBarModal.f793de82.js","assets/firebase.1e964ad2.js","assets/TopScroll.40685bfb.js","assets/TopScroll.98e32bf8.css"])),yD=te.exports.lazy(()=>Ra(()=>import("./profile.b183f838.js"),["assets/profile.b183f838.js","assets/firebase.1e964ad2.js","assets/SearchBarModal.f793de82.js","assets/TopScroll.40685bfb.js","assets/TopScroll.98e32bf8.css"]));function vD(){const{user:t}=tD();return be(nD.Provider,{value:{user:t},children:be(PA,{children:be(te.exports.Suspense,{fallback:be("div",{className:"flex justify-center items-center h-screen flex-col",children:be("img",{className:" w-16 h-16 opacity-25",src:"/images/logo-icon.png",alt:""})}),children:V1(OA,{children:[be(Mi,{path:K_,element:be(dD,{})}),be(Mi,{path:MA,element:be(pD,{})}),be(Mi,{path:UA,element:be(yD,{})}),be(Mi,{path:uv,element:be(F1,{user:t,path:uv,exact:!0,children:be(gD,{})})}),be(Mi,{path:"*",element:be(mD,{})})]})})})})}var wD="firebase",SD="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(wD,SD,"app");var _D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,wm=wm||{},re=_D||self;function Dl(){}function Ed(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $a(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ED(t){return Object.prototype.hasOwnProperty.call(t,Zh)&&t[Zh]||(t[Zh]=++TD)}var Zh="closure_uid_"+(1e9*Math.random()>>>0),TD=0;function ID(t,e,n){return t.call.apply(t.bind,arguments)}function RD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ht=ID:ht=RD,ht.apply(null,arguments)}function Eu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xr(){this.s=this.s,this.o=this.o}var kD=0;xr.prototype.s=!1;xr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),kD!=0)&&ED(this)};xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function CD(t){e:{var e=vL;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Dv(t){return Array.prototype.concat.apply([],arguments)}function Sm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ll(t){return/^[\s\xa0]*$/.test(t)}var Lv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tt(t,e){return t.indexOf(e)!=-1}function ef(t,e){return t<e?-1:t>e?1:0}var It;e:{var Pv=re.navigator;if(Pv){var $v=Pv.userAgent;if($v){It=$v;break e}}It=""}function _m(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function j1(t){const e={};for(const n in t)e[n]=t[n];return e}var xv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<xv.length;s++)n=xv[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Em(t){return Em[" "](t),t}Em[" "]=Dl;function AD(t){var e=OD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var ND=Tt(It,"Opera"),Es=Tt(It,"Trident")||Tt(It,"MSIE"),W1=Tt(It,"Edge"),Td=W1||Es,q1=Tt(It,"Gecko")&&!(Tt(It.toLowerCase(),"webkit")&&!Tt(It,"Edge"))&&!(Tt(It,"Trident")||Tt(It,"MSIE"))&&!Tt(It,"Edge"),bD=Tt(It.toLowerCase(),"webkit")&&!Tt(It,"Edge");function K1(){var t=re.document;return t?t.documentMode:void 0}var Pl;e:{var tf="",nf=function(){var t=It;if(q1)return/rv:([^\);]+)(\)|;)/.exec(t);if(W1)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bD)return/WebKit\/(\S+)/.exec(t);if(ND)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(nf&&(tf=nf?nf[1]:""),Es){var rf=K1();if(rf!=null&&rf>parseFloat(tf)){Pl=String(rf);break e}}Pl=tf}var OD={};function DD(){return AD(function(){let t=0;const e=Lv(String(Pl)).split("."),n=Lv("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=ef(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||ef(i[2].length==0,s[2].length==0)||ef(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Id;if(re.document&&Es){var Mv=K1();Id=Mv||parseInt(Pl,10)||void 0}else Id=void 0;var LD=Id,PD=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",Dl,e),re.removeEventListener("test",Dl,e)}catch{}return t}();function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};function ua(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(q1){e:{try{Em(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$D[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.Z.h.call(this)}}mt(ua,St);var $D={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),xD=0;function MD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++xD,this.ca=this.fa=!1}function Tc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ic(t){this.src=t,this.g={},this.h=0}Ic.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=kd(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new MD(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Rd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=B1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var Tm="closure_lm_"+(1e6*Math.random()|0),sf={};function G1(t,e,n,r,i){if(r&&r.once)return Y1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)G1(t,e[s],n,r,i);return null}return n=km(n),t&&t[xa]?t.N(e,n,$a(r)?!!r.capture:!!r,i):Q1(t,e,n,!1,r,i)}function Q1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$a(i)?!!i.capture:!!i,a=Rm(t);if(a||(t[Tm]=a=new Ic(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=UD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UD(){function t(n){return e.call(t.src,t.listener,n)}var e=VD;return t}function Y1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y1(t,e[s],n,r,i);return null}return n=km(n),t&&t[xa]?t.O(e,n,$a(r)?!!r.capture:!!r,i):Q1(t,e,n,!0,r,i)}function X1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X1(t,e[s],n,r,i);else r=$a(r)?!!r.capture:!!r,n=km(n),t&&t[xa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kd(s,n,r,i),-1<n&&(Tc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kd(e,n,r,i)),(n=-1<t?e[t]:null)&&Im(n))}function Im(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[xa])Rd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rm(e))?(Rd(n,t),n.h==0&&(n.src=null,e[Tm]=null)):Tc(t)}}}function J1(t){return t in sf?sf[t]:sf[t]="on"+t}function VD(t,e){if(t.ca)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Im(t),t=n.call(r,e)}return t}function Rm(t){return t=t[Tm],t instanceof Ic?t:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function km(t){return typeof t=="function"?t:(t[of]||(t[of]=function(e){return t.handleEvent(e)}),t[of])}function ot(){xr.call(this),this.i=new Ic(this),this.P=this,this.I=null}mt(ot,xr);ot.prototype[xa]=!0;ot.prototype.removeEventListener=function(t,e,n,r){X1(this,t,e,n,r)};function ft(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var i=e;e=new St(r,t),H1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tu(o,r,!0,e)&&i}if(o=e.g=t,i=Tu(o,r,!0,e)&&i,i=Tu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Tu(o,r,!1,e)&&i}ot.prototype.M=function(){if(ot.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tc(n[r]);delete t.g[e],t.h--}}this.I=null};ot.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Tu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Rd(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cm=re.JSON.stringify;function FD(){var t=eE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class BD{constructor(){this.h=this.g=null}add(e,n){const r=Z1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Z1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new zD,t=>t.reset());class zD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jD(t){re.setTimeout(()=>{throw t},0)}function Am(t,e){Cd||HD(),Ad||(Cd(),Ad=!0),eE.add(t,e)}var Cd;function HD(){var t=re.Promise.resolve(void 0);Cd=function(){t.then(WD)}}var Ad=!1,eE=new BD;function WD(){for(var t;t=FD();){try{t.h.call(t.g)}catch(n){jD(n)}var e=Z1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ad=!1}function Rc(t,e){ot.call(this),this.h=t||1,this.g=e||re,this.j=ht(this.kb,this),this.l=Date.now()}mt(Rc,ot);j=Rc.prototype;j.da=!1;j.S=null;j.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ft(this,"tick"),this.da&&(Nm(this),this.start()))}};j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}j.M=function(){Rc.Z.M.call(this),Nm(this),delete this.g};function bm(t,e,n){if(typeof t=="function")n&&(t=ht(t,n));else if(t&&typeof t.handleEvent=="function")t=ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function tE(t){t.g=bm(()=>{t.g=null,t.i&&(t.i=!1,tE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qD extends xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tE(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(t){xr.call(this),this.h=t,this.g={}}mt(la,xr);var Uv=[];function nE(t,e,n,r){Array.isArray(n)||(n&&(Uv[0]=n.toString()),n=Uv);for(var i=0;i<n.length;i++){var s=G1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function rE(t){_m(t.g,function(e,n){this.g.hasOwnProperty(n)&&Im(e)},t),t.g={}}la.prototype.M=function(){la.Z.M.call(this),rE(this)};la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kc(){this.g=!0}kc.prototype.Aa=function(){this.g=!1};function KD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function GD(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Xi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YD(t,n)+(r?" "+r:"")})}function QD(t,e){t.info(function(){return"TIMEOUT: "+e})}kc.prototype.info=function(){};function YD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cm(n)}catch{return e}}var ki={},Vv=null;function Cc(){return Vv=Vv||new ot}ki.Ma="serverreachability";function iE(t){St.call(this,ki.Ma,t)}mt(iE,St);function ca(t){const e=Cc();ft(e,new iE(e))}ki.STAT_EVENT="statevent";function sE(t,e){St.call(this,ki.STAT_EVENT,t),this.stat=e}mt(sE,St);function Rt(t){const e=Cc();ft(e,new sE(e,t))}ki.Na="timingevent";function oE(t,e){St.call(this,ki.Na,t),this.size=e}mt(oE,St);function Ma(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}var Ac={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Om(){}Om.prototype.h=null;function Fv(t){return t.h||(t.h=t.i())}function uE(){}var Ua={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dm(){St.call(this,"d")}mt(Dm,St);function Lm(){St.call(this,"c")}mt(Lm,St);var Nd;function Nc(){}mt(Nc,Om);Nc.prototype.g=function(){return new XMLHttpRequest};Nc.prototype.i=function(){return{}};Nd=new Nc;function Va(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new la(this),this.P=XD,t=Td?125:void 0,this.W=new Rc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lE}function lE(){this.i=null,this.g="",this.h=!1}var XD=45e3,bd={},$l={};j=Va.prototype;j.setTimeout=function(t){this.P=t};function Od(t,e,n){t.K=1,t.v=Oc(Yn(e)),t.s=n,t.U=!0,cE(t,null)}function cE(t,e){t.F=Date.now(),Fa(t),t.A=Yn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),yE(n.h,"t",r),t.C=0,n=t.l.H,t.h=new lE,t.g=ME(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qD(ht(t.Ia,t,t.g),t.O)),nE(t.V,t.g,"readystatechange",t.gb),e=t.H?j1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ca(),KD(t.j,t.u,t.A,t.m,t.X,t.s)}j.gb=function(t){t=t.target;const e=this.L;e&&Bn(t)==3?e.l():this.Ia(t)};j.Ia=function(t){try{if(t==this.g)e:{const c=Bn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||Td||this.g&&(this.h.h||this.g.ga()||Hv(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?ca(3):ca(2)),bc(this);var n=this.g.ba();this.N=n;t:if(hE(this)){var r=Hv(this.g);t="";var i=r.length,s=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Po(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,GD(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(a)){var l=a;break t}}l=null}if(n=l)Xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dd(this,n);else{this.i=!1,this.o=3,Rt(12),Xr(this),Po(this);break e}}this.U?(fE(this,c,o),Td&&this.i&&c==3&&(nE(this.V,this.W,"tick",this.fb),this.W.start())):(Xi(this.j,this.m,o,null),Dd(this,o)),c==4&&Xr(this),this.i&&!this.I&&(c==4?LE(this.l,this):(this.i=!1,Fa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Rt(12)):(this.o=0,Rt(13)),Xr(this),Po(this)}}}catch{}finally{}};function hE(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function fE(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=JD(t,n),i==$l){e==4&&(t.o=4,Rt(14),r=!1),Xi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bd){t.o=4,Rt(15),Xi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xi(t.j,t.m,i,null),Dd(t,i);hE(t)&&i!=$l&&i!=bd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zm(e),e.L=!0,Rt(11))):(Xi(t.j,t.m,n,"[Invalid Chunked Response]"),Xr(t),Po(t))}j.fb=function(){if(this.g){var t=Bn(this.g),e=this.g.ga();this.C<e.length&&(bc(this),fE(this,t,e),this.i&&t!=4&&Fa(this))}};function JD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?$l:(n=Number(e.substring(n,r)),isNaN(n)?bd:(r+=1,r+n>e.length?$l:(e=e.substr(r,n),t.C=r+n,e)))}j.cancel=function(){this.I=!0,Xr(this)};function Fa(t){t.Y=Date.now()+t.P,dE(t,t.P)}function dE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ma(ht(t.eb,t),e)}function bc(t){t.B&&(re.clearTimeout(t.B),t.B=null)}j.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(QD(this.j,this.A),this.K!=2&&(ca(),Rt(17)),Xr(this),this.o=2,Po(this)):dE(this,this.Y-t)};function Po(t){t.l.G==0||t.I||LE(t.l,t)}function Xr(t){bc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Nm(t.W),rE(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Dd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ld(n.i,t))){if(n.I=t.N,!t.J&&Ld(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Vl(n),Pc(n);else break e;Bm(n),Rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ma(ht(n.ab,n),6e3));if(1>=SE(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Jr(n,11)}else if((t.J||n.g==t)&&Vl(n),!Ll(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const c=l[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=l[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;!s.g&&(Tt(m,"spdy")||Tt(m,"quic")||Tt(m,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(xm(s,s.h),s.h=null))}if(r.D){const S=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.sa=S,De(r.F,r.D,S))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=xE(r,r.H?r.la:null,r.W),o.J){_E(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(bc(a),Fa(a)),r.g=o}else OE(r);0<n.l.length&&$c(n)}else l[0]!="stop"&&l[0]!="close"||Jr(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Jr(n,7):Fm(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}ca(4)}catch{}}function ZD(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ed(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Pm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ed(t)||typeof t=="string")z1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ed(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=ZD(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function js(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof js)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}j=js.prototype;j.R=function(){$m(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};j.T=function(){return $m(this),this.g.concat()};function $m(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];pi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],pi(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}j.get=function(t,e){return pi(this.h,t)?this.h[t]:e};j.set=function(t,e){pi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};j.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function eL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof mi){this.g=e!==void 0?e:t.g,xl(this,t.j),this.s=t.s,Ml(this,t.i),Ul(this,t.m),this.l=t.l,e=t.h;var n=new ha;n.i=e.i,e.g&&(n.g=new js(e.g),n.h=e.h),Bv(this,n),this.o=t.o}else t&&(n=String(t).match(pE))?(this.g=!!e,xl(this,n[1]||"",!0),this.s=$o(n[2]||""),Ml(this,n[3]||"",!0),Ul(this,n[4]),this.l=$o(n[5]||"",!0),Bv(this,n[6]||"",!0),this.o=$o(n[7]||"")):(this.g=!!e,this.h=new ha(null,this.g))}mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(So(e,zv,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(So(e,zv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(So(n,n.charAt(0)=="/"?sL:iL,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",So(n,aL)),t.join("")};function Yn(t){return new mi(t)}function xl(t,e,n){t.j=n?$o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ml(t,e,n){t.i=n?$o(e,!0):e}function Ul(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bv(t,e,n){e instanceof ha?(t.h=e,uL(t.h,t.g)):(n||(e=So(e,oL)),t.h=new ha(e,t.g))}function De(t,e,n){t.h.set(e,n)}function Oc(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tL(t){return t instanceof mi?Yn(t):new mi(t,void 0)}function nL(t,e,n,r){var i=new mi(null,void 0);return t&&xl(i,t),e&&Ml(i,e),n&&Ul(i,n),r&&(i.l=r),i}function $o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function So(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zv=/[#\/\?@]/g,iL=/[#\?:]/g,sL=/[#\?]/g,oL=/[#\?@]/g,aL=/#/g;function ha(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mr(t){t.g||(t.g=new js,t.h=0,t.i&&eL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=ha.prototype;j.add=function(t,e){Mr(this),this.i=null,t=Hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mE(t,e){Mr(t),e=Hs(t,e),pi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,pi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&$m(t)))}function gE(t,e){return Mr(t),e=Hs(t,e),pi(t.g.h,e)}j.forEach=function(t,e){Mr(this),this.g.forEach(function(n,r){z1(n,function(i){t.call(e,i,r,this)},this)},this)};j.T=function(){Mr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};j.R=function(t){Mr(this);var e=[];if(typeof t=="string")gE(this,t)&&(e=Dv(e,this.g.get(Hs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Dv(e,t[n])}return e};j.set=function(t,e){return Mr(this),this.i=null,t=Hs(this,t),gE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function yE(t,e,n){mE(t,e),0<n.length&&(t.i=null,t.g.set(Hs(t,e),Sm(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uL(t,e){e&&!t.j&&(Mr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mE(this,r),yE(this,i,n))},t)),t.j=e}var lL=class{constructor(t,e){this.h=t,this.g=e}};function vE(t){this.l=t||cL,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ea&&re.g.Ea()&&re.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cL=10;function wE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SE(t){return t.h?1:t.g?t.g.size:0}function Ld(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function xm(t,e){t.g?t.g.add(e):t.h=e}function _E(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vE.prototype.cancel=function(){if(this.i=EE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function EE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Sm(t.i)}function Mm(){}Mm.prototype.stringify=function(t){return re.JSON.stringify(t,void 0)};Mm.prototype.parse=function(t){return re.JSON.parse(t,void 0)};function hL(){this.g=new Mm}function fL(t,e,n){const r=n||"";try{Pm(t,function(i,s){let o=i;$a(i)&&(o=Cm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dL(t,e){const n=new kc;if(re.Image){const r=new Image;r.onload=Eu(Iu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Eu(Iu,n,r,"TestLoadImage: error",!1,e),r.onabort=Eu(Iu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eu(Iu,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Iu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ba(t){this.l=t.$b||null,this.j=t.ib||!1}mt(Ba,Om);Ba.prototype.g=function(){return new Dc(this.l,this.j)};Ba.prototype.i=function(t){return function(){return t}}({});function Dc(t,e){ot.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Dc,ot);var Um=0;j=Dc.prototype;j.open=function(t,e){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fa(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=Um};j.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TE(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function TE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}j.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?za(this):fa(this),this.readyState==3&&TE(this)}};j.Ua=function(t){this.g&&(this.response=this.responseText=t,za(this))};j.Ta=function(t){this.g&&(this.response=t,za(this))};j.ha=function(){this.g&&za(this)};function za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fa(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pL=re.JSON.parse;function qe(t){ot.call(this),this.headers=new js,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IE,this.K=this.L=!1}mt(qe,ot);var IE="",mL=/^https?$/i,gL=["POST","PUT"];j=qe.prototype;j.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nd.g(),this.C=this.u?Fv(this.u):Fv(Nd),this.g.onreadystatechange=ht(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){jv(this,s);return}t=n||"";const i=new js(this.headers);r&&Pm(r,function(s,o){i.set(o,s)}),r=CD(i.T()),n=re.FormData&&t instanceof re.FormData,!(0<=B1(gL,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CE(this),0<this.B&&((this.K=yL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.pa,this)):this.A=bm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jv(this,s)}};function yL(t){return Es&&DD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function vL(t){return t.toLowerCase()=="content-type"}j.pa=function(){typeof wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function jv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RE(t),Lc(t)}function RE(t){t.D||(t.D=!0,ft(t,"complete"),ft(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ft(this,"complete"),ft(this,"abort"),Lc(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lc(this,!0)),qe.Z.M.call(this)};j.Fa=function(){this.s||(this.F||this.v||this.l?kE(this):this.cb())};j.cb=function(){kE(this)};function kE(t){if(t.h&&typeof wm<"u"&&(!t.C[1]||Bn(t)!=4||t.ba()!=2)){if(t.v&&Bn(t)==4)bm(t.Fa,0,t);else if(ft(t,"readystatechange"),Bn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(pE)[1]||null;if(!i&&re.self&&re.self.location){var s=re.self.location.protocol;i=s.substr(0,s.length-1)}r=!mL.test(i?i.toLowerCase():"")}n=r}if(n)ft(t,"complete"),ft(t,"success");else{t.m=6;try{var o=2<Bn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",RE(t)}}finally{Lc(t)}}}}function Lc(t,e){if(t.g){CE(t);const n=t.g,r=t.C[0]?Dl:null;t.g=null,t.C=null,e||ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function CE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function Bn(t){return t.g?t.g.readyState:0}j.ba=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};j.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pL(e)}};function Hv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case IE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}j.Da=function(){return this.m};j.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function wL(t){let e="";return _m(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Vm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AE(t){this.za=0,this.l=[],this.h=new kc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ao("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ao("baseRetryDelayMs",5e3,t),this.$a=ao("retryDelaySeedMs",1e4,t),this.Ya=ao("forwardChannelMaxRetries",2,t),this.ra=ao("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new vE(t&&t.concurrentRequestLimit),this.Ca=new hL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}j=AE.prototype;j.ma=8;j.G=1;function Fm(t){if(NE(t),t.G==3){var e=t.V++,n=Yn(t.F);De(n,"SID",t.J),De(n,"RID",e),De(n,"TYPE","terminate"),ja(t,n),e=new Va(t,t.h,e,void 0),e.K=2,e.v=Oc(Yn(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&(new Image().src=e.v,n=!0),n||(e.g=ME(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fa(e)}$E(t)}j.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Pc(t){t.g&&(zm(t),t.g.cancel(),t.g=null)}function NE(t){Pc(t),t.u&&(re.clearTimeout(t.u),t.u=null),Vl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function af(t,e){t.l.push(new lL(t.Za++,e)),t.G==3&&$c(t)}function $c(t){wE(t.i)||t.m||(t.m=!0,Am(t.Ha,t),t.C=0)}function SL(t,e){return SE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ma(ht(t.Ha,t,e),PE(t,t.C)),t.C++,!0)}j.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Va(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=j1(s),H1(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bE(this,i,e),n=Yn(this.F),De(n,"RID",t),De(n,"CVER",22),this.D&&De(n,"X-HTTP-Session-Id",this.D),ja(this,n),this.o&&s&&Vm(n,this.o,s),xm(this.i,i),this.Ra&&De(n,"TYPE","init"),this.ja?(De(n,"$req",e),De(n,"SID","null"),i.$=!0,Od(i,n,null)):Od(i,n,e),this.G=2}}else this.G==3&&(t?Wv(this,t):this.l.length==0||wE(this.i)||Wv(this))};function Wv(t,e){var n;e?n=e.m:n=t.V++;const r=Yn(t.F);De(r,"SID",t.J),De(r,"RID",n),De(r,"AID",t.U),ja(t,r),t.o&&t.s&&Vm(r,t.o,t.s),n=new Va(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=bE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xm(t.i,n),Od(n,r,e)}function ja(t,e){t.j&&Pm({},function(n,r){De(e,r,n)})}function bE(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ht(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{fL(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function OE(t){t.g||t.u||(t.Y=1,Am(t.Ga,t),t.A=0)}function Bm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ma(ht(t.Ga,t),PE(t,t.A)),t.A++,!0)}j.Ga=function(){if(this.u=null,DE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ma(ht(this.bb,this),t)}};j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rt(10),Pc(this),DE(this))};function zm(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function DE(t){t.g=new Va(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Yn(t.oa);De(e,"RID","rpc"),De(e,"SID",t.J),De(e,"CI",t.N?"0":"1"),De(e,"AID",t.U),ja(t,e),De(e,"TYPE","xmlhttp"),t.o&&t.s&&Vm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Oc(Yn(e)),n.s=null,n.U=!0,cE(n,t)}j.ab=function(){this.v!=null&&(this.v=null,Pc(this),Bm(this),Rt(19))};function Vl(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function LE(t,e){var n=null;if(t.g==e){Vl(t),zm(t),t.g=null;var r=2}else if(Ld(t.i,e))n=e.D,_E(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Cc(),ft(r,new oE(r,n)),$c(t)}else OE(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&SL(t,e)||r==2&&Bm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jr(t,5);break;case 4:Jr(t,10);break;case 3:Jr(t,6);break;default:Jr(t,2)}}}function PE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Jr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=ht(t.jb,t);n||(n=new mi("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||xl(n,"https"),Oc(n)),dL(n.toString(),r)}else Rt(2);t.G=0,t.j&&t.j.va(e),$E(t),NE(t)}j.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Rt(2)):(this.h.info("Failed to ping google.com"),Rt(1))};function $E(t){t.G=0,t.I=-1,t.j&&((EE(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Sm(t.l),t.l.length=0),t.j.ua())}function xE(t,e,n){let r=tL(n);if(r.i!="")e&&Ml(r,e+"."+r.i),Ul(r,r.m);else{const i=re.location;r=nL(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&_m(t.aa,function(i,s){De(r,s,i)}),e=t.D,n=t.sa,e&&n&&De(r,e,n),De(r,"VER",t.ma),ja(t,r),r}function ME(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new qe(new Ba({ib:!0})):new qe(t.qa),e.L=t.H,e}function UE(){}j=UE.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Oa=function(){};function Fl(){if(Es&&!(10<=Number(LD)))throw Error("Environmental error: no available transport.")}Fl.prototype.g=function(t,e){return new Kt(t,e)};function Kt(t,e){ot.call(this),this.g=new AE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ll(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ws(this)}mt(Kt,ot);Kt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Am(ht(t.hb,t,e))),Rt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=xE(t,null,t.W),$c(t)};Kt.prototype.close=function(){Fm(this.g)};Kt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,af(this.g,e)}else this.v?(e={},e.__data__=Cm(t),af(this.g,e)):af(this.g,t)};Kt.prototype.M=function(){this.g.j=null,delete this.j,Fm(this.g),delete this.g,Kt.Z.M.call(this)};function VE(t){Dm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(VE,Dm);function FE(){Lm.call(this),this.status=1}mt(FE,Lm);function Ws(t){this.g=t}mt(Ws,UE);Ws.prototype.xa=function(){ft(this.g,"a")};Ws.prototype.wa=function(t){ft(this.g,new VE(t))};Ws.prototype.va=function(t){ft(this.g,new FE)};Ws.prototype.ua=function(){ft(this.g,"b")};Fl.prototype.createWebChannel=Fl.prototype.g;Kt.prototype.send=Kt.prototype.u;Kt.prototype.open=Kt.prototype.m;Kt.prototype.close=Kt.prototype.close;Ac.NO_ERROR=0;Ac.TIMEOUT=8;Ac.HTTP_ERROR=6;aE.COMPLETE="complete";uE.EventType=Ua;Ua.OPEN="a";Ua.CLOSE="b";Ua.ERROR="c";Ua.MESSAGE="d";ot.prototype.listen=ot.prototype.N;qe.prototype.listenOnce=qe.prototype.O;qe.prototype.getLastError=qe.prototype.La;qe.prototype.getLastErrorCode=qe.prototype.Da;qe.prototype.getStatus=qe.prototype.ba;qe.prototype.getResponseJson=qe.prototype.Qa;qe.prototype.getResponseText=qe.prototype.ga;qe.prototype.send=qe.prototype.ea;var _L=function(){return new Fl},EL=function(){return Cc()},uf=Ac,TL=aE,IL=ki,qv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RL=Ba,Ru=uE,kL=qe;const Kv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new om("@firebase/firestore");function Gv(){return gi.logLevel}function W(t,...e){if(gi.logLevel<=ye.DEBUG){const n=e.map(jm);gi.debug(`Firestore (${qs}): ${t}`,...n)}}function Cr(t,...e){if(gi.logLevel<=ye.ERROR){const n=e.map(jm);gi.error(`Firestore (${qs}): ${t}`,...n)}}function Qv(t,...e){if(gi.logLevel<=ye.WARN){const n=e.map(jm);gi.warn(`Firestore (${qs}): ${t}`,...n)}}function jm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Ie(t,e){t||ie()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class NL{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new CL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Dt(e)}}class bL{constructor(e,n,r){this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class OL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LL{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.p=n.token,new DL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Ts(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new Ye(0,0))}static max(){return new he(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends da{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const $L=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends da{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return $L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(ke.fromString(e))}static fromName(e){return new q(ke.fromString(e).popFirst(5))}static empty(){return new q(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ke(e.slice()))}}function xL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ar(i,q.empty(),e)}function ML(t){return new Ar(t.readTime,t.key,-1)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(he.min(),q.empty(),-1)}static max(){return new Ar(he.max(),q.empty(),-1)}}function UL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==VL)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ci(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hm.ot=-1;class Je{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:ut.RED,this.left=i!=null?i:ut.EMPTY,this.right=s!=null?s:ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ut(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ut(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new Xe(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const BL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=BL.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HE(t){const e=t.mapValue.fields.__previous_value__;return jE(e)?HE(e):e}function pa(t){const e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){return t==null}function Bl(t){return t===0&&1/t==-1/0}function jL(t){return typeof t=="number"&&Number.isInteger(t)&&!Bl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jE(t)?4:HL(t)?9007199254740991:10:ie()}function bn(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pa(t).isEqual(pa(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Nr(r.timestampValue),o=Nr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Is(r.bytesValue).isEqual(Is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?Bl(s)===Bl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Yv(s)!==Yv(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!bn(s[a],o[a])))return!1;return!0}(t,e);default:return ie()}}function ma(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function ks(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Jv(t.timestampValue,e.timestampValue);case 4:return Jv(pa(t),pa(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Is(i),a=Is(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ve(o[u],a[u]);if(l!==0)return l}return ve(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ve(He(i.latitude),He(s.latitude));return o!==0?o:ve(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=ks(o[u],a[u]);if(l)return l}return ve(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cu.mapValue&&s===Cu.mapValue)return 0;if(i===Cu.mapValue)return 1;if(s===Cu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=ve(a[c],l[c]);if(h!==0)return h;const f=ks(o[a[c]],u[l[c]]);if(f!==0)return f}return ve(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Jv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Nr(t),r=Nr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function us(t){return Pd(t)}function Pd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Nr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Is(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Pd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Pd(r.fields[a])}`;return s+"}"}(t.mapValue):ie();var e,n}function Zv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $d(t){return!!t&&"integerValue"in t}function Wm(t){return!!t&&"arrayValue"in t}function e0(t){return!!t&&"nullValue"in t}function t0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function xo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ci(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(xo(this.value))}}function WE(t){const e=[];return Ci(t.fields,(n,r)=>{const i=new wt([n]);if(Yu(r)){const s=WE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new lt(e,0,he.min(),he.min(),Pt.empty(),0)}static newFoundDocument(e,n,r){return new lt(e,1,n,he.min(),r,0)}static newNoDocument(e,n){return new lt(e,2,n,he.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new lt(e,3,n,he.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function n0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WL(t,e,n,r,i,s,o)}function qm(t){const e=oe(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+us(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>us(r)).join(",")),e.ut=n}return e.ut}function qL(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${us(r.value)}`;var r}).join(", ")}]`),xc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>us(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>us(n)).join(",")),`Target(${e})`}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!eP(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!bn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i0(t.startAt,e.startAt)&&i0(t.endAt,e.endAt)}function xd(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new KL(e,n,r):n==="array-contains"?new YL(e,r):n==="in"?new XL(e,r):n==="not-in"?new JL(e,r):n==="array-contains-any"?new ZL(e,r):new kt(e,n,r)}static ct(e,n,r){return n==="in"?new GL(e,r):new QL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(ks(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.at(ks(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KL extends kt{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.at(n)}}class GL extends kt{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QL extends kt{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class YL extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&ma(n.arrayValue,this.value)}}class XL extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ma(this.value.arrayValue,n)}}class JL extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ma(this.value.arrayValue,n)}}class ZL extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ma(this.value.arrayValue,r))}}class zl{constructor(e,n){this.position=e,this.inclusive=n}}class ls{constructor(e,n="asc"){this.field=e,this.dir=n}}function eP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function r0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ks(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function tP(t,e,n,r,i,s,o,a){return new Ks(t,e,n,r,i,s,o,a)}function Mc(t){return new Ks(t)}function nP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qm(t){for(const e of t.filters)if(e.ht())return e.field;return null}function KE(t){return t.collectionGroup!==null}function ga(t){const e=oe(t);if(e.lt===null){e.lt=[];const n=Qm(e),r=Gm(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new ls(n)),e.lt.push(new ls(wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ls(wt.keyField(),s))}}}return e.lt}function vi(t){const e=oe(t);if(!e.ft)if(e.limitType==="F")e.ft=n0(e.path,e.collectionGroup,ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ga(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ls(s.field,o))}const r=e.endAt?new zl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zl(e.startAt.position,e.startAt.inclusive):null;e.ft=n0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function GE(t,e,n){return new Ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uc(t,e){return Km(vi(t),vi(e))&&t.limitType===e.limitType}function QE(t){return`${qm(vi(t))}|lt:${t.limitType}`}function Md(t){return`Query(target=${qL(vi(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=r0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ga(n),r)||n.endAt&&!function(i,s,o){const a=r0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ga(n),r))}(t,e)}function rP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YE(t){return(e,n)=>{let r=!1;for(const i of ga(t)){const s=iP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iP(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?ks(a,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function JE(t){return{integerValue:""+t}}function sP(t,e){return jL(e)?JE(e):XE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function oP(t,e,n){return t instanceof ya?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Cs?eT(t,e):t instanceof As?tT(t,e):function(r,i){const s=ZE(r,i),o=s0(s)+s0(r._t);return $d(s)&&$d(r._t)?JE(o):XE(r.wt,o)}(t,e)}function aP(t,e,n){return t instanceof Cs?eT(t,e):t instanceof As?tT(t,e):n}function ZE(t,e){return t instanceof jl?$d(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ya extends Vc{}class Cs extends Vc{constructor(e){super(),this.elements=e}}function eT(t,e){const n=nT(e);for(const r of t.elements)n.some(i=>bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class As extends Vc{constructor(e){super(),this.elements=e}}function tT(t,e){let n=nT(e);for(const r of t.elements)n=n.filter(i=>!bn(i,r));return{arrayValue:{values:n}}}class jl extends Vc{constructor(e,n){super(),this.wt=e,this._t=n}}function s0(t){return He(t.integerValue||t.doubleValue)}function nT(t){return Wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.field=e,this.transform=n}}function uP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Cs&&r instanceof Cs||n instanceof As&&r instanceof As?Ts(n.elements,r.elements,bn):n instanceof jl&&r instanceof jl?bn(n._t,r._t):n instanceof ya&&r instanceof ya}(t.transform,e.transform)}class lP{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fc{}function rT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jm(t.key,mn.none()):new qa(t.key,t.data,mn.none());{const n=t.data,r=Pt.empty();let i=new Xe(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ur(t.key,r,new nn(i.toArray()),mn.none())}}function cP(t,e,n){t instanceof qa?function(r,i,s){const o=r.value.clone(),a=a0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ur?function(r,i,s){if(!Xu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=a0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(iT(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mo(t,e,n,r){return t instanceof qa?function(i,s,o,a){if(!Xu(i.precondition,s))return o;const u=i.value.clone(),l=u0(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ur?function(i,s,o,a){if(!Xu(i.precondition,s))return o;const u=u0(i.fieldTransforms,a,s),l=s.data;return l.setAll(iT(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Xu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function hP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZE(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function o0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ts(n,r,(i,s)=>uP(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qa extends Fc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ur extends Fc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a0(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aP(o,a,n[i]))}return r}function u0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oP(s,o,e))}return r}class Jm extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fP extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,me;function pP(t){switch(t){default:return ie();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function sT(t){if(t===void 0)return Cr("GRPC error has no .code"),k.UNKNOWN;switch(t){case je.OK:return k.OK;case je.CANCELLED:return k.CANCELLED;case je.UNKNOWN:return k.UNKNOWN;case je.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case je.INTERNAL:return k.INTERNAL;case je.UNAVAILABLE:return k.UNAVAILABLE;case je.UNAUTHENTICATED:return k.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case je.NOT_FOUND:return k.NOT_FOUND;case je.ALREADY_EXISTS:return k.ALREADY_EXISTS;case je.PERMISSION_DENIED:return k.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case je.ABORTED:return k.ABORTED;case je.OUT_OF_RANGE:return k.OUT_OF_RANGE;case je.UNIMPLEMENTED:return k.UNIMPLEMENTED;case je.DATA_LOSS:return k.DATA_LOSS;default:return ie()}}(me=je||(je={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Je(q.comparator);function Xn(){return mP}const oT=new Je(q.comparator);function _o(...t){let e=oT;for(const n of t)e=e.insert(n.key,n);return e}function aT(t){let e=oT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return Uo()}function uT(){return Uo()}function Uo(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const gP=new Je(q.comparator),yP=new Xe(q.comparator);function pe(...t){let e=yP;for(const n of t)e=e.add(n);return e}const vP=new Xe(ve);function lT(){return vP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n)),new Bc(he.min(),r,lT(),Xn(),pe())}}class Ka{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ka(pt.EMPTY_BYTE_STRING,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class cT{constructor(e,n){this.targetId=e,this.It=n}}class hT{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l0{constructor(){this.Tt=0,this.Et=h0(),this.At=pt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=pe(),n=pe(),r=pe();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Ka(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=h0()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class wP{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Xn(),this.Bt=c0(),this.Lt=new Xe(ve)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(xd(s))if(r===0){const o=new q(s.path);this.Kt(n,o,lt.newNoDocument(o,he.min()))}else Ie(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&xd(a.target)){const u=new q(a.target.path);this.$t.get(u)!==null||this.Xt(o,u)||this.Kt(o,u,lt.newNoDocument(u,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=pe();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ht(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Bc(e,n,this.Lt,this.$t,r);return this.$t=Xn(),this.Bt=c0(),this.Lt=new Xe(ve),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new l0,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Xe(ve),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new l0),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function c0(){return new Je(q.comparator)}function h0(){return new Je(q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_P=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class EP{constructor(e,n){this.databaseId=e,this.dt=n}}function Hl(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(t,e){return t.dt?e.toBase64():e.toUint8Array()}function TP(t,e){return Hl(t,e.toTimestamp())}function Hn(t){return Ie(!!t),he.fromTimestamp(function(e){const n=Nr(e);return new Ye(n.seconds,n.nanos)}(t))}function Zm(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function dT(t){const e=ke.fromString(t);return Ie(gT(e)),e}function Ud(t,e){return Zm(t.databaseId,e.path)}function lf(t,e){const n=dT(e);if(n.get(1)!==t.databaseId.projectId)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(pT(n))}function Vd(t,e){return Zm(t.databaseId,e)}function IP(t){const e=dT(t);return e.length===4?ke.emptyPath():pT(e)}function Fd(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pT(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function f0(t,e,n){return{name:Ud(t,e),fields:n.value.mapValue.fields}}function RP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.dt?(Ie(l===void 0||typeof l=="string"),pt.fromBase64String(l||"")):(Ie(l===void 0||l instanceof Uint8Array),pt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?k.UNKNOWN:sT(u.code);return new z(l,u.message||"")}(o);n=new hT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lf(t,r.document.name),s=Hn(r.document.updateTime),o=new Pt({mapValue:{fields:r.document.fields}}),a=lt.newFoundDocument(i,s,o),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ju(u,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lf(t,r.document),s=r.readTime?Hn(r.readTime):he.min(),o=lt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lf(t,r.document),s=r.removedTargetIds||[];n=new Ju([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new dP(i),o=r.targetId;n=new cT(o,s)}}return n}function kP(t,e){let n;if(e instanceof qa)n={update:f0(t,e.key,e.value)};else if(e instanceof Jm)n={delete:Ud(t,e.key)};else if(e instanceof Ur)n={update:f0(t,e.key,e.data),updateMask:xP(e.fieldMask)};else{if(!(e instanceof fP))return ie();n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ya)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:TP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(t,e.precondition)),n}function CP(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Hn(r.updateTime):Hn(i);return s.isEqual(he.min())&&(s=Hn(i)),new lP(s,r.transformResults||[])}(n,e))):[]}function AP(t,e){return{documents:[Vd(t,e.path)]}}function NP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Vd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length===0)return;const l=u.map(c=>function(h){if(h.op==="=="){if(t0(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NAN"}};if(e0(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(t0(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NAN"}};if(e0(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(h.field),op:LP(h.op),value:h.value}}}(c));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:$i(c.field),direction:DP(c.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,l){return u.dt||xc(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function bP(t){let e=IP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=mT(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ls(Ji(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,xc(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(c){const h=!!c.before,f=c.values||[];return new zl(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const h=!c.before,f=c.values||[];return new zl(f,h)}(n.endAt)),tP(e,i,o,s,a,"F",u,l)}function OP(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(t){return t?t.unaryFilter!==void 0?[$P(t)]:t.fieldFilter!==void 0?[PP(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>mT(e)).reduce((e,n)=>e.concat(n)):ie():[]}function DP(t){return SP[t]}function LP(t){return _P[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Ji(t){return wt.fromServerFormat(t.fieldPath)}function PP(t){return kt.create(Ji(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}function $P(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ji(t.unaryFilter.field);return kt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ji(t.unaryFilter.field);return kt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ji(t.unaryFilter.field);return kt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ji(t.unaryFilter.field);return kt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}function xP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=rT(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(n,r)=>o0(n,r))&&Ts(this.baseMutations,e.baseMutations,(n,r)=>o0(n,r))}}class eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=gP;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s=he.min(),o=he.min(),a=pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ne=e}}function FP(t){const e=bP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.ze=new zP}addToCollectionParentIndex(e,n){return this.ze.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Ar.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class zP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ns(0)}static Rn(){return new Ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Mo(r.mutation,i,nn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_o();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xn();const o=Uo(),a=Uo();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ur)?s=s.insert(l.key,l):c!==void 0&&(o.set(l.key,c.mutation.getFieldMask()),Mo(c.mutation,l,c.mutation.getFieldMask(),Ye.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new HP(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Uo();let i=new Je((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||nn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=uT();c.forEach(f=>{if(!s.has(f)){const p=rT(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(Zr());let a=-1,u=s;return o.next(l=>D.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?D.resolve():this.getBaseDocument(e,c,h).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(c=>({batchId:a,changes:aT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=_o();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=_o();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const u=function(l,c){return new Ks(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,lt.newInvalidDocument(l)))});let o=_o();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&Mo(l.mutation,u,nn.empty(),Ye.now()),Ym(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):D.resolve(lt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return D.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Hn(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:FP(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.overlays=new Je(q.comparator),this.Xn=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=Zr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Zr(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return D.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UP(n,r));let s=this.Xn.get(n);s===void 0&&(s=pe(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Zn=new Xe(et.ts),this.es=new Xe(et.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new et(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new et(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new q(new ke([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new q(new ke([])),r=new et(n,e),i=new et(n,e+1);let s=pe();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return q.comparator(e.key,n.key)||ve(e.ls,n.ls)}static ns(e,n){return ve(e.ls,n.ls)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Xe(et.ts)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MP(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ve);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),D.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new et(new q(s),0);let a=new Xe(ve);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),D.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return D.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new et(n,0),i=this.ds.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.ps=e,this.docs=new Je(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),D.resolve(r)}getAllFromCollection(e,n,r){let i=Xn();const s=new q(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||UL(ML(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return D.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ie()}Is(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YP(this)}getSize(e){return D.resolve(this.size)}}class YP extends jP{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.Ts=new Gs(n=>qm(n),Km),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Es=0,this.As=new tg,this.targetCount=0,this.Rs=Ns.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),D.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.vn(n),D.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Hm(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new XP(this),this.indexManager=new BP,this.remoteDocumentCache=function(r){return new QP(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new VP(n),this.Ds=new qP(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new GP(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new ZP(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return D.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class ZP extends FL{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.ks=new tg,this.Os=null}static Ms(e){return new ng(e)}get Fs(){if(this.Os)return this.Os;throw ie()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),D.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Fs,r=>{const i=q.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return D.or([()=>D.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){return D.resolve(null)}xi(e,n,r,i){return nP(n)||i.isEqual(he.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Oi(n,o,r,i)?this.Ni(e,n):(Gv()<=ye.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(n)),this.Mi(e,o,n,xL(i,-1)))})}ki(e,n){let r=new Xe(YE(e));return n.forEach((i,s)=>{Ym(e,s)&&(r=r.add(s))}),r}Oi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return Gv()<=ye.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Md(n)),this.Di.getDocumentsMatchingQuery(e,n,Ar.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new Je(ve),this.Bi=new Gs(s=>qm(s),Km),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WP(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function n$(t,e,n,r){return new t$(t,e,n,r)}async function yT(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}function r$(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,h=c.keys();let f=D.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(a,p)).next(m=>{const S=u.docVersions.get(p);Ie(S!==null),m.version.compareTo(S)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),l.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=pe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vT(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function i$(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(pt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(m,S,C){return m.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,p,c)&&a.push(n.Vs.updateTargetData(s,p))});let u=Xn(),l=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(s$(s,o,e.documentUpdates).next(c=>{u=c.Gi,l=c.Qi})),!r.isEqual(he.min())){const c=n.Vs.getLastRemoteSnapshotVersion(s).next(h=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.$i=i,s))}function s$(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xn();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}function o$(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new ri(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function Bd(t,e,n){const r=oe(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wa(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function d0(t,e,n){const r=oe(t);let i=he.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=oe(a),h=c.Bi.get(l);return h!==void 0?D.resolve(c.$i.get(h)):c.Vs.getTargetData(u,l)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:pe())).next(a=>(u$(r,rP(e),a),{documents:a,ji:s})))}function u$(t,e,n){let r=he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}class p0{constructor(){this.activeTargetIds=lT()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l${constructor(){this.Fr=new p0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new p0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);W("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(W("RestConnection","Received: ",u),u),u=>{throw Qv("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){const r=h$[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new kL;a.listenOnce(TL.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case uf.NO_ERROR:const l=a.getResponseJson();W("Connection","XHR received:",JSON.stringify(l)),s(l);break;case uf.TIMEOUT:W("Connection",'RPC "'+e+'" timed out'),o(new z(k.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const c=a.getStatus();if(W("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(h.status);o(new z(f,h.message))}else o(new z(k.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new z(k.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{W("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_L(),o=EL(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new RL({})),this.uo(a.initMessageHeaders,n,r),X_()||Z_()||jA()||e1()||HA()||J_()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");W("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,h=!1;const f=new f$({jr:m=>{h?W("Connection","Not sending because WebChannel is closed:",m):(c||(W("Connection","Opening WebChannel transport."),l.open(),c=!0),W("Connection","WebChannel sending:",m),l.send(m))},Wr:()=>l.close()}),p=(m,S,C)=>{m.listen(S,g=>{try{C(g)}catch(d){setTimeout(()=>{throw d},0)}})};return p(l,Ru.EventType.OPEN,()=>{h||W("Connection","WebChannel transport opened.")}),p(l,Ru.EventType.CLOSE,()=>{h||(h=!0,W("Connection","WebChannel transport closed"),f.eo())}),p(l,Ru.EventType.ERROR,m=>{h||(h=!0,Qv("Connection","WebChannel transport errored:",m),f.eo(new z(k.UNAVAILABLE,"The operation could not be completed")))}),p(l,Ru.EventType.MESSAGE,m=>{var S;if(!h){const C=m.data[0];Ie(!!C);const g=C,d=g.error||((S=g[0])===null||S===void 0?void 0:S.error);if(d){W("Connection","WebChannel received error:",d);const y=d.status;let T=function(O){const I=je[O];if(I!==void 0)return sT(I)}(y),R=d.message;T===void 0&&(T=k.INTERNAL,R="Unknown error status: "+y+" with message "+d.message),h=!0,f.eo(new z(T,R)),l.close()}else W("Connection","WebChannel received:",C),f.no(C)}}),p(o,IL.STAT_EVENT,m=>{m.stat===qv.PROXY?W("Connection","Detected buffering proxy"):m.stat===qv.NOPROXY&&W("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return new EP(t,!0)}class wT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new wT(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new z(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p$ extends ST{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=RP(this.wt,e),r=function(i){if(!("targetChange"in i))return he.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Hn(s.readTime):he.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=Fd(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=xd(a)?{documents:AP(i,a)}:{query:NP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=fT(i,s.resumeToken):s.snapshotVersion.compareTo(he.min())>0&&(o.readTime=Hl(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=OP(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=Fd(this.wt),n.removeTarget=e,this.Mo(n)}}class m$ extends ST{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=CP(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.Jo(r,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Fd(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kP(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(k.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(k.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class y${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Cr(n),this.su=!1):W("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=oe(a);u.lu.add(4),await Ga(u),u._u.set("Unknown"),u.lu.delete(4),await jc(u)}(this))})}),this._u=new y$(r,i)}}async function jc(t){if(Ai(t))for(const e of t.fu)await e(!0)}async function Ga(t){for(const e of t.fu)await e(!1)}function _T(t,e){const n=oe(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),og(n)?sg(n):Qs(n).Co()&&ig(n,e))}function ET(t,e){const n=oe(t),r=Qs(n);n.hu.delete(e),r.Co()&&TT(n,e),n.hu.size===0&&(r.Co()?r.ko():Ai(n)&&n._u.set("Unknown"))}function ig(t,e){t.wu.Nt(e.targetId),Qs(t).Qo(e)}function TT(t,e){t.wu.Nt(e),Qs(t).jo(e)}function sg(t){t.wu=new wP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),Qs(t).start(),t._u.iu()}function og(t){return Ai(t)&&!Qs(t).Do()&&t.hu.size>0}function Ai(t){return oe(t).lu.size===0}function IT(t){t.wu=void 0}async function w$(t){t.hu.forEach((e,n)=>{ig(t,e)})}async function S$(t,e){IT(t),og(t)?(t._u.uu(e),sg(t)):t._u.set("Unknown")}async function _$(t,e,n){if(t._u.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wl(t,r)}else if(e instanceof Ju?t.wu.Ut(e):e instanceof cT?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(he.min()))try{const r=await vT(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(pt.EMPTY_BYTE_STRING,u.snapshotVersion)),TT(i,a);const l=new ri(u.target,a,1,u.sequenceNumber);ig(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Wl(t,r)}}async function Wl(t,e,n){if(!Wa(e))throw e;t.lu.add(1),await Ga(t),t._u.set("Offline"),n||(n=()=>vT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await jc(t)})}function RT(t,e){return e().catch(n=>Wl(t,n,e))}async function Hc(t){const e=oe(t),n=br(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;E$(e);)try{const i=await o$(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,T$(e,i)}catch(i){await Wl(e,i)}kT(e)&&CT(e)}function E$(t){return Ai(t)&&t.au.length<10}function T$(t,e){t.au.push(e);const n=br(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function kT(t){return Ai(t)&&!br(t).Do()&&t.au.length>0}function CT(t){br(t).start()}async function I$(t){br(t).Xo()}async function R$(t){const e=br(t);for(const n of t.au)e.Ho(n.mutations)}async function k$(t,e,n){const r=t.au.shift(),i=eg.from(r,e,n);await RT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hc(t)}async function C$(t,e){e&&br(t).zo&&await async function(n,r){if(i=r.code,pP(i)&&i!==k.ABORTED){const s=n.au.shift();br(n).No(),await RT(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Hc(n)}var i}(t,e),kT(t)&&CT(t)}async function g0(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.lu.add(3),await Ga(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await jc(n)}async function A$(t,e){const n=oe(t);e?(n.lu.delete(2),await jc(n)):e||(n.lu.add(2),await Ga(n),n._u.set("Unknown"))}function Qs(t){return t.mu||(t.mu=function(e,n,r){const i=oe(e);return i.tu(),new p$(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:w$.bind(null,t),Jr:S$.bind(null,t),Go:_$.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),og(t)?sg(t):t._u.set("Unknown")):(await t.mu.stop(),IT(t))})),t.mu}function br(t){return t.gu||(t.gu=function(e,n,r){const i=oe(e);return i.tu(),new m$(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:I$.bind(null,t),Jr:C$.bind(null,t),Yo:R$.bind(null,t),Jo:k$.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Hc(t)):(await t.gu.stop(),t.au.length>0&&(W("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ag(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Wa(t))return new z(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=_o(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.yu=new Je(q.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):ie():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bs{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new bs(e,n,cs.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.Iu=void 0,this.listeners=[]}}class b${constructor(){this.queries=new Gs(e=>QE(e),Uc),this.onlineState="Unknown",this.Tu=new Set}}async function lg(t,e){const n=oe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new N$),i)try{s.Iu=await n.onListen(r)}catch(o){const a=ug(o,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&hg(n)}async function cg(t,e){const n=oe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function O$(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&hg(n)}function D$(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function hg(t){t.Tu.forEach(e=>{e.next()})}class fg{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class L${constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=pe(),this.mutatedKeys=pe(),this.Lu=YE(e),this.Uu=new cs(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new y0,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Ym(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;f&&p?f.data.isEqual(p.data)?m!==S&&(r.track({type:3,doc:p}),C=!0):this.Qu(f,p)||(r.track({type:2,doc:p}),C=!0,(u&&this.Lu(p,u)>0||l&&this.Lu(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),C=!0):f&&!p&&(r.track({type:1,doc:f}),C=!0,(u||l)&&(a=!0)),C&&(p?(o=o.add(p),s=S?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((l,c)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return p(h)-p(f)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,u=a!==this.$u;return this.$u=a,s.length!==0||u?{snapshot:new bs(this.query,e.Uu,i,s,e.mutatedKeys,a===0,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new y0,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=pe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new NT(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new AT(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=pe();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return bs.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class P${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $${constructor(e){this.key=e,this.Xu=!1}}class x${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Gs(a=>QE(a),Uc),this.ec=new Map,this.nc=new Set,this.sc=new Je(q.comparator),this.ic=new Map,this.rc=new tg,this.oc={},this.uc=new Map,this.cc=Ns.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function M$(t,e){const n=K$(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=await a$(n.localStore,vi(e));n.isPrimaryClient&&_T(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await U$(n,e,r,a==="current")}return i}async function U$(t,e,n,r){t.hc=(c,h,f)=>async function(p,m,S,C){let g=m.view.Ku(S);g.Oi&&(g=await d0(p.localStore,m.query,!1).then(({documents:T})=>m.view.Ku(T,g)));const d=C&&C.targetChanges.get(m.targetId),y=m.view.applyChanges(g,p.isPrimaryClient,d);return w0(p,m.targetId,y.zu),y.snapshot}(t,c,h,f);const i=await d0(t.localStore,e,!0),s=new L$(e,i.ji),o=s.Ku(i.documents),a=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=s.applyChanges(o,t.isPrimaryClient,a);w0(t,n,u.zu);const l=new P$(e,n,s);return t.tc.set(e,l),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}async function V$(t,e){const n=oe(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!Uc(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Bd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ET(n.remoteStore,r.targetId),zd(n,r.targetId)}).catch(Ha)):(zd(n,r.targetId),await Bd(n.localStore,r.targetId,!0))}async function F$(t,e,n){const r=G$(t);try{const i=await function(s,o){const a=oe(s),u=Ye.now(),l=o.reduce((f,p)=>f.add(p.key),pe());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Xn(),m=pe();return a.Ui.getEntries(f,l).next(S=>{p=S,p.forEach((C,g)=>{g.isValidDocument()||(m=m.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(S=>{c=S;const C=[];for(const g of o){const d=hP(g,c.get(g.key).overlayedDocument);d!=null&&C.push(new Ur(g.key,d,WE(d.value.mapValue),mn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,C,o)}).next(S=>{h=S;const C=S.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(f,S.batchId,C)})}).then(()=>({batchId:h.batchId,changes:aT(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new Je(ve)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Qa(r,i.changes),await Hc(r.remoteStore)}catch(i){const s=ug(i,"Failed to persist write");n.reject(s)}}async function bT(t,e){const n=oe(t);try{const r=await i$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Ie(o.Xu):i.removedDocuments.size>0&&(Ie(o.Xu),o.Xu=!1))}),await Qa(n,r,e)}catch(r){await Ha(r)}}function v0(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=oe(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.listeners)h.Eu(o)&&(u=!0)}),u&&hg(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B$(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new Je(q.comparator);o=o.insert(s,lt.newNoDocument(s,he.min()));const a=pe().add(s),u=new Bc(he.min(),new Map,new Xe(ve),o,a);await bT(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),dg(r)}else await Bd(r.localStore,e,!1).then(()=>zd(r,e,n)).catch(Ha)}async function z$(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await r$(n.localStore,e);DT(n,r,null),OT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await Ha(i)}}async function j$(t,e,n){const r=oe(t);try{const i=await function(s,o){const a=oe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Ie(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);DT(r,e,n),OT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,i)}catch(i){await Ha(i)}}function OT(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function DT(t,e,n){const r=oe(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function zd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||LT(t,r)})}function LT(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(ET(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),dg(t))}function w0(t,e,n){for(const r of n)r instanceof AT?(t.rc.addReference(r.key,e),H$(t,r)):r instanceof NT?(W("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||LT(t,r.key)):ie()}function H$(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.nc.add(r),dg(t))}function dg(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new q(ke.fromString(e)),r=t.cc.next();t.ic.set(r,new $$(n)),t.sc=t.sc.insert(n,r),_T(t.remoteStore,new ri(vi(Mc(n.path)),r,2,Hm.ot))}}async function Qa(t,e,n){const r=oe(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=rg.Vi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Zu.Go(i),await async function(a,u){const l=oe(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>D.forEach(u,h=>D.forEach(h.Pi,f=>l.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>D.forEach(h.vi,f=>l.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Wa(c))throw c;W("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=l.$i.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);l.$i=l.$i.insert(h,m)}}}(r.localStore,s))}async function W$(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await yT(n.localStore,e);n.currentUser=e,function(i,s){i.uc.forEach(o=>{o.forEach(a=>{a.reject(new z(k.CANCELLED,s))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.Ki)}}function q$(t,e){const n=oe(t),r=n.ic.get(e);if(r&&r.Xu)return pe().add(r.key);{let i=pe();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function K$(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B$.bind(null,e),e.Zu.Go=O$.bind(null,e.eventManager),e.Zu.lc=D$.bind(null,e.eventManager),e}function G$(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j$.bind(null,e),e}class Q${constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=zc(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return n$(this.persistence,new e$,e.initialUser,this.wt)}_c(e){return new JP(ng.Ms,this.wt)}dc(e){return new l$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Y${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W$.bind(null,this.syncEngine),await A$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new b$}createDatastore(e){const n=zc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new d$(i));var i;return function(s,o,a,u){return new g$(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>v0(this.syncEngine,a,0),o=m0.V()?new m0:new c$,new v$(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new x$(r,i,s,o,a,u);return l&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=oe(e);W("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Ga(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=BE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function J$(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Z$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ex(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>g0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>g0(e.remoteStore,s)),t.onlineComponents=e}async function ex(t){return t.offlineComponents||(W("FirestoreClient","Using default OfflineComponentProvider"),await J$(t,new Q$)),t.offlineComponents}async function PT(t){return t.onlineComponents||(W("FirestoreClient","Using default OnlineComponentProvider"),await Z$(t,new Y$)),t.onlineComponents}function tx(t){return PT(t).then(e=>e.syncEngine)}async function ql(t){const e=await PT(t),n=e.eventManager;return n.onListen=M$.bind(null,e.syncEngine),n.onUnlisten=V$.bind(null,e.syncEngine),n}function nx(t,e,n={}){const r=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new pg({next:h=>{s.enqueueAndForget(()=>cg(i,c));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new z(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?u.reject(new z(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new fg(Mc(o.path),l,{includeMetadataChanges:!0,Du:!0});return lg(i,c)}(await ql(t),t.asyncQueue,e,n,r)),r.promise}function rx(t,e,n={}){const r=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new pg({next:h=>{s.enqueueAndForget(()=>cg(i,c)),h.fromCache&&a.source==="server"?u.reject(new z(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new fg(o,l,{includeMetadataChanges:!0,Du:!0});return lg(i,c)}(await ql(t),t.asyncQueue,e,n,r)),r.promise}const S0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e,n){if(!n)throw new z(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ix(t,e,n,r){if(e===!0&&r===!0)throw new z(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _0(t){if(!q.isDocumentKey(t))throw new z(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E0(t){if(q.isDocumentKey(t))throw new z(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new z(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sx(t,e){if(e<=0)throw new z(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new z(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,e instanceof Rs?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new z(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(i.options.projectId)}(e))}get app(){if(!this._app)throw new z(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AL;switch(n.type){case"gapi":const r=n.client;return Ie(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new OL(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new z(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=S0.get(e);n&&(W("ComponentProvider","Removing Datastore"),S0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class Vr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class Ir extends Vr{constructor(e,n,r){super(e,n,Mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new q(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function zj(t,e,...n){if(t=st(t),$T("collection","path",e),t instanceof mg){const r=ke.fromString(e,...n);return E0(r),new Ir(t,null,r)}{if(!(t instanceof At||t instanceof Ir))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return E0(r),new Ir(t.firestore,null,r)}}function ox(t,e,...n){if(t=st(t),arguments.length===1&&(e=BE.I()),$T("doc","path",e),t instanceof mg){const r=ke.fromString(e,...n);return _0(r),new At(t,null,new q(r))}{if(!(t instanceof At||t instanceof Ir))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return _0(r),new At(t.firestore,t instanceof Ir?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new wT(this,"async_queue_retry"),this.Kc=()=>{const n=cf();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=cf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new jn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Wa(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=ag.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&ie()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function I0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Or extends mg{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new ax,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xT(this),this._firestoreClient.terminate()}}function jj(t=i1()){return lm(t,"firestore").getImmediate()}function qc(t){return t._firestoreClient||xT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xT(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new zL(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new X$(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(pt.fromBase64String(e))}catch(n){throw new z(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Os(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^__.*__$/;class lx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class MT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Gc{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Gc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Kl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(UT(this.Zc)&&ux.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class cx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||zc(e)}aa(e,n,r,i=!1){return new Gc({Zc:e,methodName:n,ca:r,path:wt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=zc(t._databaseId);return new cx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hx(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);wg("Data must be an object, but it was:",o,r);const a=FT(r,o);let u,l;if(s.merge)u=new nn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=jd(e,h,n);if(!o.contains(f))throw new z(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zT(c,f)||c.push(f)}u=new nn(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new lx(new Pt(a),u,l)}class Qc extends Ni{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qc}}function VT(t,e,n){return new Gc({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class vg extends Ni{_toFieldTransform(e){return new Xm(e.path,new ya)}isEqual(e){return e instanceof vg}}class fx extends Ni{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=VT(this,e,!0),r=this.ha.map(s=>bi(s,n)),i=new Cs(r);return new Xm(e.path,i)}isEqual(e){return this===e}}class dx extends Ni{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=VT(this,e,!0),r=this.ha.map(s=>bi(s,n)),i=new As(r);return new Xm(e.path,i)}isEqual(e){return this===e}}function px(t,e,n,r){const i=t.aa(1,e,n);wg("Data must be an object, but it was:",i,r);const s=[],o=Pt.empty();Ci(r,(u,l)=>{const c=Sg(e,u,n);l=st(l);const h=i.ia(c);if(l instanceof Qc)s.push(c);else{const f=bi(l,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new nn(s);return new MT(o,a,i.fieldTransforms)}function mx(t,e,n,r,i,s){const o=t.aa(1,e,n),a=[jd(e,r,n)],u=[i];if(s.length%2!=0)throw new z(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(jd(e,s[f])),u.push(s[f+1]);const l=[],c=Pt.empty();for(let f=a.length-1;f>=0;--f)if(!zT(l,a[f])){const p=a[f];let m=u[f];m=st(m);const S=o.ia(p);if(m instanceof Qc)l.push(p);else{const C=bi(m,S);C!=null&&(l.push(p),c.set(p,C))}}const h=new nn(l);return new MT(c,h,o.fieldTransforms)}function gx(t,e,n,r=!1){return bi(n,t.aa(r?4:3,e))}function bi(t,e){if(BT(t=st(t)))return wg("Unsupported field value:",e,t),FT(t,e);if(t instanceof Ni)return function(n,r){if(!UT(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bi(o,r.ra(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=st(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sP(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:Hl(r.wt,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hl(r.wt,i)}}if(n instanceof gg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Os)return{bytesValue:fT(r.wt,n._byteString)};if(n instanceof At){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Wc(n)}`)}(t,e)}function FT(t,e){const n={};return zE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(t,(r,i)=>{const s=bi(i,e.ea(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof gg||t instanceof Os||t instanceof At||t instanceof Ni)}function wg(t,e,n){if(!BT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Wc(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function jd(t,e,n){if((e=st(e))instanceof Kc)return e._internalPath;if(typeof e=="string")return Sg(t,e);throw Kl("Field path arguments must be of type string or ",t,!1,void 0,n)}const yx=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(yx)>=0)throw Kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kc(...e.split("."))._internalPath}catch{throw Kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new z(k.INVALID_ARGUMENT,a+t+u)}function zT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vx extends jT{data(){return super.data()}}function Yc(t,e){return typeof e=="string"?Sg(t,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HT extends jT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zu extends HT{data(e={}){return super.data(e)}}class WT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zu(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Zu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:wx(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}function Hj(t,...e){for(const n of e)t=n._apply(t);return t}class Sx extends _g{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=yg(e.firestore),r=function(i,s,o,a,u,l,c){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new z(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){k0(c,l);const p=[];for(const m of c)p.push(R0(a,i,m));h={arrayValue:{values:p}}}else h=R0(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||k0(c,l),h=gx(o,s,c,l==="in"||l==="not-in");const f=kt.create(u,l,h);return function(p,m){if(m.ht()){const C=Qm(p);if(C!==null&&!C.isEqual(m.field))throw new z(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${C.toString()}' and '${m.field.toString()}'`);const g=Gm(p);g!==null&&KT(p,m.field,g)}const S=function(C,g){for(const d of C.filters)if(g.indexOf(d.op)>=0)return d.op;return null}(p,function(C){switch(C){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(S!==null)throw S===m.op?new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${S.toString()}' filters.`)}(i,f),f}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new Vr(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Wj(t,e,n){const r=e,i=Yc("where",t);return new Sx(i,r,n)}class _x extends _g{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new z(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new z(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ls(i,s);return function(a,u){if(Gm(a)===null){const l=Qm(a);l!==null&&KT(a,l,u.field)}}(r,o),o}(e._query,this.fa,this.wa);return new Vr(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ks(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function qj(t,e="asc"){const n=e,r=Yc("orderBy",t);return new _x(r,n)}class Ex extends _g{constructor(e,n,r){super(),this.type=e,this.ma=n,this.ga=r}_apply(e){return new Vr(e.firestore,e.converter,GE(e._query,this.ma,this.ga))}}function Kj(t){return sx("limit",t),new Ex("limit",t,"F")}function R0(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new z(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KE(e)&&n.indexOf("/")!==-1)throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!q.isDocumentKey(r))throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zv(t,new q(r))}if(n instanceof At)return Zv(t,n._key);throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(n)}.`)}function k0(t,e){if(!Array.isArray(t)||t.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new z(k.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function KT(t,e,n){if(!n.isEqual(e))throw new z(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){const r={};return Ci(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gg(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pa(e));default:return null}}convertTimestamp(e){const n=Nr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Ie(gT(r));const i=new Rs(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){t=gn(t,At);const e=gn(t.firestore,Or);return nx(qc(e),t._key).then(n=>GT(e,t,n))}class Eg extends Tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Qj(t){t=gn(t,Vr);const e=gn(t.firestore,Or),n=qc(e),r=new Eg(e);return qT(t._query),rx(n,t._query).then(i=>new WT(e,r,t,i))}function Yj(t,e,n,...r){t=gn(t,At);const i=gn(t.firestore,Or),s=yg(i);let o;return o=typeof(e=st(e))=="string"||e instanceof Kc?mx(s,"updateDoc",t._key,e,n,r):px(s,"updateDoc",t._key,e),Tg(i,[o.toMutation(t._key,mn.exists(!0))])}function Xj(t){return Tg(gn(t.firestore,Or),[new Jm(t._key,mn.none())])}function Jj(t,e){const n=gn(t.firestore,Or),r=ox(t),i=Ix(t.converter,e);return Tg(n,[hx(yg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function Zj(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||I0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(I0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof At)l=gn(t.firestore,Or),c=Mc(t._key.path),u={next:h=>{e[o]&&e[o](GT(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=gn(t,Vr);l=gn(h.firestore,Or),c=h._query;const f=new Eg(l);u={next:p=>{e[o]&&e[o](new WT(l,f,h,p))},error:e[o+1],complete:e[o+2]},qT(t._query)}return function(h,f,p,m){const S=new pg(m),C=new fg(f,S,p);return h.asyncQueue.enqueueAndForget(async()=>lg(await ql(h),C)),()=>{S.Tc(),h.asyncQueue.enqueueAndForget(async()=>cg(await ql(h),C))}}(qc(l),c,a,u)}function Tg(t,e){return function(n,r){const i=new jn;return n.asyncQueue.enqueueAndForget(async()=>F$(await tx(n),r,i)),i.promise}(qc(t),e)}function GT(t,e,n){const r=n.docs.get(e._key),i=new Eg(t);return new HT(t,i,e._key,r,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}function e3(){return new vg("serverTimestamp")}function t3(...t){return new fx("arrayUnion",t)}function n3(...t){return new dx("arrayRemove",t)}(function(t,e=!0){(function(n){qs=n})(Na),Ss(new ci("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Or(i,new NL(n.getProvider("auth-internal")),new LL(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Tr(Kv,"3.4.12",t),Tr(Kv,"3.4.12","esm2017")})();const Rx={apiKey:"AIzaSyCo68JXSvfvQDGD4hGawg5y5kvPCmL0SbI",authDomain:"insta-2-clone-6d3d8.firebaseapp.com",projectId:"insta-2-clone-6d3d8",storageBucket:"insta-2-clone-6d3d8.appspot.com",messagingSenderId:"878180342654",appId:"1:878180342654:web:441b106fe01c0edfcaf12f"},kx=YN(Rx),{value:Cx}=new Ni;function Ax(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var Nx=Ax,le=Nx;function bx(t){return!!t&&typeof t.then=="function"}var Le=bx;function Ox(t,e){if(t!=null)return t;throw le(e!=null?e:"Got unexpected null or undefined")}var Pe=Ox;function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Xc{getValue(){throw le("BaseLoadable")}toPromise(){throw le("BaseLoadable")}valueMaybe(){throw le("BaseLoadable")}valueOrThrow(){throw le(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw le("BaseLoadable")}promiseOrThrow(){throw le(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw le("BaseLoadable")}errorOrThrow(){throw le(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw le("BaseLoadable")}}class Dx extends Xc{constructor(e){super(),se(this,"state","hasValue"),se(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Le(n)?wi(n):Ds(n)?n:Ya(n)}catch(n){return Le(n)?wi(n.next(()=>this.map(e))):Jc(n)}}}class Lx extends Xc{constructor(e){super(),se(this,"state","hasError"),se(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class QT extends Xc{constructor(e){super(),se(this,"state","loading"),se(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return wi(this.contents.then(n=>{const r=e(n);if(Ds(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Le(n))return n.then(()=>this.map(e).contents);throw n}))}}function Ya(t){return Object.freeze(new Dx(t))}function Jc(t){return Object.freeze(new Lx(t))}function wi(t){return Object.freeze(new QT(t))}function YT(){return Object.freeze(new QT(new Promise(()=>{})))}function Px(t){return t.every(e=>e.state==="hasValue")?Ya(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Jc(Pe(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):wi(Promise.all(t.map(e=>e.contents)))}function XT(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Ds(i)?i:Le(i)?wi(i):Ya(i)),r=Px(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Ds(t){return t instanceof Xc}const $x={of:t=>Le(t)?wi(t):Ds(t)?t:Ya(t),error:t=>Jc(t),loading:()=>YT(),all:XT,isLoadable:Ds};var Oi={loadableWithValue:Ya,loadableWithError:Jc,loadableWithPromise:wi,loadableLoading:YT,loadableAll:XT,isLoadable:Ds,RecoilLoadable:$x},xx=Oi.loadableWithValue,Mx=Oi.loadableWithError,Ux=Oi.loadableWithPromise,Vx=Oi.loadableLoading,Fx=Oi.loadableAll,Bx=Oi.isLoadable,zx=Oi.RecoilLoadable,Xa=Object.freeze({__proto__:null,loadableWithValue:xx,loadableWithError:Mx,loadableWithPromise:Ux,loadableLoading:Vx,loadableAll:Fx,isLoadable:Bx,RecoilLoadable:zx});const Zc=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function eh(t){var e;return(e=Zc.get(t))!==null&&e!==void 0?e:!1}eh.setPass=t=>{Zc.set(t,!0)};eh.setFail=t=>{Zc.set(t,!1)};eh.clear=()=>{Zc.clear()};var Ee=eh,hf,ff,df;const jx=(hf=rt.createMutableSource)!==null&&hf!==void 0?hf:rt.unstable_createMutableSource,JT=(ff=rt.useMutableSource)!==null&&ff!==void 0?ff:rt.unstable_useMutableSource,ZT=(df=rt.useSyncExternalStore)!==null&&df!==void 0?df:rt.unstable_useSyncExternalStore;function Hx(){return Ee("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ee("recoil_sync_external_store")&&ZT!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ee("recoil_mutable_source")&&JT!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ee("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ee("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function Wx(){return!1}var Ja={createMutableSource:jx,useMutableSource:JT,useSyncExternalStore:ZT,reactMode:Hx,isFastRefreshEnabled:Wx};class Ig{constructor(e){se(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class eI extends Ig{}class tI extends Ig{}function qx(t){return t instanceof eI||t instanceof tI}var th={AbstractRecoilValue:Ig,RecoilState:eI,RecoilValueReadOnly:tI,isRecoilValue:qx},Kx=th.AbstractRecoilValue,Gx=th.RecoilState,Qx=th.RecoilValueReadOnly,Yx=th.isRecoilValue,Ls=Object.freeze({__proto__:null,AbstractRecoilValue:Kx,RecoilState:Gx,RecoilValueReadOnly:Qx,isRecoilValue:Yx});function Xx(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var nh=Xx;function Jx(t,e,{error:n}={}){return null}var Zx=Jx,Rg=Zx;class nI{}const eM=new nI,Si=new Map,kg=new Map;function tM(t){return nh(t,e=>Pe(kg.get(e)))}function nM(t){if(Si.has(t.key)){const n=`Duplicate atom key "${t.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}Si.set(t.key,t);const e=t.set==null?new Ls.RecoilValueReadOnly(t.key):new Ls.RecoilState(t.key);return kg.set(t.key,e),e}class rI extends Error{}function rM(t){const e=Si.get(t);if(e==null)throw new rI(`Missing definition for RecoilValue: "${t}""`);return e}function iM(t){return Si.get(t)}const Gl=new Map;function sM(t){var e;if(!Ee("recoil_memory_managament_2020"))return;const n=Si.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Si.delete(t),(r=iI(t))===null||r===void 0||r(),Gl.delete(t)}}function oM(t,e){!Ee("recoil_memory_managament_2020")||(e===void 0?Gl.delete(t):Gl.set(t,e))}function iI(t){return Gl.get(t)}var Ft={nodes:Si,recoilValues:kg,registerNode:nM,getNode:rM,getNodeMaybe:iM,deleteNodeConfigIfPossible:sM,setConfigDeletionHandler:oM,getConfigDeletionHandler:iI,recoilValuesForKeys:tM,NodeMissingError:rI,DefaultValue:nI,DEFAULT_VALUE:eM};function aM(t,e){e()}var uM={enqueueExecution:aM};function lM(t,e){return e={exports:{}},t(e,e.exports),e.exports}var cM=lM(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,u={},l=function(w){return function(){return w}},c=n.hash=function(E){var w=typeof E>"u"?"undefined":e(E);if(w==="number")return E;w!=="string"&&(E+="");for(var N=0,x=0,M=E.length;x<M;++x){var H=E.charCodeAt(x);N=(N<<5)-N+H|0}return N},h=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},f=function(w,N){return N>>>w&s},p=function(w){return 1<<w},m=function(w,N){return h(w&N-1)},S=function(w,N,x,M){var H=M;if(!w){var ee=M.length;H=new Array(ee);for(var X=0;X<ee;++X)H[X]=M[X]}return H[N]=x,H},C=function(w,N,x){var M=x.length-1,H=0,ee=0,X=x;if(w)H=ee=N;else for(X=new Array(M);H<N;)X[ee++]=x[H++];for(++H;H<=M;)X[ee++]=x[H++];return w&&(X.length=M),X},g=function(w,N,x,M){var H=M.length;if(w){for(var ee=H;ee>=N;)M[ee--]=M[ee];return M[N]=x,M}for(var X=0,J=0,ce=new Array(H+1);X<N;)ce[J++]=M[X++];for(ce[N]=x;X<H;)ce[++J]=M[X++];return ce},d=1,y=2,T=3,R=4,O={__hamt_isEmpty:!0},I=function(w){return w===O||w&&w.__hamt_isEmpty},A=function(w,N,x,M){return{type:d,edit:w,hash:N,key:x,value:M,_modify:U}},Q=function(w,N,x){return{type:y,edit:w,hash:N,children:x,_modify:Y}},$=function(w,N,x){return{type:T,edit:w,mask:N,children:x,_modify:V}},ue=function(w,N,x){return{type:R,edit:w,size:N,children:x,_modify:K}},ze=function(w){return w===O||w.type===d||w.type===y},_e=function(w,N,x,M,H){for(var ee=[],X=M,J=0,ce=0;X;++ce)X&1&&(ee[ce]=H[J++]),X>>>=1;return ee[N]=x,ue(w,J+1,ee)},Fe=function(w,N,x,M){for(var H=new Array(N-1),ee=0,X=0,J=0,ce=M.length;J<ce;++J)if(J!==x){var Ne=M[J];Ne&&!I(Ne)&&(H[ee++]=Ne,X|=1<<J)}return $(w,X,H)},Ln=function E(w,N,x,M,H,ee){if(x===H)return Q(w,x,[ee,M]);var X=f(N,x),J=f(N,H);return $(w,p(X)|p(J),X===J?[E(w,N+r,x,M,H,ee)]:X<J?[M,ee]:[ee,M])},Sn=function(w,N,x,M,H,ee,X,J){for(var ce=H.length,Ne=0;Ne<ce;++Ne){var Ot=H[Ne];if(x(X,Ot.key)){var Ze=Ot.value,Xt=ee(Ze);return Xt===Ze?H:Xt===u?(--J.value,C(w,Ne,H)):S(w,Ne,A(N,M,X,Xt),H)}}var an=ee();return an===u?H:(++J.value,S(w,ce,A(N,M,X,an),H))},Bt=function(w,N){return w===N.edit},U=function(w,N,x,M,H,ee,X){if(N(ee,this.key)){var J=M(this.value);return J===this.value?this:J===u?(--X.value,O):Bt(w,this)?(this.value=J,this):A(w,H,ee,J)}var ce=M();return ce===u?this:(++X.value,Ln(w,x,this.hash,this,H,A(w,H,ee,ce)))},Y=function(w,N,x,M,H,ee,X){if(H===this.hash){var J=Bt(w,this),ce=Sn(J,w,N,this.hash,this.children,M,ee,X);return ce===this.children?this:ce.length>1?Q(w,this.hash,ce):ce[0]}var Ne=M();return Ne===u?this:(++X.value,Ln(w,x,this.hash,this,H,A(w,H,ee,Ne)))},V=function(w,N,x,M,H,ee,X){var J=this.mask,ce=this.children,Ne=f(x,H),Ot=p(Ne),Ze=m(J,Ot),Xt=J&Ot,an=Xt?ce[Ze]:O,Li=an._modify(w,N,x+r,M,H,ee,X);if(an===Li)return this;var ru=Bt(w,this),Xs=J,Js=void 0;if(Xt&&I(Li)){if(Xs&=~Ot,!Xs)return O;if(ce.length<=2&&ze(ce[Ze^1]))return ce[Ze^1];Js=C(ru,Ze,ce)}else if(!Xt&&!I(Li)){if(ce.length>=o)return _e(w,Ne,Li,J,ce);Xs|=Ot,Js=g(ru,Ze,Li,ce)}else Js=S(ru,Ze,Li,ce);return ru?(this.mask=Xs,this.children=Js,this):$(w,Xs,Js)},K=function(w,N,x,M,H,ee,X){var J=this.size,ce=this.children,Ne=f(x,H),Ot=ce[Ne],Ze=(Ot||O)._modify(w,N,x+r,M,H,ee,X);if(Ot===Ze)return this;var Xt=Bt(w,this),an=void 0;if(I(Ot)&&!I(Ze))++J,an=S(Xt,Ne,Ze,ce);else if(!I(Ot)&&I(Ze)){if(--J,J<=a)return Fe(w,J,Ne,ce);an=S(Xt,Ne,O,ce)}else an=S(Xt,Ne,Ze,ce);return Xt?(this.size=J,this.children=an,this):ue(w,J,an)};O._modify=function(E,w,N,x,M,H,ee){var X=x();return X===u?O:(++ee.value,A(E,M,H,X))};function _(E,w,N,x,M){this._editable=E,this._edit=w,this._config=N,this._root=x,this._size=M}_.prototype.setTree=function(E,w){return this._editable?(this._root=E,this._size=w,this):E===this._root?this:new _(this._editable,this._edit,this._config,E,w)};var L=n.tryGetHash=function(E,w,N,x){for(var M=x._root,H=0,ee=x._config.keyEq;;)switch(M.type){case d:return ee(N,M.key)?M.value:E;case y:{if(w===M.hash)for(var X=M.children,J=0,ce=X.length;J<ce;++J){var Ne=X[J];if(ee(N,Ne.key))return Ne.value}return E}case T:{var Ot=f(H,w),Ze=p(Ot);if(M.mask&Ze){M=M.children[m(M.mask,Ze)],H+=r;break}return E}case R:{if(M=M.children[f(H,w)],M){H+=r;break}return E}default:return E}};_.prototype.tryGetHash=function(E,w,N){return L(E,w,N,this)};var P=n.tryGet=function(E,w,N){return L(E,N._config.hash(w),w,N)};_.prototype.tryGet=function(E,w){return P(E,w,this)};var Z=n.getHash=function(E,w,N){return L(void 0,E,w,N)};_.prototype.getHash=function(E,w){return Z(E,w,this)},n.get=function(E,w){return L(void 0,w._config.hash(E),E,w)},_.prototype.get=function(E,w){return P(w,E,this)};var F=n.has=function(E,w,N){return L(u,E,w,N)!==u};_.prototype.hasHash=function(E,w){return F(E,w,this)};var ae=n.has=function(E,w){return F(w._config.hash(E),E,w)};_.prototype.has=function(E){return ae(E,this)};var fe=function(w,N){return w===N};n.make=function(E){return new _(0,0,{keyEq:E&&E.keyEq||fe,hash:E&&E.hash||c},O,0)},n.empty=n.make();var G=n.isEmpty=function(E){return E&&!!I(E._root)};_.prototype.isEmpty=function(){return G(this)};var Ae=n.modifyHash=function(E,w,N,x){var M={value:x._size},H=x._root._modify(x._editable?x._edit:NaN,x._config.keyEq,0,E,w,N,M);return x.setTree(H,M.value)};_.prototype.modifyHash=function(E,w,N){return Ae(N,E,w,this)};var Ke=n.modify=function(E,w,N){return Ae(E,N._config.hash(w),w,N)};_.prototype.modify=function(E,w){return Ke(w,E,this)};var Se=n.setHash=function(E,w,N,x){return Ae(l(N),E,w,x)};_.prototype.setHash=function(E,w,N){return Se(E,w,N,this)};var $e=n.set=function(E,w,N){return Se(N._config.hash(E),E,w,N)};_.prototype.set=function(E,w){return $e(E,w,this)};var on=l(u),zr=n.removeHash=function(E,w,N){return Ae(on,E,w,N)};_.prototype.removeHash=_.prototype.deleteHash=function(E,w){return zr(E,w,this)};var Yt=n.remove=function(E,w){return zr(w._config.hash(E),E,w)};_.prototype.remove=_.prototype.delete=function(E){return Yt(E,this)};var zt=n.beginMutation=function(E){return new _(E._editable+1,E._edit+1,E._config,E._root,E._size)};_.prototype.beginMutation=function(){return zt(this)};var Hg=n.endMutation=function(E){return E._editable=E._editable&&E._editable-1,E};_.prototype.endMutation=function(){return Hg(this)};var AR=n.mutate=function(E,w){var N=zt(w);return E(N),Hg(N)};_.prototype.mutate=function(E){return AR(E,this)};var yh=function(w){return w&&Wg(w[0],w[1],w[2],w[3],w[4])},Wg=function(w,N,x,M,H){for(;x<w;){var ee=N[x++];if(ee&&!I(ee))return qg(ee,M,[w,N,x,M,H])}return yh(H)},qg=function(w,N,x){switch(w.type){case d:return{value:N(w),rest:x};case y:case R:case T:var M=w.children;return Wg(M.length,M,0,N,x);default:return yh(x)}},NR={done:!0};function vh(E){this.v=E}vh.prototype.next=function(){if(!this.v)return NR;var E=this.v;return this.v=yh(E.rest),E},vh.prototype[Symbol.iterator]=function(){return this};var wh=function(w,N){return new vh(qg(w._root,N))},bR=function(w){return[w.key,w.value]},OR=n.entries=function(E){return wh(E,bR)};_.prototype.entries=_.prototype[Symbol.iterator]=function(){return OR(this)};var DR=function(w){return w.key},LR=n.keys=function(E){return wh(E,DR)};_.prototype.keys=function(){return LR(this)};var PR=function(w){return w.value},$R=n.values=_.prototype.values=function(E){return wh(E,PR)};_.prototype.values=function(){return $R(this)};var Kg=n.fold=function(E,w,N){var x=N._root;if(x.type===d)return E(w,x.value,x.key);for(var M=[x.children],H=void 0;H=M.pop();)for(var ee=0,X=H.length;ee<X;){var J=H[ee++];J&&J.type&&(J.type===d?w=E(w,J.value,J.key):M.push(J.children))}return w};_.prototype.fold=function(E,w){return Kg(E,w,this)};var xR=n.forEach=function(E,w){return Kg(function(N,x,M){return E(x,M,w)},null,w)};_.prototype.forEach=function(E){return xR(E,this)};var MR=n.count=function(E){return E._size};_.prototype.count=function(){return MR(this)},Object.defineProperty(_.prototype,"size",{get:_.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class hM{constructor(e){se(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Ag(this)}toMap(){return new Map(this._map)}}class Cg{constructor(e){if(se(this,"_hamt",cM.empty.beginMutation()),e instanceof Cg){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Ag(this)}toMap(){return new Map(this._hamt)}}function Ag(t){return Ee("recoil_hamt_2020")?new Cg(t):new hM(t)}var fM={persistentMap:Ag},dM=fM.persistentMap,pM=Object.freeze({__proto__:null,persistentMap:dM});function mM(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Vo=mM;function gM(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Ql=gM;function yM(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function vM(t){return{nodeDeps:Ql(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Ql(t.nodeToNodeSubscriptions,e=>new Set(e))}}function pf(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:Vo(e,o);for(const u of a)s.has(u)||s.set(u,new Set),Pe(s.get(u)).add(t);if(o){const u=Vo(o,e);for(const l of u){if(!s.has(l))return;const c=Pe(s.get(l));c.delete(t),c.size===0&&s.delete(l)}}}function wM(t,e,n,r){var i,s,o,a;const u=n.getState();r===u.currentTree.version||r===((i=u.nextTree)===null||i===void 0?void 0:i.version)||((s=u.previousTree)===null||s===void 0||s.version);const l=n.getGraph(r);if(pf(t,e,l),r===((o=u.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(u.currentTree.version);pf(t,e,h,l)}if(r===((a=u.previousTree)===null||a===void 0?void 0:a.version)||r===u.currentTree.version){var c;const h=(c=u.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const f=n.getGraph(h);pf(t,e,f,l)}}}var Za={cloneGraph:vM,graph:yM,saveDepsToStore:wM};let SM=0;const _M=()=>SM++;let EM=0;const TM=()=>EM++;let IM=0;const RM=()=>IM++;var rh={getNextTreeStateVersion:_M,getNextStoreID:TM,getNextComponentID:RM};const{persistentMap:C0}=pM,{graph:kM}=Za,{getNextTreeStateVersion:sI}=rh;function oI(){const t=sI();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:C0(),nonvalidatedAtoms:C0()}}function CM(){const t=oI();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,kM()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var aI={makeEmptyTreeState:oI,makeEmptyStoreState:CM,getNextTreeStateVersion:sI};class uI{}function AM(){return new uI}var ih={RetentionZone:uI,retentionZone:AM};function NM(t,e){const n=new Set(t);return n.add(e),n}function bM(t,e){const n=new Set(t);return n.delete(e),n}function OM(t,e,n){const r=new Map(t);return r.set(e,n),r}function DM(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function LM(t,e){const n=new Map(t);return n.delete(e),n}function PM(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var lI={setByAddingToSet:NM,setByDeletingFromSet:bM,mapBySettingInMap:OM,mapByUpdatingInMap:DM,mapByDeletingFromMap:LM,mapByDeletingMultipleFromMap:PM};function*$M(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Ng=$M;function xM(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var cI=xM;const{getNode:eu,getNodeMaybe:MM,recoilValuesForKeys:A0}=Ft,{RetentionZone:N0}=ih,{setByAddingToSet:UM}=lI,VM=Object.freeze(new Set);class FM extends Error{}function BM(t,e,n){if(!Ee("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof N0)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ee("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const u=s.nodesRetainedByZone.get(a);u==null||u.delete(e),u&&u.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof N0)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function bg(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=eu(n),o=BM(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function zM(t,e,n){bg(t,t.getState().currentTree,e,n)}function jM(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function HM(t,e,n){return bg(t,e,n,"get"),eu(n).get(t,e)}function hI(t,e,n){return eu(n).peek(t,e)}function WM(t,e,n){var r;const i=MM(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:UM(t.dirtyAtoms,e)}}function qM(t,e,n,r){const i=eu(n);if(i.set==null)throw new FM(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return bg(t,e,n,"set"),s(t,e,r)}function KM(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=eu(n).nodeType;return cI({type:s},{loadable:()=>hI(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return A0((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:A0(Ng(fI(t,e,new Set([n])),u=>u!==n)),components:nh((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([u])=>({name:u}))}}})}function fI(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const u=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:VM;for(const l of u)r.has(l)||i.push(l)}return r}var Fr={getNodeLoadable:HM,peekNodeLoadable:hI,setNodeValue:qM,initializeNode:zM,cleanUpNode:jM,setUnvalidatedAtomValue_DEPRECATED:WM,peekNodeInfo:KM,getDownstreamNodes:fI};let dI=null;function GM(t){dI=t}function QM(){var t;(t=dI)===null||t===void 0||t()}var pI={setInvalidateMemoizedSnapshot:GM,invalidateMemoizedSnapshot:QM};const{getDownstreamNodes:YM,getNodeLoadable:mI,setNodeValue:XM}=Fr,{getNextComponentID:JM}=rh,{getNode:ZM,getNodeMaybe:gI}=Ft,{DefaultValue:Og}=Ft,{reactMode:eU}=Ja,{AbstractRecoilValue:tU,RecoilState:nU,RecoilValueReadOnly:rU,isRecoilValue:iU}=Ls,{invalidateMemoizedSnapshot:sU}=pI;function oU(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=mI(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function aU(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Og?n.delete(i):n.set(i,r)}),n}function uU(t,e,{key:n},r){if(typeof r=="function"){const i=mI(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw le(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function lU(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=uU(t,e,i,s),a=XM(t,e,i.key,o);for(const[u,l]of a.entries())Hd(e,u,l)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Hd(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=gI(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else Rg(`Unknown action ${n.type}`)}function Hd(t,e,n){n.state==="hasValue"&&n.contents instanceof Og?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function yI(t,e){t.replaceState(n=>{const r=vI(n);for(const i of e)lU(t,r,i);return wI(t,r),sU(),r})}function sh(t,e){if(Fo.length){const n=Fo[Fo.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else yI(t,[e])}const Fo=[];function cU(){const t=new Map;return Fo.push(t),()=>{for(const[e,n]of t)yI(e,n);Fo.pop()}}function vI(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function wI(t,e){const n=YM(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=gI(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function SI(t,e,n){sh(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function hU(t,e,n){if(n instanceof Og)return SI(t,e,n);sh(t,{type:"setLoadable",recoilValue:e,loadable:n})}function fU(t,e){sh(t,{type:"markModified",recoilValue:e})}function dU(t,e,n){sh(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function pU(t,{key:e},n,r=null){const i=JM(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Pe(s.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]);const o=eU();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),u=a.nodeToComponentSubscriptions.get(e);u===void 0||!u.has(i)||(u.delete(i),u.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function mU(t,e){var n;const{currentTree:r}=t.getState(),i=ZM(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var On={RecoilValueReadOnly:rU,AbstractRecoilValue:tU,RecoilState:nU,getRecoilValueAsLoadable:oU,setRecoilValue:SI,setRecoilValueLoadable:hU,markRecoilValueModified:fU,setUnvalidatedRecoilValue:dU,subscribeToRecoilValue:pU,isRecoilValue:iU,applyAtomValueWrites:aU,batchStart:cU,writeLoadableToTreeState:Hd,invalidateDownstreams:wI,copyTreeState:vI,refreshRecoilValue:mU};function gU(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var yU=gU;const{cleanUpNode:vU}=Fr,{deleteNodeConfigIfPossible:wU,getNode:_I}=Ft,{RetentionZone:EI}=ih,SU=12e4,TI=new Set;function II(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof EI)for(const a of IU(n,o))i.add(a);else i.add(o);const s=_U(t,i);for(const o of s)TU(t,r,o)}function _U(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(u){const l=new Set,c=EU(t,r,u,s,o);for(const m of c){var h;if(_I(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(RI(m).some(C=>n.retention.referenceCounts.get(C))){o.add(m);continue}const S=i.nodeToNodeSubscriptions.get(m);if(S&&yU(S,C=>o.has(C))){o.add(m);continue}s.add(m),l.add(m)}const f=new Set;for(const m of l)for(const S of(p=i.nodeDeps.get(m))!==null&&p!==void 0?p:TI){var p;s.has(S)||f.add(S)}f.size&&a(f)}}function EU(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)u(Pe(n.values().next().value));return o;function u(l){if(r.has(l)||i.has(l)){n.delete(l);return}if(a.has(l))return;const c=s.nodeToNodeSubscriptions.get(l);if(c)for(const h of c)u(h);a.add(l),n.delete(l),o.push(l)}}function TU(t,e,n){if(!Ee("recoil_memory_managament_2020"))return;vU(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=RI(n);for(const u of i){var s;(s=r.retention.nodesRetainedByZone.get(u))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const u=o.nodeDeps.get(n);if(u!==void 0){o.nodeDeps.delete(n);for(const l of u){var a;(a=o.nodeToNodeSubscriptions.get(l))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}wU(n)}function IU(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:TI}function RI(t){const e=_I(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof EI?[e]:e}function RU(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):II(t,new Set([e]))}function kU(t,e,n){var r;if(!Ee("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?kI(t,e):i.set(e,s)}function kI(t,e){if(!Ee("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),RU(t,e)}function CU(t){if(!Ee("recoil_memory_managament_2020"))return;const e=t.getState();II(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function AU(t){return t===void 0?"recoilRoot":t}var Di={SUSPENSE_TIMEOUT_MS:SU,updateRetainCount:kU,updateRetainCountToZero:kI,releaseScheduledRetainablesNow:CU,retainedByOptionWithDefault:AU};const{unstable_batchedUpdates:NU}=F_;var bU={unstable_batchedUpdates:NU};const{unstable_batchedUpdates:OU}=bU;var DU={unstable_batchedUpdates:OU};const{batchStart:LU}=On,{unstable_batchedUpdates:PU}=DU;let Dg=PU;const $U=t=>{Dg=t},xU=()=>Dg,MU=t=>{Dg(()=>{let e=()=>{};try{e=LU(),t()}finally{e()}})};var oh={getBatcher:xU,setBatcher:$U,batchUpdates:MU};function*UU(t){for(const e of t)for(const n of e)yield n}var CI=UU;const AI=typeof Window>"u"||typeof window>"u",VU=t=>!AI&&(t===window||t instanceof Window),FU=typeof navigator<"u"&&navigator.product==="ReactNative";var Lg={isSSR:AI,isReactNative:FU,isWindow:VU};function BU(t,e){let n;return(...i)=>{n||(n={});const s=e(...i);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...i)),n[s]}}function zU(t,e){let n,r;return(...s)=>{const o=e(...s);return n===o||(n=o,r=t(...s)),r}}function jU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var HU={memoizeWithArgsHash:BU,memoizeOneWithArgsHash:zU,memoizeOneWithArgsHashAndInvalidation:jU};const{batchUpdates:Wd}=oh,{initializeNode:WU,peekNodeInfo:qU}=Fr,{graph:KU}=Za,{getNextStoreID:GU}=rh,{DEFAULT_VALUE:QU,recoilValues:b0,recoilValuesForKeys:O0}=Ft,{AbstractRecoilValue:YU,getRecoilValueAsLoadable:XU,setRecoilValue:D0,setUnvalidatedRecoilValue:JU}=On,{updateRetainCount:el}=Di,{setInvalidateMemoizedSnapshot:ZU}=pI,{getNextTreeStateVersion:e2,makeEmptyStoreState:t2}=aI,{isSSR:n2}=Lg,{memoizeOneWithArgsHashAndInvalidation:r2}=HU;class ah{constructor(e,n){se(this,"_store",void 0),se(this,"_refCount",1),se(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),XU(this._store,r))),se(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),se(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return O0(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?b0.values():r.isInitialized===!0?O0(CI([i,s])):Ng(b0.values(),({key:o})=>!i.has(o)&&!s.has(o))}),se(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),qU(this._store,this._store.getState().currentTree,r))),se(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new qd(this,Wd);return r(i),i}),se(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new qd(this,Wd);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:GU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Pe(i.get(r));const s=KU();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw le("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)WU(this._store,r,"get"),el(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){n2||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ee("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ee("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function NI(t,e,n=!1){const r=t.getState(),i=n?e2():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(nh(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function i2(t){const e=new ah(t2());return t!=null?e.map(t):e}const[L0,bI]=r2((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Pe(r.previousTree);return new ah(NI(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});ZU(bI);function s2(t,e="latest"){const n=L0(t,e);return n.isRetained()?n:(bI(),L0(t,e))}class qd extends ah{constructor(e,n){super(NI(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),se(this,"_batch",void 0),se(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{el(s,r.key,1),D0(this.getStore_INTERNAL(),r,i)})}),se(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{el(i,r.key,1),D0(this.getStore_INTERNAL(),r,QU)})}),se(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();Wd(()=>{for(const[s,o]of r.entries())el(i,s,1),JU(i,new YU(s),o)})}),this._batch=n}}var uh={Snapshot:ah,MutableSnapshot:qd,freshSnapshot:i2,cloneSnapshot:s2},o2=uh.Snapshot,a2=uh.MutableSnapshot,u2=uh.freshSnapshot,l2=uh.cloneSnapshot,lh=Object.freeze({__proto__:null,Snapshot:o2,MutableSnapshot:a2,freshSnapshot:u2,cloneSnapshot:l2});function c2(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var h2=c2;const{useRef:f2}=rt;function d2(t){const e=f2(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var P0=d2;const{getNextTreeStateVersion:p2,makeEmptyStoreState:OI}=aI,{cleanUpNode:m2,getDownstreamNodes:g2,initializeNode:y2,setNodeValue:v2,setUnvalidatedAtomValue_DEPRECATED:w2}=Fr,{graph:S2}=Za,{cloneGraph:_2}=Za,{getNextStoreID:DI}=rh,{createMutableSource:mf,reactMode:LI}=Ja,{applyAtomValueWrites:E2}=On,{releaseScheduledRetainablesNow:PI}=Di,{freshSnapshot:T2}=lh,{useCallback:I2,useContext:$I,useEffect:Kd,useMemo:R2,useRef:k2,useState:C2}=rt;function uo(){throw le("This component must be used inside a <RecoilRoot> component.")}const xI=Object.freeze({storeID:DI(),getState:uo,replaceState:uo,getGraph:uo,subscribeToTransactions:uo,addTransactionMetadata:uo});let Gd=!1;function $0(t){if(Gd)throw le("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ee("recoil_memory_managament_2020")&&Ee("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&PI(t);const n=e.currentTree.version,r=p2();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,_2(Pe(e.graphsByVersion.get(n))))}}const MI=rt.createContext({current:xI}),ch=()=>$I(MI),UI=rt.createContext(null);function A2(){return $I(UI)}function Pg(t,e,n){const r=g2(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,u]]of s)u(n)}}function VI(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!LI().early||e.suspendedComponentResolvers.size>0)&&(Pg(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function N2(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,VI(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Rg("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ee("recoil_memory_managament_2020")&&n==null&&PI(t)}finally{e.commitDepth--}}function b2({setNotifyBatcherOfChange:t}){const e=ch(),[,n]=C2([]);return t(()=>n({})),Kd(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Kd(()=>{uM.enqueueExecution("Batcher",()=>{N2(e.current)})}),null}function O2(t,e){const n=OI();return e({set:(r,i)=>{const s=n.currentTree,o=v2(t,s,r.key,i),a=new Set(o.keys()),u=s.nonvalidatedAtoms.clone();for(const l of a)u.delete(l);n.currentTree={...s,dirtyAtoms:h2(s.dirtyAtoms,a),atomValues:E2(s.atomValues,o),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=w2(n.currentTree,s,i)})}}),n}function D2(t){const e=T2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let x0=0;function L2({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=p=>{const m=i.current.graphsByVersion;if(m.has(p))return Pe(m.get(p));const S=S2();return m.set(p,S),S},o=(p,m)=>{if(m==null){const{transactionSubscriptions:S}=h.current.getState(),C=x0++;return S.set(C,p),{release:()=>{S.delete(C)}}}else{const{nodeTransactionSubscriptions:S}=h.current.getState();S.has(m)||S.set(m,new Map);const C=x0++;return Pe(S.get(m)).set(C,p),{release:()=>{const g=S.get(m);g&&(g.delete(C),g.size===0&&S.delete(m))}}}},a=p=>{$0(h.current);for(const m of Object.keys(p))Pe(h.current.getState().nextTree).transactionMetadata[m]=p[m]},u=p=>{$0(h.current);const m=Pe(i.current.nextTree);let S;try{Gd=!0,S=p(m)}finally{Gd=!1}S!==m&&(i.current.nextTree=S,LI().early&&Pg(h.current,i.current,S),Pe(l.current)())},l=k2(null),c=I2(p=>{l.current=p},[l]),h=P0(()=>n!=null?n:{storeID:DI(),getState:()=>i.current,replaceState:u,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),i=P0(()=>t!=null?O2(h.current,t):e!=null?D2(e):OI());const f=R2(()=>mf==null?void 0:mf(i,()=>i.current.currentTree.version),[i]);return Kd(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))y2(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)m2(p,m)}},[h]),be(MI.Provider,{value:h,children:V1(UI.Provider,{value:f,children:[be(b2,{setNotifyBatcherOfChange:c}),r]})})}function P2(t){const{override:e,...n}=t,r=ch();return e===!1&&r.current!==xI?t.children:be(L2,{...n})}function $2(){return ch().current.storeID}var Zn={RecoilRoot:P2,useStoreRef:ch,useRecoilMutableSource:A2,useRecoilStoreID:$2,notifyComponents_FOR_TESTING:Pg,sendEndOfBatchNotifications_FOR_TESTING:VI};function x2(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var M2=x2;const{useEffect:U2,useRef:V2}=rt;function F2(t){const e=V2();return U2(()=>{e.current=t}),e.current}var FI=F2;const{useStoreRef:B2}=Zn,{SUSPENSE_TIMEOUT_MS:z2}=Di,{updateRetainCount:lo}=Di,{RetentionZone:j2}=ih,{useEffect:H2,useRef:W2}=rt,{isSSR:M0}=Lg;function q2(t){if(!!Ee("recoil_memory_managament_2020"))return K2(t)}function K2(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof j2?o:o.key),r=B2();H2(()=>{if(!Ee("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!M0)window.clearTimeout(i.current),i.current=null;else for(const a of n)lo(o,a,1);return()=>{for(const a of n)lo(o,a,-1)}},[r,...n]);const i=W2(),s=FI(n);if(!M0&&(s===void 0||!M2(s,n))){const o=r.current;for(const a of n)lo(o,a,1);if(s)for(const a of s)lo(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)lo(o,a,-1)},z2)}}var $g=q2;function G2(){return"<component name not available>"}var tu=G2;const{batchUpdates:Q2}=oh,{DEFAULT_VALUE:BI}=Ft,{reactMode:Ys,useMutableSource:Y2,useSyncExternalStore:X2}=Ja,{useRecoilMutableSource:J2,useStoreRef:Dn}=Zn,{AbstractRecoilValue:Qd,getRecoilValueAsLoadable:nu,setRecoilValue:Yl,setUnvalidatedRecoilValue:Z2,subscribeToRecoilValue:Ps}=On,{useCallback:Vt,useEffect:$s,useMemo:zI,useRef:Bo,useState:xg}=rt,{setByAddingToSet:eV}=lI;function Mg(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{n.current.getState().suspendedComponentResolvers.add(i)}):t.state==="hasError"?t.contents:le(`Invalid value of loadable atom "${e.key}"`)}function tV(){const t=tu(),e=Dn(),[,n]=xg([]),r=Bo(new Set);r.current=new Set;const i=Bo(new Set),s=Bo(new Map),o=Vt(u=>{const l=s.current.get(u);l&&(l.release(),s.current.delete(u))},[s]),a=Vt((u,l)=>{s.current.has(l)&&n([])},[]);return $s(()=>{const u=e.current;Vo(r.current,i.current).forEach(l=>{if(s.current.has(l))return;const c=Ps(u,new Qd(l),f=>a(f,l),t);s.current.set(l,c),u.getState().nextTree?u.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(u.getState(),l)}):a(u.getState(),l)}),Vo(i.current,r.current).forEach(l=>{o(l)}),i.current=r.current}),$s(()=>{const u=s.current;return Vo(r.current,new Set(u.keys())).forEach(l=>{const c=Ps(e.current,new Qd(l),h=>a(h,l),t);u.set(l,c)}),()=>u.forEach((l,c)=>o(c))},[t,e,o,a]),zI(()=>{function u(m){return S=>{Yl(e.current,m,S)}}function l(m){return()=>Yl(e.current,m,BI)}function c(m){var S;r.current.has(m.key)||(r.current=eV(r.current,m.key));const C=e.current.getState();return nu(e.current,m,Ys().early&&(S=C.nextTree)!==null&&S!==void 0?S:C.currentTree)}function h(m){const S=c(m);return Mg(S,m,e)}function f(m){return[h(m),u(m)]}function p(m){return[c(m),u(m)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:u,getResetRecoilState:l}},[r,e])}const nV={current:0};function rV(t){const e=Dn(),n=tu(),r=Vt(()=>{var a;const u=e.current,l=u.getState(),c=Ys().early&&(a=l.nextTree)!==null&&a!==void 0?a:l.currentTree;return{loadable:nu(u,t,c),key:t.key}},[e,t]),i=Vt(a=>{let u;return()=>{var l,c;const h=a();return(l=u)!==null&&l!==void 0&&l.loadable.is(h.loadable)&&((c=u)===null||c===void 0?void 0:c.key)===h.key?u:(u=h,h)}},[]),s=zI(()=>i(r),[r,i]),o=Vt(a=>{const u=e.current;return Ps(u,t,a,n).release},[e,t,n]);return X2(o,s,s).loadable}function iV(t){const e=Dn(),n=Vt(()=>{var l;const c=e.current,h=c.getState(),f=Ys().early&&(l=h.nextTree)!==null&&l!==void 0?l:h.currentTree;return nu(c,t,f)},[e,t]),r=Vt(()=>n(),[n]),i=tu(),s=Vt((l,c)=>{const h=e.current;return Ps(h,t,()=>{if(!Ee("recoil_suppress_rerender_in_callback"))return c();const p=n();u.current.is(p)||c(),u.current=p},i).release},[e,t,i,n]),o=J2();if(o==null)throw le("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Y2(o,r,s),u=Bo(a);return $s(()=>{u.current=a}),a}function jI(t){const e=Dn(),n=tu(),r=Vt(()=>{var u;const l=e.current,c=l.getState(),h=Ys().early&&(u=c.nextTree)!==null&&u!==void 0?u:c.currentTree;return nu(l,t,h)},[e,t]),i=Vt(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Vt(u=>{const l=i();return u.loadable.is(l.loadable)&&u.key===l.key?u:l},[i]);$s(()=>{const u=Ps(e.current,t,l=>{a(s)},n);return a(s),u.release},[n,t,e,s]);const[o,a]=xg(i);return o.key!==t.key?i().loadable:o.loadable}function sV(t){const e=Dn(),[,n]=xg([]),r=tu(),i=Vt(()=>{var a;const u=e.current,l=u.getState(),c=Ys().early&&(a=l.nextTree)!==null&&a!==void 0?a:l.currentTree;return nu(u,t,c)},[e,t]),s=i(),o=Bo(s);return $s(()=>{o.current=s}),$s(()=>{const a=e.current,u=a.getState(),l=Ps(a,t,h=>{var f;if(!Ee("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(u.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Ee("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=o.current)!==null&&c!==void 0&&c.is(h)||n(h),o.current=h}return l.release},[r,i,t,e]),s}function Ug(t){return Ee("recoil_memory_managament_2020")&&$g(t),{TRANSITION_SUPPORT:jI,SYNC_EXTERNAL_STORE:rV,MUTABLE_SOURCE:iV,LEGACY:sV}[Ys().mode](t)}function HI(t){const e=Dn(),n=Ug(t);return Mg(n,t,e)}function hh(t){const e=Dn();return Vt(n=>{Yl(e.current,t,n)},[e,t])}function oV(t){const e=Dn();return Vt(()=>{Yl(e.current,t,BI)},[e,t])}function aV(t){return[HI(t),hh(t)]}function uV(t){return[Ug(t),hh(t)]}function lV(){const t=Dn();return(e,n={})=>{Q2(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>Z2(t.current,new Qd(i),r))})}}function WI(t){return Ee("recoil_memory_managament_2020")&&$g(t),jI(t)}function qI(t){const e=Dn(),n=WI(t);return Mg(n,t,e)}function cV(t){return[qI(t),hh(t)]}var hV={recoilComponentGetRecoilValueCount_FOR_TESTING:nV,useRecoilInterface:tV,useRecoilState:aV,useRecoilStateLoadable:uV,useRecoilValue:HI,useRecoilValueLoadable:Ug,useResetRecoilState:oV,useSetRecoilState:hh,useSetUnvalidatedAtomValues:lV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:WI,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:qI,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:cV};function fV(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var dV=fV;function pV(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var mV=pV;function gV(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var yV=gV;const{batchUpdates:vV}=oh,{DEFAULT_VALUE:wV,getNode:KI,nodes:SV}=Ft,{useStoreRef:Vg}=Zn,{AbstractRecoilValue:_V,setRecoilValueLoadable:EV}=On,{SUSPENSE_TIMEOUT_MS:TV}=Di,{cloneSnapshot:Xl}=lh,{useCallback:fh,useEffect:GI,useRef:U0,useState:IV}=rt,{isSSR:V0}=Lg;function dh(t){const e=Vg();GI(()=>e.current.subscribeToTransactions(t).release,[t,e])}function F0(t){const e=t.atomValues.toMap(),n=Ql(dV(e,(r,i)=>{const o=KI(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return yV(t.nonvalidatedAtoms.toMap(),n)}function RV(t){dh(fh(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=F0(r),s=F0(n),o=Ql(SV,u=>{var l,c,h,f;return{persistence_UNSTABLE:{type:(l=(c=u.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&l!==void 0?l:"none",backButton:(h=(f=u.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=mV(r.dirtyAtoms,u=>i.has(u)||s.has(u));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function kV(t){dh(fh(e=>{const n=Xl(e,"latest"),r=Xl(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function CV(){const t=Vg(),[e,n]=IV(()=>Xl(t.current)),r=FI(e),i=U0(),s=U0();if(dh(fh(a=>n(Xl(a)),[])),GI(()=>{const a=e.retain();if(i.current&&!V0){var u;window.clearTimeout(i.current),i.current=null,(u=s.current)===null||u===void 0||u.call(s),s.current=null}return a},[e]),r!==e&&!V0){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},TV)}return e}function QI(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;vV(()=>{const o=new Set;for(const l of[i.atomValues.keys(),s.atomValues.keys()])for(const c of l){var a,u;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((u=s.atomValues.get(c))===null||u===void 0?void 0:u.contents)&&KI(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(l=>{EV(t,new _V(l),s.atomValues.has(l)?Pe(s.atomValues.get(l)):wV)}),t.replaceState(l=>({...l,stateID:e.getID()}))})}function AV(){const t=Vg();return fh(e=>QI(t.current,e),[t])}var YI={useRecoilSnapshot:CV,gotoSnapshot:QI,useGotoRecoilSnapshot:AV,useRecoilTransactionObserver:kV,useTransactionObservation_DEPRECATED:RV,useTransactionSubscription_DEPRECATED:dh};const{peekNodeInfo:NV}=Fr,{useStoreRef:bV}=Zn;function OV(){const t=bV();return({key:e})=>NV(t.current,t.current.getState().currentTree,e)}var DV=OV;const{reactMode:LV}=Ja,{RecoilRoot:PV,useStoreRef:$V}=Zn,{useMemo:xV}=rt;function MV(){LV().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=$V().current;return xV(()=>{function e({children:n}){return be(PV,{store_INTERNAL:t,children:n})}return e},[t])}var UV=MV;const{loadableWithValue:VV}=Xa,{initializeNode:FV}=Fr,{DEFAULT_VALUE:BV,getNode:zV}=Ft,{copyTreeState:jV,getRecoilValueAsLoadable:HV,invalidateDownstreams:WV,writeLoadableToTreeState:qV}=On;function B0(t){return zV(t.key).nodeType==="atom"}class KV{constructor(e,n){se(this,"_store",void 0),se(this,"_treeState",void 0),se(this,"_changes",void 0),se(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!B0(r))throw le("Reading selectors within atomicUpdate is not supported");const i=HV(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:le(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),se(this,"set",(r,i)=>{if(!B0(r))throw le("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else FV(this._store,r.key,"set"),this._changes.set(r.key,i)}),se(this,"reset",r=>{this.set(r,BV)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=jV(this._treeState);for(const[n,r]of this._changes)qV(e,n,VV(r));return WV(this._store,e),e}}function GV(t){return e=>{t.replaceState(n=>{const r=new KV(t,n);return e(r),r.newTreeState_INTERNAL()})}}var QV={atomicUpdater:GV},YV=QV.atomicUpdater,XI=Object.freeze({__proto__:null,atomicUpdater:YV});function XV(t,e){if(!t)throw new Error(e)}var JV=XV,To=JV;const{atomicUpdater:ZV}=XI,{batchUpdates:eF}=oh,{DEFAULT_VALUE:tF}=Ft,{useStoreRef:nF}=Zn,{refreshRecoilValue:rF,setRecoilValue:z0}=On,{cloneSnapshot:iF}=lh,{gotoSnapshot:sF}=YI,{useCallback:oF}=rt;class JI{}const aF=new JI;function ZI(t,e,n,r){let i=aF,s;if(eF(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw le(a);const u=cI({...r!=null?r:{},set:(c,h)=>z0(t,c,h),reset:c=>z0(t,c,tF),refresh:c=>rF(t,c),gotoSnapshot:c=>sF(t,c),transact_UNSTABLE:c=>ZV(t)(c)},{snapshot:()=>{const c=iF(t);return s=c.retain(),c}}),l=e(u);if(typeof l!="function")throw le(a);i=l(...n)}),i instanceof JI&&To(!1),Le(i))i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function uF(t,e){const n=nF();return oF((...r)=>ZI(n.current,t,r),e!=null?[...e,n]:void 0)}var eR={recoilCallback:ZI,useRecoilCallback:uF};const{useStoreRef:lF}=Zn,{refreshRecoilValue:cF}=On,{useCallback:hF}=rt;function fF(t){const e=lF();return hF(()=>{const n=e.current;cF(n,t)},[t,e])}var dF=fF;const{atomicUpdater:pF}=XI,{useStoreRef:mF}=Zn,{useMemo:gF}=rt;function yF(t,e){const n=mF();return gF(()=>(...r)=>{pF(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var vF=yF;class wF{constructor(e){se(this,"value",void 0),this.value=e}}var SF={WrappedValue:wF},_F=SF.WrappedValue,tR=Object.freeze({__proto__:null,WrappedValue:_F});const{isFastRefreshEnabled:EF}=Ja;class j0 extends Error{}class TF{constructor(e){var n,r,i;se(this,"_name",void 0),se(this,"_numLeafs",void 0),se(this,"_root",void 0),se(this,"_onHit",void 0),se(this,"_onSet",void 0),se(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,u;let l,c;for(const[C,g]of e){var h,f,p;const d=this._root;if((d==null?void 0:d.type)==="leaf")throw this.invalidCacheError();const y=l;if(l=y?y.branches.get(c):d,l=(h=l)!==null&&h!==void 0?h:{type:"branch",nodeKey:C,parent:y,branches:new Map,branchKey:c},l.type!=="branch"||l.nodeKey!==C)throw this.invalidCacheError();y==null||y.branches.set(c,l),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,l),c=this._mapNodeValue(g),this._root=(p=this._root)!==null&&p!==void 0?p:l}const m=l?(s=l)===null||s===void 0?void 0:s.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const S={type:"leaf",value:n,parent:l,branchKey:c};(o=l)===null||o===void 0||o.branches.set(c,S),this._root=(a=this._root)!==null&&a!==void 0?a:S,this._numLeafs++,this._onSet(S),r==null||(u=r.onNodeVisit)===null||u===void 0||u.call(r,S)};try{i()}catch(s){if(s instanceof j0)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=EF()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Rg(e+(this._name!=null?` - ${this._name}`:"")),new j0}}var IF={TreeCache:TF},RF=IF.TreeCache,nR=Object.freeze({__proto__:null,TreeCache:RF});class kF{constructor(e){var n;se(this,"_maxSize",void 0),se(this,"_size",void 0),se(this,"_head",void 0),se(this,"_tail",void 0),se(this,"_map",void 0),se(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Pe(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var CF={LRUCache:kF},AF=CF.LRUCache,rR=Object.freeze({__proto__:null,LRUCache:AF});const{LRUCache:NF}=rR,{TreeCache:bF}=nR;function OF({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new NF({maxSize:e}),i=new bF({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var H0=OF;function ln(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw le("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Le(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>ln(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return ln(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:ln(s,e)]=o;return ln(i,e,n)}return t instanceof Set?ln(Array.from(t).sort((i,s)=>ln(i,e).localeCompare(ln(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?ln(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${ln(i,e)}:${ln(t[i],e,i)}`).join(",")}}`}function DF(t,e={allowFunctions:!1}){return ln(t,e)}var ph=DF;const{TreeCache:LF}=nR,Au={equality:"reference",eviction:"keep-all",maxSize:1/0};function PF({equality:t=Au.equality,eviction:e=Au.eviction,maxSize:n=Au.maxSize}=Au,r){const i=$F(t);return xF(e,n,i,r)}function $F(t){switch(t){case"reference":return e=>e;case"value":return e=>ph(e)}throw le(`Unrecognized equality policy ${t}`)}function xF(t,e,n,r){switch(t){case"keep-all":return new LF({name:r,mapNodeValue:n});case"lru":return H0({name:r,maxSize:Pe(e),mapNodeValue:n});case"most-recent":return H0({name:r,maxSize:1,mapNodeValue:n})}throw le(`Unrecognized eviction policy ${t}`)}var MF=PF;function UF(t){return()=>null}var VF={startPerfBlock:UF};const{isLoadable:FF,loadableWithError:Nu,loadableWithPromise:BF,loadableWithValue:gf}=Xa,{WrappedValue:iR}=tR,{getNodeLoadable:bu,peekNodeLoadable:zF,setNodeValue:jF}=Fr,{saveDepsToStore:HF}=Za,{DEFAULT_VALUE:WF,getConfigDeletionHandler:qF,getNode:KF,registerNode:W0}=Ft,{isRecoilValue:GF}=Ls,{markRecoilValueModified:q0}=On,{retainedByOptionWithDefault:QF}=Di,{recoilCallback:YF}=eR,{startPerfBlock:XF}=VF;class sR{}const co=new sR,ho=[],Ou=new Map,JF=(()=>{let t=0;return()=>t++})();function oR(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=MF(i!=null?i:{equality:"reference",eviction:"keep-all"},n),u=QF(t.retainedBy_UNSTABLE),l=new Map;let c=0;function h(){return!Ee("recoil_memory_managament_2020")||c>0}function f(_){return _.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return qF(n)!==void 0&&!h()}function m(_,L,P,Z,F){Sn(L,Z,F),S(_,P)}function S(_,L){Fe(_,L)&&_e(_),g(L,!0)}function C(_,L){Fe(_,L)&&(Pe($(_)).stateVersions.clear(),g(L,!1))}function g(_,L){const P=Ou.get(_);if(P!=null){for(const Z of P)q0(Z,Pe(e));L&&Ou.delete(_)}}function d(_,L){let P=Ou.get(L);P==null&&Ou.set(L,P=new Set),P.add(_)}function y(_,L,P,Z,F,ae){return L.then(fe=>{if(!h())throw _e(_),co;const G=gf(fe);return m(_,P,F,G,Z),fe}).catch(fe=>{if(!h())throw _e(_),co;if(Le(fe))return T(_,fe,P,Z,F,ae);const G=Nu(fe);throw m(_,P,F,G,Z),fe})}function T(_,L,P,Z,F,ae){return L.then(fe=>{if(!h())throw _e(_),co;ae.loadingDepKey!=null&&ae.loadingDepPromise===L?P.atomValues.set(ae.loadingDepKey,gf(fe)):_.getState().knownSelectors.forEach(Se=>{P.atomValues.delete(Se)});const G=I(_,P);if(G&&G.state!=="loading"){if((Fe(_,F)||$(_)==null)&&S(_,F),G.state==="hasValue")return G.contents;throw G.contents}if(!Fe(_,F)){const Se=Q(_,P);if(Se!=null)return Se.loadingLoadable.contents}const[Ae,Ke]=O(_,P,F);if(Ae.state!=="loading"&&m(_,P,F,Ae,Ke),Ae.state==="hasError")throw Ae.contents;return Ae.contents}).catch(fe=>{if(fe instanceof sR)throw co;if(!h())throw _e(_),co;const G=Nu(fe);throw m(_,P,F,G,Z),fe})}function R(_,L,P,Z){var F,ae,fe,G;if(Fe(_,Z)||L.version===((F=_.getState())===null||F===void 0||(ae=F.currentTree)===null||ae===void 0?void 0:ae.version)||L.version===((fe=_.getState())===null||fe===void 0||(G=fe.nextTree)===null||G===void 0?void 0:G.version)){var Ae,Ke,Se;HF(n,P,_,(Ae=(Ke=_.getState())===null||Ke===void 0||(Se=Ke.nextTree)===null||Se===void 0?void 0:Se.version)!==null&&Ae!==void 0?Ae:_.getState().currentTree.version)}for(const $e of P)o.add($e)}function O(_,L,P){const Z=XF(n);let F=!0,ae=!0;const fe=()=>{Z(),ae=!1};let G,Ae=!1,Ke;const Se={loadingDepKey:null,loadingDepPromise:null},$e=new Map;function on({key:Yt}){const zt=bu(_,L,Yt);switch($e.set(Yt,zt),F||(R(_,L,new Set($e.keys()),P),C(_,P)),zt.state){case"hasValue":return zt.contents;case"hasError":throw zt.contents;case"loading":throw Se.loadingDepKey=Yt,Se.loadingDepPromise=zt.contents,zt.contents}throw le("Invalid Loadable state")}const zr=Yt=>(...zt)=>{if(ae)throw le("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&To(!1),YF(_,Yt,zt,{node:e})};try{G=r({get:on,getCallback:zr}),G=GF(G)?on(G):G,FF(G)&&(G.state==="hasError"&&(Ae=!0),G=G.contents),Le(G)?G=y(_,G,L,$e,P,Se).finally(fe):fe(),G=G instanceof iR?G.value:G}catch(Yt){G=Yt,Le(G)?G=T(_,G,L,$e,P,Se).finally(fe):(Ae=!0,fe())}return Ae?Ke=Nu(G):Le(G)?Ke=BF(G):Ke=gf(G),F=!1,ze(_,P,$e),R(_,L,new Set($e.keys()),P),[Ke,$e]}function I(_,L){let P=L.atomValues.get(n);if(P!=null)return P;const Z=new Set;try{P=a.get(ae=>(typeof ae!="string"&&To(!1),bu(_,L,ae).contents),{onNodeVisit:ae=>{ae.type==="branch"&&ae.nodeKey!==n&&Z.add(ae.nodeKey)}})}catch(ae){throw le(`Problem with cache lookup for selector "${n}": ${ae.message}`)}if(P){var F;L.atomValues.set(n,P),R(_,L,Z,(F=$(_))===null||F===void 0?void 0:F.executionID)}return P}function A(_,L){const P=I(_,L);if(P!=null)return _e(_),P;const Z=Q(_,L);if(Z!=null){var F;return((F=Z.loadingLoadable)===null||F===void 0?void 0:F.state)==="loading"&&d(_,Z.executionID),Z.loadingLoadable}const ae=JF(),[fe,G]=O(_,L,ae);return fe.state==="loading"?(ue(_,ae,fe,G,L),d(_,ae)):(_e(_),Sn(L,fe,G)),fe}function Q(_,L){const P=CI([l.has(_)?[Pe(l.get(_))]:[],nh(Ng(l,([F])=>F!==_),([,F])=>F)]);function Z(F){for(const[ae,fe]of F)if(!bu(_,L,ae).is(fe))return!0;return!1}for(const F of P){if(F.stateVersions.get(L.version)||!Z(F.depValuesDiscoveredSoFarDuringAsyncWork))return F.stateVersions.set(L.version,!0),F;F.stateVersions.set(L.version,!1)}}function $(_){return l.get(_)}function ue(_,L,P,Z,F){l.set(_,{depValuesDiscoveredSoFarDuringAsyncWork:Z,executionID:L,loadingLoadable:P,stateVersions:new Map([[F.version,!0]])})}function ze(_,L,P){if(Fe(_,L)){const Z=$(_);Z!=null&&(Z.depValuesDiscoveredSoFarDuringAsyncWork=P)}}function _e(_){l.delete(_)}function Fe(_,L){var P;return L===((P=$(_))===null||P===void 0?void 0:P.executionID)}function Ln(_){return Array.from(_.entries()).map(([L,P])=>[L,P.contents])}function Sn(_,L,P){_.atomValues.set(n,L);try{a.set(Ln(P),L)}catch(Z){throw le(`Problem with setting cache for selector "${n}": ${Z.message}`)}}function Bt(_){if(ho.includes(n)){const L=`Recoil selector has circular dependencies: ${ho.slice(ho.indexOf(n)).join(" \u2192 ")}`;return Nu(le(L))}ho.push(n);try{return _()}finally{ho.pop()}}function U(_,L){const P=L.atomValues.get(n);return P!=null?P:a.get(Z=>{var F;return typeof Z!="string"&&To(!1),(F=zF(_,L,Z))===null||F===void 0?void 0:F.contents})}function Y(_,L){return Bt(()=>A(_,L))}function V(_){_.atomValues.delete(n)}function K(_,L){e==null&&To(!1);for(const Z of o){var P;const F=KF(Z);(P=F.clearCache)===null||P===void 0||P.call(F,_,L)}o.clear(),V(L),a.clear(),q0(_,e)}return s!=null?e=W0({key:n,nodeType:"selector",peek:U,get:Y,set:(L,P,Z)=>{let F=!1;const ae=new Map;function fe({key:Se}){if(F)throw le("Recoil: Async selector sets are not currently supported.");const $e=bu(L,P,Se);if($e.state==="hasValue")return $e.contents;if($e.state==="loading"){const on=`Getting value of asynchronous atom or selector "${Se}" in a pending state while setting selector "${n}" is not yet supported.`;throw le(on)}else throw $e.contents}function G(Se,$e){if(F)throw le("Recoil: Async selector sets are not currently supported.");const on=typeof $e=="function"?$e(fe(Se)):$e;jF(L,P,Se.key,on).forEach((Yt,zt)=>ae.set(zt,Yt))}function Ae(Se){G(Se,WF)}const Ke=s({set:G,get:fe,reset:Ae},Z);if(Ke!==void 0)throw Le(Ke)?le("Recoil: Async selector sets are not currently supported."):le("Recoil: selector set should be a void function.");return F=!0,ae},init:f,invalidate:V,clearCache:K,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):e=W0({key:n,nodeType:"selector",peek:U,get:Y,init:f,invalidate:V,clearCache:K,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}oR.value=t=>new iR(t);var xs=oR;const{isLoadable:ZF,loadableWithError:yf,loadableWithPromise:vf,loadableWithValue:xi}=Xa,{WrappedValue:aR}=tR,{peekNodeInfo:eB}=Fr,{DEFAULT_VALUE:qr,DefaultValue:ir,getConfigDeletionHandler:uR,registerNode:tB,setConfigDeletionHandler:nB}=Ft,{isRecoilValue:rB}=Ls,{getRecoilValueAsLoadable:iB,markRecoilValueModified:sB,setRecoilValue:K0,setRecoilValueLoadable:oB}=On,{retainedByOptionWithDefault:aB}=Di,fo=t=>t instanceof aR?t.value:t;function uB(t){const{key:e,persistence_UNSTABLE:n}=t,r=aB(t.retainedBy_UNSTABLE);let i=0;function s(d){return vf(d.then(y=>(o=xi(y),y)).catch(y=>{throw o=yf(y),y}))}let o=Le(t.default)?s(t.default):ZF(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:xi(fo(t.default));o.contents;let a;const u=new Map;function l(d){return d}function c(d,y){const T=y.then(R=>{var O,I;return((I=((O=d.getState().nextTree)!==null&&O!==void 0?O:d.getState().currentTree).atomValues.get(e))===null||I===void 0?void 0:I.contents)===T&&K0(d,g,R),R}).catch(R=>{var O,I;throw((I=((O=d.getState().nextTree)!==null&&O!==void 0?O:d.getState().currentTree).atomValues.get(e))===null||I===void 0?void 0:I.contents)===T&&oB(d,g,yf(R)),R});return T}function h(d,y,T){var R;i++;const O=()=>{var $;i--,($=u.get(d))===null||$===void 0||$.forEach(ue=>ue()),u.delete(d)};if(d.getState().knownAtoms.add(e),o.state==="loading"){const $=()=>{var ue;((ue=d.getState().nextTree)!==null&&ue!==void 0?ue:d.getState().currentTree).atomValues.has(e)||sB(d,g)};o.contents.finally($)}const I=(R=t.effects)!==null&&R!==void 0?R:t.effects_UNSTABLE;if(I!=null){let Fe=function(V){if(ue&&V.key===e){const K=$;return K instanceof ir?f(d,y):Le(K)?vf(K.then(_=>_ instanceof ir?o.toPromise():_)):xi(K)}return iB(d,V)},Ln=function(V){return Fe(V).toPromise()},Sn=function(V){var K;const _=eB(d,(K=d.getState().nextTree)!==null&&K!==void 0?K:d.getState().currentTree,V.key);return ue&&V.key===e&&!($ instanceof ir)?{..._,isSet:!0,loadable:Fe(V)}:_},$=qr,ue=!0,ze=!1,_e=null;const Bt=V=>K=>{if(ue){const _=Fe(g),L=_.state==="hasValue"?_.contents:qr;$=typeof K=="function"?K(L):K,Le($)&&($=$.then(P=>(_e={effect:V,value:P},P)))}else{if(Le(K))throw le("Setting atoms to async values is not implemented.");typeof K!="function"&&(_e={effect:V,value:fo(K)}),K0(d,g,typeof K=="function"?_=>{const L=fo(K(_));return _e={effect:V,value:L},L}:fo(K))}},U=V=>()=>Bt(V)(qr),Y=V=>K=>{var _;const{release:L}=d.subscribeToTransactions(P=>{var Z;let{currentTree:F,previousTree:ae}=P.getState();ae||(ae=F);const fe=(Z=F.atomValues.get(e))!==null&&Z!==void 0?Z:o;if(fe.state==="hasValue"){var G,Ae,Ke,Se;const $e=fe.contents,on=(G=ae.atomValues.get(e))!==null&&G!==void 0?G:o,zr=on.state==="hasValue"?on.contents:qr;((Ae=_e)===null||Ae===void 0?void 0:Ae.effect)!==V||((Ke=_e)===null||Ke===void 0?void 0:Ke.value)!==$e?K($e,zr,!F.atomValues.has(e)):((Se=_e)===null||Se===void 0?void 0:Se.effect)===V&&(_e=null)}},e);u.set(d,[...(_=u.get(d))!==null&&_!==void 0?_:[],L])};for(const V of I)try{const K=V({node:g,storeID:d.storeID,parentStoreID_UNSTABLE:d.parentStoreID,trigger:T,setSelf:Bt(V),resetSelf:U(V),onSet:Y(V),getPromise:Ln,getLoadable:Fe,getInfo_UNSTABLE:Sn});if(K!=null){var A;u.set(d,[...(A=u.get(d))!==null&&A!==void 0?A:[],K])}}catch(K){$=K,ze=!0}if(ue=!1,!($ instanceof ir)){var Q;const V=ze?yf($):Le($)?vf(c(d,$)):xi(fo($));V.contents,y.atomValues.set(e,V),(Q=d.getState().nextTree)===null||Q===void 0||Q.atomValues.set(e,V)}}return O}function f(d,y){var T,R;return(T=(R=y.atomValues.get(e))!==null&&R!==void 0?R:a)!==null&&T!==void 0?T:o}function p(d,y){if(y.atomValues.has(e))return Pe(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const T=y.nonvalidatedAtoms.get(e),R=n.validator(T,qr);return a=R instanceof ir?o:xi(R),a}else return o}function m(){a=void 0}function S(d,y,T){if(y.atomValues.has(e)){const R=Pe(y.atomValues.get(e));if(R.state==="hasValue"&&T===R.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&T instanceof ir)return new Map;return a=void 0,new Map().set(e,xi(T))}function C(){return uR(e)!==void 0&&i<=0}const g=tB({key:e,nodeType:"atom",peek:f,get:p,set:S,init:h,invalidate:m,shouldDeleteConfigOnRelease:C,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return g}function Fg(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return rB(n)?lB({...e,default:n}):uB({...e,default:n})}function lB(t){const e=Fg({...t,default:qr,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ir?r:Pe(t.persistence_UNSTABLE).validator(r,qr)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=xs({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof ir?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return nB(n.key,uR(t.key)),n}Fg.value=t=>new aR(t);var lR=Fg;class cB{constructor(e){var n;se(this,"_map",void 0),se(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var hB={MapCache:cB},fB=hB.MapCache,dB=Object.freeze({__proto__:null,MapCache:fB});const{LRUCache:G0}=rR,{MapCache:pB}=dB,Du={equality:"reference",eviction:"none",maxSize:1/0};function mB({equality:t=Du.equality,eviction:e=Du.eviction,maxSize:n=Du.maxSize}=Du){const r=gB(t);return yB(e,n,r)}function gB(t){switch(t){case"reference":return e=>e;case"value":return e=>ph(e)}throw le(`Unrecognized equality policy ${t}`)}function yB(t,e,n){switch(t){case"keep-all":return new pB({mapKey:n});case"lru":return new G0({mapKey:n,maxSize:Pe(e)});case"most-recent":return new G0({mapKey:n,maxSize:1})}throw le(`Unrecognized eviction policy ${t}`)}var cR=mB;const{setConfigDeletionHandler:vB}=Ft;function wB(t){var e,n;const r=cR({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:u,...l}=t,c="default"in t?t.default:new Promise(()=>{}),h=lR({...l,key:`${t.key}__${(s=ph(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,h),vB(h.key,()=>{r.delete(i)}),h}}var SB=wB;const{setConfigDeletionHandler:_B}=Ft;let EB=0;function TB(t){var e,n;const r=cR({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(f){throw le(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=ph(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${EB++}`,u=f=>t.get(i)(f),l=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=xs({key:a,get:u,set:(m,S)=>f(i)(m,S),cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=xs({key:a,get:u,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),_B(h.key,()=>{r.delete(i)}),h}}var Br=TB;const IB=Br({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function RB(t){return IB(t)}var kB=RB;const CB=Br({key:"__error",get:t=>()=>{throw le(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function AB(t){return CB(t)}var NB=AB;function bB(t){return t}var OB=bB;const{loadableWithError:hR,loadableWithPromise:fR,loadableWithValue:dR}=Xa;function mh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function DB(t){return t!=null&&!Le(t)}function gh(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Yd(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function hs(t,e,n){const r=n.map((i,s)=>i==null?dR(e[s]):Le(i)?fR(i):hR(i));return Yd(t,r)}function LB(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const PB=Br({key:"__waitForNone",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return hs(t,r,i)},dangerouslyAllowMutability:!0}),$B=Br({key:"__waitForAny",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return i.some(s=>!Le(s))?hs(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())Le(a)&&a.then(u=>{r[o]=u,i[o]=void 0,s(hs(t,r,i))}).catch(u=>{i[o]=u,s(hs(t,r,i))})})},dangerouslyAllowMutability:!0}),xB=Br({key:"__waitForAll",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);if(i.every(o=>o==null))return Yd(t,r);const s=i.find(DB);if(s!=null)throw s;return Promise.all(i).then(o=>Yd(t,LB(r,o)))},dangerouslyAllowMutability:!0}),MB=Br({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=gh(t),[r,i]=mh(e,n);return i.every(s=>!Le(s))?hs(t,r,i):Promise.all(i.map((s,o)=>Le(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>hs(t,r,i))},dangerouslyAllowMutability:!0}),UB=Br({key:"__noWait",get:t=>({get:e})=>{try{return xs.value(dR(e(t)))}catch(n){return xs.value(Le(n)?fR(n):hR(n))}},dangerouslyAllowMutability:!0});var VB={waitForNone:PB,waitForAny:$B,waitForAll:xB,waitForAllSettled:MB,noWait:UB};const{RecoilLoadable:FB}=Xa,{DefaultValue:BB}=Ft,{RecoilRoot:zB,useRecoilStoreID:jB}=Zn,{isRecoilValue:HB}=Ls,{retentionZone:WB}=ih,{freshSnapshot:qB}=lh,{useRecoilState:KB,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:GB,useRecoilStateLoadable:QB,useRecoilValue:YB,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:XB,useRecoilValueLoadable:JB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ZB,useResetRecoilState:ez,useSetRecoilState:tz}=hV,{useGotoRecoilSnapshot:nz,useRecoilSnapshot:rz,useRecoilTransactionObserver:iz}=YI,{useRecoilCallback:sz}=eR,{noWait:oz,waitForAll:az,waitForAllSettled:uz,waitForAny:lz,waitForNone:cz}=VB;var Bg={DefaultValue:BB,isRecoilValue:HB,RecoilLoadable:FB,RecoilRoot:zB,useRecoilStoreID:jB,useRecoilBridgeAcrossReactRoots_UNSTABLE:UV,atom:lR,selector:xs,atomFamily:SB,selectorFamily:Br,constSelector:kB,errorSelector:NB,readOnlySelector:OB,noWait:oz,waitForNone:cz,waitForAny:lz,waitForAll:az,waitForAllSettled:uz,useRecoilValue:YB,useRecoilValueLoadable:JB,useRecoilState:KB,useRecoilStateLoadable:QB,useSetRecoilState:tz,useResetRecoilState:ez,useGetRecoilValueInfo_UNSTABLE:DV,useRecoilRefresher_UNSTABLE:dF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ZB,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:XB,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:GB,useRecoilCallback:sz,useRecoilTransaction_UNSTABLE:vF,useGotoRecoilSnapshot:nz,useRecoilSnapshot:rz,useRecoilTransactionObserver_UNSTABLE:iz,snapshot_UNSTABLE:qB,useRetain:$g,retentionZone:WB},hz=Bg.RecoilRoot,r3=Bg.atom,i3=Bg.useRecoilState,pR="en",zg={},Xd={};function mR(){return pR}function fz(t){pR=t}function dz(t){return zg[t]}function pz(t){if(!t)throw new Error("No locale data passed");zg[t.locale]=t,Xd[t.locale.toLowerCase()]=t.locale}function Q0(t){if(zg[t])return t;if(Xd[t.toLowerCase()])return Xd[t.toLowerCase()]}function gR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.localeMatcher||"lookup";switch(n){case"lookup":return Y0(t);case"best fit":return Y0(t);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Y0(t){var e=Q0(t);if(e)return e;for(var n=t.split("-");t.length>1;){n.pop(),t=n.join("-");var r=Q0(t);if(r)return r}}var v={af:function(e){return e==1?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-2);return e==0?"zero":e==1?"one":e==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(e){var n=String(e).split("."),r=!n[1];return e==1&&r?"one":"other"},be:function(e){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},br:function(e){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":e!=0&&r&&o==0?"many":"other"},bs:function(e){var n=String(e).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),u=i.slice(-1),l=i.slice(-2);return s&&o==1&&a!=11||u==1&&l!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||u>=2&&u<=4&&(l<12||l>14)?"few":"other"},ceb:function(e){var n=String(e).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(e){var n=String(e).split("."),r=n[0],i=!n[1];return e==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(e){return e==0?"zero":e==1?"one":e==2?"two":e==3?"few":e==6?"many":"other"},da:function(e){var n=String(e).split("."),r=n[0],i=Number(n[0])==e;return e==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(e){var n=String(e).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(e){return"other"},es:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-6);return e==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(e){return e>=0&&e<2?"one":"other"},fr:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-6);return e>=0&&e<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(e){var n=String(e).split("."),r=Number(n[0])==e;return e==1?"one":e==2?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e){var n=String(e).split("."),r=Number(n[0])==e;return e==1||e==11?"one":e==2||e==12?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},he:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=Number(n[0])==e,o=s&&n[0].slice(-1);return e==1&&i?"one":r==2&&i?"two":i&&(e<0||e>10)&&s&&o==0?"many":"other"},is:function(e){var n=String(e).split("."),r=n[0],i=Number(n[0])==e,s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11||!i?"one":"other"},it:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-6);return e==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ksh:function(e){return e==0?"zero":e==1?"one":"other"},lt:function(e){var n=String(e).split("."),r=n[1]||"",i=Number(n[0])==e,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(e){var n=String(e).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==e,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),u=r.slice(-2),l=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&u>=11&&u<=19?"zero":o==1&&a!=11||i==2&&l==1&&u!=11||i!=2&&l==1?"one":"other"},mk:function(e){var n=String(e).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),u=i.slice(-1),l=i.slice(-2);return s&&o==1&&a!=11||u==1&&l!=11?"one":"other"},mt:function(e){var n=String(e).split("."),r=Number(n[0])==e,i=r&&n[0].slice(-2);return e==1?"one":e==0||i>=2&&i<=10?"few":i>=11&&i<=19?"many":"other"},pa:function(e){return e==0||e==1?"one":"other"},pl:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return e==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(e){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,s=i&&n[0].slice(-2);return e==1&&r?"one":!r||e==0||s>=2&&s<=19?"few":"other"},ru:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(e){return e==1?"one":e==2?"two":"other"},si:function(e){var n=String(e).split("."),r=n[0],i=n[1]||"";return e==0||e==1||r==0&&i==1?"one":"other"},sl:function(e){var n=String(e).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};v.as=v.am;v.az=v.af;v.bg=v.af;v.bn=v.am;v.brx=v.af;v.ca=v.ast;v.ce=v.af;v.chr=v.af;v.de=v.ast;v.ee=v.af;v.el=v.af;v.en=v.ast;v.et=v.ast;v.eu=v.af;v.fa=v.am;v.fi=v.ast;v.fil=v.ceb;v.fo=v.af;v.fur=v.af;v.fy=v.ast;v.gl=v.ast;v.gu=v.am;v.ha=v.af;v.hi=v.am;v.hr=v.bs;v.hsb=v.dsb;v.hu=v.af;v.hy=v.ff;v.ia=v.ast;v.id=v.dz;v.ig=v.dz;v.ja=v.dz;v.jgo=v.af;v.jv=v.dz;v.ka=v.af;v.kea=v.dz;v.kk=v.af;v.kl=v.af;v.km=v.dz;v.kn=v.am;v.ko=v.dz;v.ku=v.af;v.ky=v.af;v.lb=v.af;v.lkt=v.dz;v.lo=v.dz;v.ml=v.af;v.mn=v.af;v.mr=v.af;v.ms=v.dz;v.my=v.dz;v.nb=v.af;v.ne=v.af;v.nl=v.ast;v.nn=v.af;v.no=v.af;v.or=v.af;v.pcm=v.am;v.ps=v.af;v.rm=v.af;v.sah=v.dz;v.sc=v.ast;v.sd=v.af;v.sk=v.cs;v.so=v.af;v.sq=v.af;v.sr=v.bs;v.su=v.dz;v.sv=v.ast;v.sw=v.ast;v.ta=v.af;v.te=v.af;v.th=v.dz;v.ti=v.pa;v.tk=v.af;v.to=v.dz;v.tr=v.af;v.ug=v.af;v.uk=v.ru;v.ur=v.ast;v.uz=v.af;v.vi=v.dz;v.wae=v.af;v.wo=v.dz;v.yi=v.ast;v.yo=v.dz;v.yue=v.dz;v.zh=v.dz;v.zu=v.am;const X0=v;function J0(t){return t==="pt-PT"?t:gz(t)}var mz=/^([a-z0-9]+)/i;function gz(t){var e=t.match(mz);if(!e)throw new TypeError("Invalid locale: ".concat(t));return e[1]}function yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vz(t,e,n){return e&&Z0(t.prototype,e),n&&Z0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Jd=function(){function t(e,n){yz(this,t);var r=t.supportedLocalesOf(e);if(r.length===0)throw new RangeError("Unsupported locale: "+e);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=X0[J0(r[0])]}return vz(t,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return X0[J0(r)]})}}]),t}();function Zd(t){return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function ew(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ew(Object(n),!0).forEach(function(r){wz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nw(t,e){return Tz(t)||Ez(t,e)||_z(t,e)||Sz()}function Sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(t,e){if(!!t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ez(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Tz(t){if(Array.isArray(t))return t}function Iz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rz(t,e,n){return e&&iw(t.prototype,e),n&&iw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var kz=["second","minute","hour","day","week","month","quarter","year"],Cz=["auto","always"],Az=["long","short","narrow"],Nz=["lookup","best fit"],Dr=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Iz(this,t);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(Cz.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(Az.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(Nz.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof e=="string"&&(e=[e]),e.push(mR()),this.locale=t.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");Jd.supportedLocalesOf(this.locale).length>0?this.pluralRules=new Jd(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=gR(this.locale,{localeMatcher:this.localeMatcher})}return Rz(t,[{key:"format",value:function(){var n=sw(arguments),r=nw(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=sw(arguments),r=nw(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var u=[];return a>0&&u.push({type:"literal",value:o.slice(0,a)}),u=u.concat(this.formatNumberToParts(Math.abs(i)).map(function(l){return tw(tw({},l),{},{unit:s})})),a+3<o.length-1&&u.push({type:"literal",value:o.slice(a+3)}),u}},{key:"getRule",value:function(n,r){var i=dz(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[Pz(n)?"past":"future"];if(typeof a=="string")return a;var u=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[u]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),t}();Dr.supportedLocalesOf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string")t=[t];else if(!Array.isArray(t))throw new TypeError('Invalid "locales" argument');return t.filter(function(n){return gR(n,e)})};Dr.addLocale=pz;Dr.setDefaultLocale=fz;Dr.getDefaultLocale=mR;Dr.PluralRules=Jd;var wf='Invalid "unit" argument';function bz(t){if(Zd(t)==="symbol")throw new TypeError(wf);if(typeof t!="string")throw new RangeError("".concat(wf,": ").concat(t));if(t[t.length-1]==="s"&&(t=t.slice(0,t.length-1)),kz.indexOf(t)<0)throw new RangeError("".concat(wf,": ").concat(t));return t}var Oz='Invalid "number" argument';function Dz(t){if(t=Number(t),Number.isFinite&&!Number.isFinite(t))throw new RangeError("".concat(Oz,": ").concat(t));return t}function Lz(t){return 1/t===-1/0}function Pz(t){return t<0||t===0&&Lz(t)}function sw(t){if(t.length<2)throw new TypeError('"unit" argument is required');return[Dz(t[0]),bz(t[1])]}function Jl(t){return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function $z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ow(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xz(t,e,n){return e&&ow(t.prototype,e),n&&ow(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var aw=function(){function t(){$z(this,t),this.cache={}}return xz(t,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var u=a[o];if(Jl(n)!=="object")return;n=n[u]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,u=0,l=r;u<l.length;u++){var c=l[u];Jl(a[c])!=="object"&&(a[c]={}),a=a[c]}return a[o]=s}}]),t}();function ep(t){return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Mz(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Uz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uz(t,e){if(!!t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vz(t,e){for(var n=Mz(t),r;!(r=n()).done;){var i=r.value;if(e(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),e(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(t.join(", ")))}function Fz(){var t=(typeof Intl>"u"?"undefined":ep(Intl))==="object";return t&&typeof Intl.DateTimeFormat=="function"}function tp(t){return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function Bz(t){return jz(t)&&(Array.isArray(t.steps)||Array.isArray(t.gradation)||Array.isArray(t.flavour)||typeof t.flavour=="string"||Array.isArray(t.labels)||typeof t.labels=="string"||Array.isArray(t.units)||typeof t.custom=="function")}var zz={}.constructor;function jz(t){return tp(t)!==void 0&&t!==null&&t.constructor===zz}var xn=60,Zl=60*xn,ii=24*Zl,np=7*ii,rp=30.44*ii,yR=146097/400*ii;function fs(t){switch(t){case"second":return 1;case"minute":return xn;case"hour":return Zl;case"day":return ii;case"week":return np;case"month":return rp;case"year":return yR}}function vR(t){return t.factor!==void 0?t.factor:fs(t.unit||t.formatAs)||1}function va(t){switch(t){case"floor":return Math.floor;default:return Math.round}}function jg(t){switch(t){case"floor":return 1;default:return .5}}function ip(t){return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function wR(t,e){var n=e.prevStep,r=e.timestamp,i=e.now,s=e.future,o=e.round,a;return n&&(n.id||n.unit)&&(a=t["threshold_for_".concat(n.id||n.unit)]),a===void 0&&t.threshold!==void 0&&(a=t.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=t.minTime),ip(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(l,c){return lw(l,c||n&&n.formatAs,{round:o})}})),a===void 0&&t.test&&(t.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?t.formatAs&&n.formatAs&&(a=lw(t.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(t,null,2)),a}function lw(t,e,n){var r=n.round,i=fs(t),s;if(e==="now"?s=fs(t):s=fs(e),i!==void 0&&s!==void 0)return i-s*(1-jg(r))}function cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(n),!0).forEach(function(r){Wz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qz(t,e,n){var r=n.now,i=n.future,s=n.round,o=n.units,a=n.getNextStep;t=Gz(t,o);var u=Kz(t,e,{now:r,future:i,round:s});if(a){if(u){var l=t[t.indexOf(u)-1],c=t[t.indexOf(u)+1];return[l,u,c]}return[void 0,void 0,t[0]]}return u}function Kz(t,e,n){var r=n.now,i=n.future,s=n.round;if(t.length!==0){var o=SR(t,e,{now:r,future:i||e<0,round:s});if(o!==-1){var a=t[o];if(a.granularity){var u=va(s)(Math.abs(e)/vR(a)/a.granularity)*a.granularity;if(u===0&&o>0)return t[o-1]}return a}}}function SR(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=wR(t[r],Hz({prevStep:t[r-1],timestamp:n.now-e*1e3},n));return i===void 0||Math.abs(e)<i?r-1:r===t.length-1?r:SR(t,e,n,r+1)}function Gz(t,e){return t.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?e.indexOf(r)>=0:!0})}function Qz(t,e,n){var r=n.now,i=n.round;if(!!fs(t)){var s=fs(t)*1e3,o=e>r,a=Math.abs(e-r),u=va(i)(a/s)*s;return o?u>0?a-u+Xz(i,s):a-u+1:-(a-u)+Yz(i,s)}}function Yz(t,e){return jg(t)*e}function Xz(t,e){return(1-jg(t))*e+1}var Jz=365*24*60*60*1e3,_R=1e3*Jz;function Zz(t,e,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,u=t.getTime?t.getTime():t,l=function(m){return Qz(m,u,{now:s,round:a})},c=tj(o?e:i,u,{future:o,now:s,round:a,prevStep:o?r:e});if(c!==void 0){var h;if(e&&(e.getTimeToNextUpdate&&(h=e.getTimeToNextUpdate(u,{getTimeToNextUpdateForUnit:l,getRoundFunction:va,now:s,future:o,round:a})),h===void 0)){var f=e.unit||e.formatAs;f&&(h=l(f))}return h===void 0?c:Math.min(h,c)}}function ej(t,e,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=wR(t,{timestamp:e,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?e-a*1e3+1:a===0&&e===r?_R:e+a*1e3}function tj(t,e,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(t){var a=ej(t,e,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?e-r+1:_R}var ER={};function Zi(t){return ER[t]}function TR(t){if(!t)throw new Error("[javascript-time-ago] No locale data passed.");ER[t.locale]=t}const nj=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],sp={steps:nj,labels:"long"};function hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(n),!0).forEach(function(r){rj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const op=fw(fw({},sp),{},{steps:sp.steps.filter(function(t){return t.formatAs!=="second"})}),IR=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:xn,unit:"minute"},{threshold:2.5*xn,granularity:5,factor:xn,unit:"minute"},{threshold:22.5*xn,factor:.5*Zl,unit:"half-hour"},{threshold:42.5*xn,threshold_for_minute:52.5*xn,factor:Zl,unit:"hour"},{threshold:20.5/24*ii,factor:ii,unit:"day"},{threshold:5.5*ii,factor:np,unit:"week"},{threshold:3.5*np,factor:rp,unit:"month"},{threshold:10.5*rp,factor:yR,unit:"year"}],dw={gradation:IR,flavour:"long",units:["now","minute","hour","day","week","month","year"]},ij={gradation:IR,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function RR(t){return t instanceof Date?t:new Date(t)}var ap=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],In={},sj={minTime:function(e,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(e,n){return In[n]||(In[n]={}),In[n].dayMonth||(In[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),In[n].dayMonth.format(RR(e))}},oj={minTime:function(e,n){var r=n.future;if(r){var i=new Date(new Date(e).getFullYear(),0).getTime()-1;return(e-i)/1e3}else{var s=new Date(new Date(e).getFullYear()+1,0).getTime();return(s-e)/1e3}},format:function(e,n){return In[n]||(In[n]={}),In[n].dayMonthYear||(In[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),In[n].dayMonthYear.format(RR(e))}};Fz()?ap.push(sj,oj):ap.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const _i={steps:ap,labels:["mini","short-time","narrow","short"]};function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(r){aj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const uj=mw(mw({},_i),{},{steps:[{formatAs:"now"}].concat(_i.steps)});function gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gw(Object(n),!0).forEach(function(r){lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const up=yw(yw({},_i),{},{steps:_i.steps.filter(function(t){return t.formatAs!=="second"})});function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(r){cj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const hj=ww(ww({},up),{},{steps:[{formatAs:"now"}].concat(up.steps)});function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(r){fj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const dj=Lu(Lu({},_i),{},{steps:_i.steps.filter(function(t){return t.formatAs!=="second"}).map(function(t){return t.formatAs==="minute"?Lu(Lu({},t),{},{minTime:xn}):t})}),wa={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(r){pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const mj=Ew(Ew({},wa),{},{steps:[{formatAs:"now"}].concat(wa.steps)});function Tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(n),!0).forEach(function(r){gj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const lp=Iw(Iw({},wa),{},{steps:wa.steps.filter(function(t){return t.formatAs!=="second"})});function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(n),!0).forEach(function(r){yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const vj=kw(kw({},lp),{},{steps:[{formatAs:"now"}].concat(lp.steps)});function wj(t){switch(t){case"default":case"round":return sp;case"round-minute":return op;case"approximate":return dw;case"time":case"approximate-time":return ij;case"mini":return wa;case"mini-now":return mj;case"mini-minute":return lp;case"mini-minute-now":return vj;case"twitter":return _i;case"twitter-now":return uj;case"twitter-minute":return up;case"twitter-minute-now":return hj;case"twitter-first-minute":return dj;default:return dw}}function ec(t){return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Sj(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=kR(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _j(t,e){return Ij(t)||Tj(t,e)||kR(t,e)||Ej()}function Ej(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kR(t,e){if(!!t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Ij(t){if(Array.isArray(t))return t}function Rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kj(t,e,n){return e&&Aw(t.prototype,e),n&&Aw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Nn=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;Rj(this,t),typeof e=="string"&&(e=[e]),this.locale=Vz(e.concat(t.getDefaultLocale()),Zi),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Dr,this.IntlPluralRules=Dr.PluralRules),this.relativeTimeFormatCache=new aw,this.pluralRulesCache=new aw}return kj(t,[{key:"format",value:function(n,r,i){i||(r&&!Oj(r)?(i=r,r=void 0):i={}),r||(r=op),typeof r=="string"&&(r=wj(r));var s=Cj(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,u=o.labelsType,l;r.now!==void 0&&(l=r.now),l===void 0&&i.now!==void 0&&(l=i.now),l===void 0&&(l=Date.now());var c=(l-s)/1e3,h=i.future||c<0,f=bj(a,Zi(this.locale).now,Zi(this.locale).long,h);if(r.custom){var p=r.custom({now:l,date:new Date(s),time:s,elapsed:c,locale:this.locale});if(p!==void 0)return p}var m=Nj(r.units,a,f),S=i.round||r.round,C=qz(r.gradation||r.steps||op.steps,c,{now:l,units:m,round:S,future:h,getNextStep:!0}),g=_j(C,3),d=g[0],y=g[1],T=g[2],R=this.formatDateForStep(s,y,c,{labels:a,labelsType:u,nowLabel:f,now:l,future:h,round:S})||"";if(i.getTimeToNextUpdate){var O=Zz(s,y,{nextStep:T,prevStep:d,now:l,future:h,round:S});return[R,O]}return R}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,u=s.labelsType,l=s.nowLabel,c=s.now,h=s.future,f=s.round;if(!!r){if(r.format)return r.format(n,this.locale,{formatAs:function(g,d){return o.formatValue(d,g,{labels:a,future:h})},now:c,future:h});var p=r.unit||r.formatAs;if(!p)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(p==="now")return l;var m=Math.abs(i)/vR(r);r.granularity&&(m=va(f)(m/r.granularity)*r.granularity);var S=-1*Math.sign(i)*va(f)(m);switch(S===0&&(h?S=0:S=-0),u){case"long":case"short":case"narrow":return this.getFormatter(u).format(S,p);default:return this.formatValue(S,p,{labels:a,future:h})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",u=n[a]||n;if(typeof u=="string")return u;var l=this.getPluralRules().select(Math.abs(i));return u[l]||u.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=Zi(this.locale),i=Sj(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),t}(),CR="en";Nn.getDefaultLocale=function(){return CR};Nn.setDefaultLocale=function(t){return CR=t};Nn.addDefaultLocale=function(t){if(Nw)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");Nw=!0,Nn.setDefaultLocale(t.locale),Nn.addLocale(t)};var Nw;Nn.addLocale=function(t){TR(t),Dr.addLocale(t)};Nn.locale=Nn.addLocale;Nn.addLabels=function(t,e,n){var r=Zi(t);r||(TR({locale:t}),r=Zi(t)),r[e]=n};function Cj(t){if(t.constructor===Date||Aj(t))return t.getTime();if(typeof t=="number")return t;throw new Error("Unsupported relative time formatter input: ".concat(ec(t),", ").concat(t))}function Aj(t){return ec(t)==="object"&&typeof t.getTime=="function"}function Nj(t,e,n){var r=Object.keys(e);return n&&r.push("now"),t&&(r=t.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function bj(t,e,n,r){var i=t.now||e&&e.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function Oj(t){return typeof t=="string"||Bz(t)}const Dj={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};Nn.addDefaultLocale(Dj);F_.render(be($1.Provider,{value:{firebaseApp:kx,value:Cx},children:be(hz,{children:be(vD,{})})}),document.getElementById("root"));export{rt as A,jj as B,ci as C,uv as D,Uw as E,Ri as F,_d as G,Nn as H,Xj as I,Lj as J,Wj as K,$j as L,Zj as M,Pj as N,xj as O,qj as Q,r3 as R,MA as S,Jj as T,Hj as U,zj as V,Kj as W,lm as _,V1 as a,K_ as b,Mj as c,Vj as d,st as e,kx as f,eD as g,i1 as h,Ss as i,be as j,Tr as k,Na as l,e3 as m,ox as n,Gj as o,Yj as p,n3 as q,te as r,Uj as s,t3 as t,W_ as u,nD as v,Qj as w,i3 as x,Bj as y,Fj as z};
